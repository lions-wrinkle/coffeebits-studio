"use strict";(self.webpackChunkstudio=self.webpackChunkstudio||[]).push([[298],{5298:(t,e,a)=>{a.r(e),a.d(e,{Packs:()=>h,loadPacks:()=>c});var s=a(6998),i=a(7304),n=a(4050),o=a(4393);const r="https://api.atomixwap.xyz";async function c(t){let e=await fetch(`${r}/caffeine-card-pack/get-all`);if(200===e.status){let a=await e.json();if(t){let e=[];const s=t.bathers.nfts.map((t=>t.assetId));for(const t of a.packs)s.includes(t[0])&&e.push(t);return{claimablePacks:e,escrowAddress:a.escrowAddress}}return a.packs}throw new Error(`Can't load packs. Error ${e.status}`)}class h extends s.BasePage{constructor(){super(...arguments),this.ui=document.createElement("div"),this.ui.innerHTML='\n    <h1>Caffeine Cards Packs</h1>\n    <p id="packs-status" class="dark-text text-center">Loading packs...</p>\n    ',this.claimablePacks,this.escrowAddress,this.fetchPacks()}sleep(t){return new Promise((e=>setTimeout(e,t)))}async fetchPacks(){const t=this.ui.querySelector("#packs-status");try{const e=await c(this.holdings);if(this.claimablePacks=e.claimablePacks,this.escrowAddress=e.escrowAddress,this.claimablePacks.length>0){let e="";this.claimablePacks.length>1&&(e="s"),t.textContent=`${this.claimablePacks.length} pack${e} to claim!`}else t.innerHTML='<img src="assets/pack0-0.png" style="width: 240px; opacity: 0.2;" class="mb-3"><br>\n        No pack to open.<br>\n        Make sure Bathers are not listed on marketplaces to see your packs.<br><br>\n        A Caffeine Card is given for every Bather bought in the <a href="https://instantshuffle.com/shuffle/yUSbzq61ZvqTIsSvLycS" target="_blank">Instant Shuffle.</a>\n        ';const a=document.createElement("div");a.className="row row-cols-2 row-cols-md-3 row-cols-lg-4 gy-4 mb-5 justify-content-center",this.ui.append(a);for(const t of this.claimablePacks){const e=document.createElement("div");e.className="col text-center ps-3 pe-3",a.append(e);const s=document.createElement("canvas");s.className="w-100 mb-0";const i=new l(s,t[1],this.algoIndexer);e.append(s),await i.load().then((()=>{const a=document.createElement("div");a.className="dark-text mt-0 pt-0 mb-2 hidden-pack-name",a.style.opacity="0",a.style["max-height"]="0",a.textContent=i.nft.name,e.append(a);const s=document.createElement("button");s.className="open-pack-button",s.textContent="Open",s.dataset.batherId=t[0],s.dataset.caffeineCardId=t[1],s.addEventListener("click",this.openPack.bind(this,i,a),!1),e.append(s)})).catch((t=>{console.log(t)})),this.sleep(300)}}catch(e){console.error(e),t.textContent=e.message}}disableAllButtons(t){this.ui.querySelectorAll(".open-pack-button").forEach((e=>{e===t||e.dataset.opened||(e.className="open-pack-button soft-disabled",e.disabled=!0)}))}enableAllButtons(t){this.ui.querySelectorAll(".open-pack-button").forEach((e=>{e===t||e.dataset.opened||(e.className="open-pack-button",e.disabled=!1)}))}async openPack(t,e,a){const s=a.currentTarget;this.disableAllButtons(s);const i=s.dataset.batherId,o=s.dataset.caffeineCardId;try{s.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>',s.disabled=!0;let a=await this.algodClient.getTransactionParams().do(),c=[n.makeAssetTransferTxnWithSuggestedParamsFromObject({from:this.walletConnect.walletAddress,to:this.walletConnect.walletAddress,amount:0,assetIndex:parseInt(o),suggestedParams:a}),n.makeAssetTransferTxnWithSuggestedParamsFromObject({from:this.escrowAddress,to:this.walletConnect.walletAddress,amount:1,assetIndex:parseInt(o),suggestedParams:a})];n.assignGroupID(c);const h=await this.walletConnect.signTransactions(c),l={batherId:i,txn:btoa(String.fromCharCode.apply(null,h[0])),suggestedParams:a};s.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>\n      Opening...',s.disabled=!0;const d=await fetch(r+"/caffeine-card-pack/claim/",{method:"POST",body:JSON.stringify(l),headers:{Accept:"application/json","Content-Type":"application/json"}});if(200!==d.status){let t;try{t=await d.json()}catch(t){}throw t&&t.error?new Error(t.error):new Error(`Error ${d.status}`)}s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-check-circle-fill" viewBox="0 0 16 16">\n        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>\n      </svg>\n        Opened',s.disabled=!0,s.dataset.opened=!0,t.animate(),e.style.opacity="1",e.style["max-height"]="500px",this.enableAllButtons(s)}catch(t){console.error(t),alert(t.message),s.textContent="Open",s.disabled=!1,this.enableAllButtons(s)}}}class l{constructor(t,e,a){this.caffeineCardId=e,this.algoIndexer=a,this.width=660,this.height=960,this.imageWidth=960,this.numAnimationImage=4,this.canvas=t,this.canvas.width=this.width,this.canvas.height=this.height,this.context=this.canvas.getContext("2d"),this.context.imageSmoothingEnabled=!1,this.context.translate(-(this.imageWidth-this.width)/2,0),this.nft,this.cardImage,this.cardMask,this.animationImages}async load(){await this.loadAllImage()}static loadImage(t){return new Promise(((e,a)=>{const s=new Image;s.onload=()=>{e(s)},s.onerror=a,s.src=t}))}async loadAllImage(){this.animationImages=[];const t=this.caffeineCardId%4,e=await l.loadImage(`assets/pack${t}-0.png`);this.animationImages.push(e),this.drawPack(),this.cardMask=await l.loadImage("assets/card-mask.png");const a=await this.algoIndexer.lookupAssetByID(this.caffeineCardId).do();this.nft=new i.Sm(this.caffeineCardId,a.asset),await this.nft.load(this.algoIndexer);try{this.cardImage=await l.loadImage(this.nft.imageUrl)}catch(t){console.log("Error loading image from primary, trying secondary");try{this.cardImage=await l.loadImage(this.nft.imageUrlAlternate)}catch(t){this.cardImage=await l.loadImage("assets/empty-card.png")}}for(let e=1;e<=this.numAnimationImage;e++){const a=await l.loadImage(`assets/pack${t}-${e}.png`);this.animationImages.push(a)}}async drawPack(){this.context.drawImage(this.animationImages[0],0,0,this.imageWidth,this.height)}static easeInOutQuad(t){return t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2}async animate(){let t=.15,e=1;const a=setInterval((()=>{if(this.context.clearRect(0,0,this.imageWidth,this.height),this.context.drawImage(this.cardMask,0,0,this.imageWidth,this.height),this.context.globalCompositeOperation="source-in",this.context.drawImage(this.cardImage,0,0,this.imageWidth,this.height),this.context.globalCompositeOperation="source-over",this.context.drawImage(this.animationImages[e],0,0,this.imageWidth,this.height),e===this.numAnimationImage){clearInterval(a),o.sparkles(this.canvas),t=.05;const e=.8;let s=0;const i=setInterval((()=>{const a=l.easeInOutQuad(s/e)*this.height;this.context.clearRect(0,0,this.imageWidth,this.height),this.context.drawImage(this.cardMask,0,0,this.imageWidth,this.height),this.context.globalCompositeOperation="source-in",this.context.drawImage(this.cardImage,0,0,this.imageWidth,this.height),this.context.globalCompositeOperation="source-over",this.context.drawImage(this.animationImages[this.numAnimationImage],0,a,this.imageWidth,this.height),s+=t,s>=e&&clearInterval(i)}),1e3*t)}e++}),1e3*t)}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLd0YsV0FBWXhGLEtBQUt1RixRQUduRHZGLEtBQUswRixRQUFReUIsVUFDWG5ILEtBQUsrRixTQUNMLEVBQ0EsRUFDQS9GLEtBQUt3RixXQUNMeEYsS0FBS3VGLFFBR1B2RixLQUFLMEYsUUFBUWtDLHlCQUEyQixZQUd4QzVILEtBQUswRixRQUFReUIsVUFDWG5ILEtBQUs4RixVQUNMLEVBQ0EsRUFDQTlGLEtBQUt3RixXQUNMeEYsS0FBS3VGLFFBR1B2RixLQUFLMEYsUUFBUWtDLHlCQUEyQixjQUd4QzVILEtBQUswRixRQUFReUIsVUFDWG5ILEtBQUtnRyxnQkFBZ0JoRyxLQUFLeUYsbUJBQzFCLEVBQ0F3QyxFQUNBakksS0FBS3dGLFdBQ0x4RixLQUFLdUYsUUFHUHdDLEdBQWVSLEVBRVhRLEdBQWVELEdBQ2pCRCxjQUFjRyxFQUNoQixHQUNpQixJQUFoQlQsRUFDTCxDQUVBQyxHQUFjLEdBQ0csSUFBaEJELEVBQ0wsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRpby8uL3NyYy9wYWdlcy9wYWNrcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlUGFnZSB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IE5GVENvbGxlY3Rpb24gfSBmcm9tIFwiYWxnby1uZnQtdXRpbHNcIjtcbmltcG9ydCBhbGdvc2RrIGZyb20gXCJhbGdvc2RrXCI7XG5pbXBvcnQgeyBORlQgfSBmcm9tIFwiYWxnby1uZnQtdXRpbHNcIjtcbmltcG9ydCBwYXJ0eSBmcm9tIFwicGFydHktanNcIjtcblxuY29uc3QgUEFDS1NfQVBJX1VSTCA9IFwiaHR0cHM6Ly9hcGkuYXRvbWl4d2FwLnh5elwiO1xuLy9jb25zdCBQQUNLU19BUElfVVJMID0gXCJodHRwczovL2xvY2FsaG9zdFwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZFBhY2tzKGhvbGRpbmdzKSB7XG4gIGxldCByZXN1bHQgPSBhd2FpdCBmZXRjaChgJHtQQUNLU19BUElfVVJMfS9jYWZmZWluZS1jYXJkLXBhY2svZ2V0LWFsbGApO1xuXG4gIGlmIChyZXN1bHQuc3RhdHVzID09PSAyMDApIHtcbiAgICBsZXQganNvbiA9IGF3YWl0IHJlc3VsdC5qc29uKCk7XG5cbiAgICBcblxuICAgIGlmIChob2xkaW5ncykge1xuXG4gICAgICBsZXQgY2xhaW1hYmxlUGFja3MgPSBbXTtcblxuICAgICAgLy9jb21wYXJlIHdpdGggaG9sZGluZ3NcbiAgICAgIGNvbnN0IGJhdGhlcnNJZHMgPSBob2xkaW5ncy5iYXRoZXJzLm5mdHMubWFwKChuZnQpID0+IG5mdC5hc3NldElkKTtcblxuICAgICAgZm9yIChjb25zdCBwYWNrIG9mIGpzb24ucGFja3MpIHtcbiAgICAgICAgaWYgKGJhdGhlcnNJZHMuaW5jbHVkZXMocGFja1swXSkpIHtcbiAgICAgICAgICBjbGFpbWFibGVQYWNrcy5wdXNoKHBhY2spO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNsYWltYWJsZVBhY2tzOiBjbGFpbWFibGVQYWNrcyxcbiAgICAgICAgZXNjcm93QWRkcmVzczoganNvbi5lc2Nyb3dBZGRyZXNzLFxuICAgICAgfTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ganNvbi5wYWNrcztcbiAgICB9XG5cbiAgICBcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENhblxcJ3QgbG9hZCBwYWNrcy4gRXJyb3IgJHtyZXN1bHQuc3RhdHVzfWApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQYWNrcyBleHRlbmRzIEJhc2VQYWdlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcblxuICAgIHRoaXMudWkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRoaXMudWkuaW5uZXJIVE1MID0gYFxuICAgIDxoMT5DYWZmZWluZSBDYXJkcyBQYWNrczwvaDE+XG4gICAgPHAgaWQ9XCJwYWNrcy1zdGF0dXNcIiBjbGFzcz1cImRhcmstdGV4dCB0ZXh0LWNlbnRlclwiPkxvYWRpbmcgcGFja3MuLi48L3A+XG4gICAgYDtcblxuICAgIHRoaXMuY2xhaW1hYmxlUGFja3M7XG4gICAgdGhpcy5lc2Nyb3dBZGRyZXNzO1xuXG4gICAgdGhpcy5mZXRjaFBhY2tzKCk7XG4gIH1cblxuICBzbGVlcChkZWxheVRpbWUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXlUaW1lKSk7XG4gIH1cblxuICBhc3luYyBmZXRjaFBhY2tzKCkge1xuICAgIGNvbnN0IHBhY2tTdGF0dXNQID0gdGhpcy51aS5xdWVyeVNlbGVjdG9yKFwiI3BhY2tzLXN0YXR1c1wiKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBsb2FkUGFja3ModGhpcy5ob2xkaW5ncyk7XG5cbiAgICAgIHRoaXMuY2xhaW1hYmxlUGFja3MgPSByZXN1bHQuY2xhaW1hYmxlUGFja3M7XG4gICAgICB0aGlzLmVzY3Jvd0FkZHJlc3MgPSByZXN1bHQuZXNjcm93QWRkcmVzcztcblxuICAgICAgaWYgKHRoaXMuY2xhaW1hYmxlUGFja3MubGVuZ3RoID4gMCkge1xuICAgICAgICBsZXQgcGx1cmFsID0gXCJcIjtcbiAgICAgICAgaWYgKHRoaXMuY2xhaW1hYmxlUGFja3MubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHBsdXJhbCA9IFwic1wiO1xuICAgICAgICB9XG4gICAgICAgIHBhY2tTdGF0dXNQLnRleHRDb250ZW50ID0gYCR7dGhpcy5jbGFpbWFibGVQYWNrcy5sZW5ndGh9IHBhY2ske3BsdXJhbH0gdG8gY2xhaW0hYDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhY2tTdGF0dXNQLmlubmVySFRNTCA9IGA8aW1nIHNyYz1cImFzc2V0cy9wYWNrMC0wLnBuZ1wiIHN0eWxlPVwid2lkdGg6IDI0MHB4OyBvcGFjaXR5OiAwLjI7XCIgY2xhc3M9XCJtYi0zXCI+PGJyPlxuICAgICAgICBObyBwYWNrIHRvIG9wZW4uPGJyPlxuICAgICAgICBNYWtlIHN1cmUgQmF0aGVycyBhcmUgbm90IGxpc3RlZCBvbiBtYXJrZXRwbGFjZXMgdG8gc2VlIHlvdXIgcGFja3MuPGJyPjxicj5cbiAgICAgICAgQSBDYWZmZWluZSBDYXJkIGlzIGdpdmVuIGZvciBldmVyeSBCYXRoZXIgYm91Z2h0IGluIHRoZSA8YSBocmVmPVwiaHR0cHM6Ly9pbnN0YW50c2h1ZmZsZS5jb20vc2h1ZmZsZS95VVNienE2MVp2cVRJc1N2THljU1wiIHRhcmdldD1cIl9ibGFua1wiPkluc3RhbnQgU2h1ZmZsZS48L2E+XG4gICAgICAgIGA7XG4gICAgICB9XG5cbiAgICAgIC8vZGlzcGxheSBwYWNrIGxpc3RcbiAgICAgIGNvbnN0IHBhY2tzRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIHBhY2tzRGl2LmNsYXNzTmFtZSA9XG4gICAgICAgIFwicm93IHJvdy1jb2xzLTIgcm93LWNvbHMtbWQtMyByb3ctY29scy1sZy00IGd5LTQgbWItNSBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCI7XG4gICAgICB0aGlzLnVpLmFwcGVuZChwYWNrc0Rpdik7XG5cbiAgICAgIGZvciAoY29uc3QgcGFjayBvZiB0aGlzLmNsYWltYWJsZVBhY2tzKSB7XG4gICAgICAgIGNvbnN0IHBhY2tEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBwYWNrRGl2LmNsYXNzTmFtZSA9IFwiY29sIHRleHQtY2VudGVyIHBzLTMgcGUtM1wiO1xuICAgICAgICBwYWNrc0Rpdi5hcHBlbmQocGFja0Rpdik7XG5cbiAgICAgICAgLypjb25zdCBncmFwaGljRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZ3JhcGhpY0Rpdi5jbGFzc05hbWUgPSAnJztcbiAgICAgICAgZ3JhcGhpY0Rpdi5pbm5lckhUTUwgPSBgPGltZyBzcmM9XCJhc3NldHMvcGFjazAucG5nXCIgY2xhc3M9XCJ3LTEwMCBtYi0yXCI+YDtcbiAgICAgICAgcGFja0Rpdi5hcHBlbmQoZ3JhcGhpY0Rpdik7Ki9cblxuICAgICAgICBjb25zdCBwYWNrQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICAgICAgcGFja0NhbnZhcy5jbGFzc05hbWUgPSBcInctMTAwIG1iLTBcIjtcbiAgICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBQYWNrQ2FudmFzQ29udHJvbGxlcihcbiAgICAgICAgICBwYWNrQ2FudmFzLFxuICAgICAgICAgIHBhY2tbMV0sXG4gICAgICAgICAgdGhpcy5hbGdvSW5kZXhlclxuICAgICAgICApO1xuICAgICAgICBwYWNrRGl2LmFwcGVuZChwYWNrQ2FudmFzKTtcblxuICAgICAgICBhd2FpdCBjb250cm9sbGVyXG4gICAgICAgICAgLmxvYWQoKVxuICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGhpZGRlbk5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgaGlkZGVuTmFtZS5jbGFzc05hbWUgPSBcImRhcmstdGV4dCBtdC0wIHB0LTAgbWItMiBoaWRkZW4tcGFjay1uYW1lXCI7XG4gICAgICAgICAgICBoaWRkZW5OYW1lLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcbiAgICAgICAgICAgIGhpZGRlbk5hbWUuc3R5bGVbXCJtYXgtaGVpZ2h0XCJdID0gXCIwXCI7XG4gICAgICAgICAgICAvL2hpZGRlbk5hbWUuaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgIGhpZGRlbk5hbWUudGV4dENvbnRlbnQgPSBjb250cm9sbGVyLm5mdC5uYW1lO1xuICAgICAgICAgICAgcGFja0Rpdi5hcHBlbmQoaGlkZGVuTmFtZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IG9wZW5CdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICAgICAgb3BlbkJ1dHRvbi5jbGFzc05hbWUgPSBcIm9wZW4tcGFjay1idXR0b25cIjtcbiAgICAgICAgICAgIG9wZW5CdXR0b24udGV4dENvbnRlbnQgPSBcIk9wZW5cIjtcbiAgICAgICAgICAgIG9wZW5CdXR0b24uZGF0YXNldC5iYXRoZXJJZCA9IHBhY2tbMF07XG4gICAgICAgICAgICBvcGVuQnV0dG9uLmRhdGFzZXQuY2FmZmVpbmVDYXJkSWQgPSBwYWNrWzFdO1xuICAgICAgICAgICAgb3BlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICBcImNsaWNrXCIsXG4gICAgICAgICAgICAgIHRoaXMub3BlblBhY2suYmluZCh0aGlzLCBjb250cm9sbGVyLCBoaWRkZW5OYW1lKSxcbiAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBwYWNrRGl2LmFwcGVuZChvcGVuQnV0dG9uKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuc2xlZXAoMzAwKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcblxuICAgICAgcGFja1N0YXR1c1AudGV4dENvbnRlbnQgPSBlcnIubWVzc2FnZTtcbiAgICAgIC8vYWxlcnQoZXJyLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIGRpc2FibGVBbGxCdXR0b25zKGV4Y2VwdCkge1xuICAgIGNvbnN0IGJ1dHRvbnMgPSB0aGlzLnVpLnF1ZXJ5U2VsZWN0b3JBbGwoXCIub3Blbi1wYWNrLWJ1dHRvblwiKTtcblxuICAgIGJ1dHRvbnMuZm9yRWFjaCgoYikgPT4ge1xuICAgICAgaWYgKGIgIT09IGV4Y2VwdCAmJiAhYi5kYXRhc2V0Lm9wZW5lZCkge1xuICAgICAgICBiLmNsYXNzTmFtZSA9IFwib3Blbi1wYWNrLWJ1dHRvbiBzb2Z0LWRpc2FibGVkXCI7XG4gICAgICAgIGIuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlQWxsQnV0dG9ucyhleGNlcHQpIHtcbiAgICBjb25zdCBidXR0b25zID0gdGhpcy51aS5xdWVyeVNlbGVjdG9yQWxsKFwiLm9wZW4tcGFjay1idXR0b25cIik7XG5cbiAgICBidXR0b25zLmZvckVhY2goKGIpID0+IHtcbiAgICAgIGlmIChiICE9PSBleGNlcHQgJiYgIWIuZGF0YXNldC5vcGVuZWQpIHtcbiAgICAgICAgYi5jbGFzc05hbWUgPSBcIm9wZW4tcGFjay1idXR0b25cIjtcbiAgICAgICAgYi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgb3BlblBhY2socGFja0NhbnZhc0NvbnRyb2xsZXIsIGhpZGRlbk5hbWUsIGV2ZW50KSB7XG4gICAgY29uc3QgY2FsbGluZ0J1dHRvbiA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG5cbiAgICB0aGlzLmRpc2FibGVBbGxCdXR0b25zKGNhbGxpbmdCdXR0b24pO1xuXG4gICAgY29uc3QgYmF0aGVySWQgPSBjYWxsaW5nQnV0dG9uLmRhdGFzZXQuYmF0aGVySWQ7XG4gICAgY29uc3QgY2FmZmVpbmVDYXJkSWQgPSBjYWxsaW5nQnV0dG9uLmRhdGFzZXQuY2FmZmVpbmVDYXJkSWQ7XG5cbiAgICB0cnkge1xuICAgICAgY2FsbGluZ0J1dHRvbi5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9XCJzcGlubmVyLWJvcmRlciBzcGlubmVyLWJvcmRlci1zbVwiIHJvbGU9XCJzdGF0dXNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L3NwYW4+YDtcbiAgICAgIGNhbGxpbmdCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuXG4gICAgICBsZXQgc3VnZ2VzdGVkUGFyYW1zID0gYXdhaXQgdGhpcy5hbGdvZENsaWVudC5nZXRUcmFuc2FjdGlvblBhcmFtcygpLmRvKCk7XG5cbiAgICAgIC8vcHJlcGFyZSBvcHRpbiB0eG5cbiAgICAgIGxldCBvcHRpblR4biA9IGFsZ29zZGsubWFrZUFzc2V0VHJhbnNmZXJUeG5XaXRoU3VnZ2VzdGVkUGFyYW1zRnJvbU9iamVjdCh7XG4gICAgICAgIGZyb206IHRoaXMud2FsbGV0Q29ubmVjdC53YWxsZXRBZGRyZXNzLFxuICAgICAgICB0bzogdGhpcy53YWxsZXRDb25uZWN0LndhbGxldEFkZHJlc3MsXG4gICAgICAgIGFtb3VudDogMCxcbiAgICAgICAgYXNzZXRJbmRleDogcGFyc2VJbnQoY2FmZmVpbmVDYXJkSWQpLFxuICAgICAgICBzdWdnZXN0ZWRQYXJhbXM6IHN1Z2dlc3RlZFBhcmFtcyxcbiAgICAgIH0pO1xuXG4gICAgICAvL3ByZXBhcmUgdHJhbnNmZXIgdHhuXG4gICAgICBsZXQgdHJhbnNmZXJUeG4gPVxuICAgICAgICBhbGdvc2RrLm1ha2VBc3NldFRyYW5zZmVyVHhuV2l0aFN1Z2dlc3RlZFBhcmFtc0Zyb21PYmplY3Qoe1xuICAgICAgICAgIGZyb206IHRoaXMuZXNjcm93QWRkcmVzcyxcbiAgICAgICAgICB0bzogdGhpcy53YWxsZXRDb25uZWN0LndhbGxldEFkZHJlc3MsXG4gICAgICAgICAgYW1vdW50OiAxLFxuICAgICAgICAgIGFzc2V0SW5kZXg6IHBhcnNlSW50KGNhZmZlaW5lQ2FyZElkKSxcbiAgICAgICAgICBzdWdnZXN0ZWRQYXJhbXM6IHN1Z2dlc3RlZFBhcmFtcyxcbiAgICAgICAgfSk7XG5cbiAgICAgIGxldCBhbGxUeG5zID0gW29wdGluVHhuLCB0cmFuc2ZlclR4bl07XG4gICAgICBhbGdvc2RrLmFzc2lnbkdyb3VwSUQoYWxsVHhucyk7XG5cbiAgICAgIGNvbnN0IHNpZ25lZFR4bnMgPSBhd2FpdCB0aGlzLndhbGxldENvbm5lY3Quc2lnblRyYW5zYWN0aW9ucyhhbGxUeG5zKTtcblxuICAgICAgY29uc3Qgc2lnbmVkVHhuSnNvbiA9IHtcbiAgICAgICAgYmF0aGVySWQ6IGJhdGhlcklkLFxuICAgICAgICB0eG46IGJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBzaWduZWRUeG5zWzBdKSksXG4gICAgICAgIHN1Z2dlc3RlZFBhcmFtczogc3VnZ2VzdGVkUGFyYW1zLFxuICAgICAgfTtcblxuICAgICAgY2FsbGluZ0J1dHRvbi5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9XCJzcGlubmVyLWJvcmRlciBzcGlubmVyLWJvcmRlci1zbVwiIHJvbGU9XCJzdGF0dXNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L3NwYW4+XG4gICAgICBPcGVuaW5nLi4uYDtcbiAgICAgIGNhbGxpbmdCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuXG4gICAgICAvL2NhbGwgYXBpXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBQQUNLU19BUElfVVJMICsgXCIvY2FmZmVpbmUtY2FyZC1wYWNrL2NsYWltL1wiLFxuICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShzaWduZWRUeG5Kc29uKSxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBBY2NlcHQ6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgIC8vY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgICBjYWxsaW5nQnV0dG9uLmlubmVySFRNTCA9IGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgY2xhc3M9XCJiaSBiaS1jaGVjay1jaXJjbGUtZmlsbFwiIHZpZXdCb3g9XCIwIDAgMTYgMTZcIj5cbiAgICAgICAgPHBhdGggZD1cIk0xNiA4QTggOCAwIDEgMSAwIDhhOCA4IDAgMCAxIDE2IDB6bS0zLjk3LTMuMDNhLjc1Ljc1IDAgMCAwLTEuMDguMDIyTDcuNDc3IDkuNDE3IDUuMzg0IDcuMzIzYS43NS43NSAwIDAgMC0xLjA2IDEuMDZMNi45NyAxMS4wM2EuNzUuNzUgMCAwIDAgMS4wNzktLjAybDMuOTkyLTQuOTlhLjc1Ljc1IDAgMCAwLS4wMS0xLjA1elwiLz5cbiAgICAgIDwvc3ZnPlxuICAgICAgICBPcGVuZWRgO1xuICAgICAgICBjYWxsaW5nQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgY2FsbGluZ0J1dHRvbi5kYXRhc2V0Lm9wZW5lZCA9IHRydWU7XG5cbiAgICAgICAgLy9hbmltYXRlIHBhY2sgb3BlbmluZ1xuICAgICAgICBwYWNrQ2FudmFzQ29udHJvbGxlci5hbmltYXRlKCk7XG5cbiAgICAgICAgaGlkZGVuTmFtZS5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XG4gICAgICAgIGhpZGRlbk5hbWUuc3R5bGVbXCJtYXgtaGVpZ2h0XCJdID0gXCI1MDBweFwiO1xuXG4gICAgICAgIHRoaXMuZW5hYmxlQWxsQnV0dG9ucyhjYWxsaW5nQnV0dG9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBkYXRhO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7fVxuXG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEuZXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5lcnJvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgYWxlcnQoZXJyLm1lc3NhZ2UpO1xuXG4gICAgICBjYWxsaW5nQnV0dG9uLnRleHRDb250ZW50ID0gXCJPcGVuXCI7XG4gICAgICBjYWxsaW5nQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG5cbiAgICAgIHRoaXMuZW5hYmxlQWxsQnV0dG9ucyhjYWxsaW5nQnV0dG9uKTtcbiAgICB9XG4gIH1cbn1cblxuY2xhc3MgUGFja0NhbnZhc0NvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcihjYW52YXMsIGNhZmZlaW5lQ2FyZElkLCBhbGdvSW5kZXhlcikge1xuICAgIHRoaXMuY2FmZmVpbmVDYXJkSWQgPSBjYWZmZWluZUNhcmRJZDtcbiAgICB0aGlzLmFsZ29JbmRleGVyID0gYWxnb0luZGV4ZXI7XG5cbiAgICB0aGlzLndpZHRoID0gNjYwO1xuICAgIHRoaXMuaGVpZ2h0ID0gOTYwO1xuICAgIHRoaXMuaW1hZ2VXaWR0aCA9IDk2MDtcblxuICAgIHRoaXMubnVtQW5pbWF0aW9uSW1hZ2UgPSA0O1xuXG4gICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLndpZHRoO1xuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuXG4gICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgIHRoaXMuY29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcblxuICAgIC8vdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9ICdyZWQnO1xuICAgIC8vdGhpcy5jb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcblxuICAgIHRoaXMuY29udGV4dC50cmFuc2xhdGUoLSh0aGlzLmltYWdlV2lkdGggLSB0aGlzLndpZHRoKSAvIDIsIDApO1xuXG4gICAgLy9sb2FkIGFuaW1hdGlvbiBpbWFnZXNcbiAgICAvL2xvYWQgY2FmZmVpbmUgY2FyZCBpbWFnZVxuXG4gICAgdGhpcy5uZnQ7XG5cbiAgICB0aGlzLmNhcmRJbWFnZTtcbiAgICB0aGlzLmNhcmRNYXNrO1xuICAgIHRoaXMuYW5pbWF0aW9uSW1hZ2VzO1xuICB9XG5cbiAgYXN5bmMgbG9hZCgpIHtcbiAgICBhd2FpdCB0aGlzLmxvYWRBbGxJbWFnZSgpO1xuICB9XG5cbiAgc3RhdGljIGxvYWRJbWFnZShwYXRoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG5cbiAgICAgIC8vaW1hZ2UuY3Jvc3NPcmlnaW4gPSAnQW5vbnltb3VzJztcblxuICAgICAgaW1hZ2Uub25sb2FkID0gKCkgPT4ge1xuICAgICAgICByZXNvbHZlKGltYWdlKTtcbiAgICAgIH07XG5cbiAgICAgIGltYWdlLm9uZXJyb3IgPSByZWplY3Q7XG5cbiAgICAgIGltYWdlLnNyYyA9IHBhdGg7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBsb2FkQWxsSW1hZ2UoKSB7XG4gICAgdGhpcy5hbmltYXRpb25JbWFnZXMgPSBbXTtcblxuICAgIC8vY2hvb3NlIGEgY29sb3IgcmFuZG9tbHkgZGVwZW5kaW5nIG9uIGNhcmQgYXNzZXQgaWRcbiAgICBjb25zdCBjb2xvckluZGV4ID0gdGhpcy5jYWZmZWluZUNhcmRJZCAlIDQ7XG4gICAgLy9jb25zdCBjb2xvckluZGV4ID0gMDtcblxuICAgIC8vbG9hZCBmaXJzdCBpbWFnZSBhbmQgZGlzcGxheSBpdCBhcyBzb29uIGFzIHBvc3NpYmxlXG4gICAgY29uc3QgaW5pdGlhbEltYWdlID0gYXdhaXQgUGFja0NhbnZhc0NvbnRyb2xsZXIubG9hZEltYWdlKFxuICAgICAgYGFzc2V0cy9wYWNrJHtjb2xvckluZGV4fS0wLnBuZ2BcbiAgICApO1xuICAgIHRoaXMuYW5pbWF0aW9uSW1hZ2VzLnB1c2goaW5pdGlhbEltYWdlKTtcbiAgICB0aGlzLmRyYXdQYWNrKCk7XG5cbiAgICAvL2xvYWQgbWFza1xuICAgIHRoaXMuY2FyZE1hc2sgPSBhd2FpdCBQYWNrQ2FudmFzQ29udHJvbGxlci5sb2FkSW1hZ2UoXG4gICAgICBgYXNzZXRzL2NhcmQtbWFzay5wbmdgXG4gICAgKTtcblxuICAgIC8vbG9hZCBuZnQgaW1hZ2VcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmFsZ29JbmRleGVyXG4gICAgICAubG9va3VwQXNzZXRCeUlEKHRoaXMuY2FmZmVpbmVDYXJkSWQpXG4gICAgICAuZG8oKTtcbiAgICB0aGlzLm5mdCA9IG5ldyBORlQodGhpcy5jYWZmZWluZUNhcmRJZCwgcmVzdWx0W1wiYXNzZXRcIl0pO1xuICAgIGF3YWl0IHRoaXMubmZ0LmxvYWQodGhpcy5hbGdvSW5kZXhlcik7XG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5jYXJkSW1hZ2UgPSBhd2FpdCBQYWNrQ2FudmFzQ29udHJvbGxlci5sb2FkSW1hZ2UodGhpcy5uZnQuaW1hZ2VVcmwpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5sb2coYEVycm9yIGxvYWRpbmcgaW1hZ2UgZnJvbSBwcmltYXJ5LCB0cnlpbmcgc2Vjb25kYXJ5YCk7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmNhcmRJbWFnZSA9IGF3YWl0IFBhY2tDYW52YXNDb250cm9sbGVyLmxvYWRJbWFnZShcbiAgICAgICAgICB0aGlzLm5mdC5pbWFnZVVybEFsdGVybmF0ZVxuICAgICAgICApO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRoaXMuY2FyZEltYWdlID0gYXdhaXQgUGFja0NhbnZhc0NvbnRyb2xsZXIubG9hZEltYWdlKFxuICAgICAgICAgIFwiYXNzZXRzL2VtcHR5LWNhcmQucG5nXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL2xvYWQgYW5pbWF0aW9uIGltYWdlc1xuXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gdGhpcy5udW1BbmltYXRpb25JbWFnZTsgaSsrKSB7XG4gICAgICBjb25zdCBhbmltYXRpb25JbWFnZSA9IGF3YWl0IFBhY2tDYW52YXNDb250cm9sbGVyLmxvYWRJbWFnZShcbiAgICAgICAgYGFzc2V0cy9wYWNrJHtjb2xvckluZGV4fS0ke2l9LnBuZ2BcbiAgICAgICk7XG4gICAgICB0aGlzLmFuaW1hdGlvbkltYWdlcy5wdXNoKGFuaW1hdGlvbkltYWdlKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBkcmF3UGFjaygpIHtcbiAgICAvL2xvYWQgaW1hZ2VcbiAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKFxuICAgICAgdGhpcy5hbmltYXRpb25JbWFnZXNbMF0sXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIHRoaXMuaW1hZ2VXaWR0aCxcbiAgICAgIHRoaXMuaGVpZ2h0XG4gICAgKTtcbiAgfVxuXG4gIHN0YXRpYyBlYXNlSW5PdXRRdWFkKHgpIHtcbiAgICByZXR1cm4geCA8IDAuNSA/IDIgKiB4ICogeCA6IDEgLSBNYXRoLnBvdygtMiAqIHggKyAyLCAyKSAvIDI7XG4gIH1cblxuICBhc3luYyBhbmltYXRlKCkge1xuICAgIGxldCBmcmFtZUR1cmF0aW9uID0gMC4xNTtcblxuICAgIGxldCBjdXJyZW50RnJhbWUgPSAxO1xuXG4gICAgY29uc3QgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIC8vY2xlYXIgY29udGV4dFxuICAgICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmltYWdlV2lkdGgsIHRoaXMuaGVpZ2h0KTtcblxuICAgICAgLy9kcmF3IG1hc2tcbiAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5jYXJkTWFzaywgMCwgMCwgdGhpcy5pbWFnZVdpZHRoLCB0aGlzLmhlaWdodCk7XG5cbiAgICAgIHRoaXMuY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcInNvdXJjZS1pblwiO1xuXG4gICAgICAvL2RyYXcgY2FyZFxuICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgdGhpcy5jYXJkSW1hZ2UsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIHRoaXMuaW1hZ2VXaWR0aCxcbiAgICAgICAgdGhpcy5oZWlnaHRcbiAgICAgICk7XG5cbiAgICAgIHRoaXMuY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcInNvdXJjZS1vdmVyXCI7XG5cbiAgICAgIC8vZHJhdyBwYWNrIGFuaW1hdGlvblxuICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgdGhpcy5hbmltYXRpb25JbWFnZXNbY3VycmVudEZyYW1lXSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgdGhpcy5pbWFnZVdpZHRoLFxuICAgICAgICB0aGlzLmhlaWdodFxuICAgICAgKTtcblxuICAgICAgaWYgKGN1cnJlbnRGcmFtZSA9PT0gdGhpcy5udW1BbmltYXRpb25JbWFnZSkge1xuICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xuXG4gICAgICAgIHBhcnR5LnNwYXJrbGVzKHRoaXMuY2FudmFzKTtcblxuICAgICAgICAvL3N0YXJ0IHNsaWRlIGFuaW1hdGlvblxuICAgICAgICBmcmFtZUR1cmF0aW9uID0gMC4wNTtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uRHVyYXRpb24gPSAwLjg7XG4gICAgICAgIGxldCBjdXJyZW50VGltZSA9IDA7XG5cbiAgICAgICAgY29uc3QgaW50ZXJ2YWxJZDIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgY29uc3QgeU9mZnNldCA9XG4gICAgICAgICAgICBQYWNrQ2FudmFzQ29udHJvbGxlci5lYXNlSW5PdXRRdWFkKFxuICAgICAgICAgICAgICBjdXJyZW50VGltZSAvIGFuaW1hdGlvbkR1cmF0aW9uXG4gICAgICAgICAgICApICogdGhpcy5oZWlnaHQ7XG5cbiAgICAgICAgICAvL2NsZWFyIGNvbnRleHRcbiAgICAgICAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuaW1hZ2VXaWR0aCwgdGhpcy5oZWlnaHQpO1xuXG4gICAgICAgICAgLy9kcmF3IG1hc2tcbiAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKFxuICAgICAgICAgICAgdGhpcy5jYXJkTWFzayxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgdGhpcy5pbWFnZVdpZHRoLFxuICAgICAgICAgICAgdGhpcy5oZWlnaHRcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgdGhpcy5jb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwic291cmNlLWluXCI7XG5cbiAgICAgICAgICAvL2RyYXcgY2FyZFxuICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UoXG4gICAgICAgICAgICB0aGlzLmNhcmRJbWFnZSxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgdGhpcy5pbWFnZVdpZHRoLFxuICAgICAgICAgICAgdGhpcy5oZWlnaHRcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgdGhpcy5jb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwic291cmNlLW92ZXJcIjtcblxuICAgICAgICAgIC8vZHJhdyBwYWNrIGFuaW1hdGlvblxuICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UoXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkltYWdlc1t0aGlzLm51bUFuaW1hdGlvbkltYWdlXSxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICB5T2Zmc2V0LFxuICAgICAgICAgICAgdGhpcy5pbWFnZVdpZHRoLFxuICAgICAgICAgICAgdGhpcy5oZWlnaHRcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgY3VycmVudFRpbWUgKz0gZnJhbWVEdXJhdGlvbjtcblxuICAgICAgICAgIGlmIChjdXJyZW50VGltZSA+PSBhbmltYXRpb25EdXJhdGlvbikge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkMik7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBmcmFtZUR1cmF0aW9uICogMTAwMCk7XG4gICAgICB9XG5cbiAgICAgIGN1cnJlbnRGcmFtZSsrO1xuICAgIH0sIGZyYW1lRHVyYXRpb24gKiAxMDAwKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlBBQ0tTX0FQSV9VUkwiLCJhc3luYyIsImxvYWRQYWNrcyIsImhvbGRpbmdzIiwicmVzdWx0IiwiZmV0Y2giLCJzdGF0dXMiLCJqc29uIiwiY2xhaW1hYmxlUGFja3MiLCJiYXRoZXJzSWRzIiwiYmF0aGVycyIsIm5mdHMiLCJtYXAiLCJuZnQiLCJhc3NldElkIiwicGFjayIsInBhY2tzIiwiaW5jbHVkZXMiLCJwdXNoIiwiZXNjcm93QWRkcmVzcyIsIkVycm9yIiwiUGFja3MiLCJCYXNlUGFnZSIsImNvbnN0cnVjdG9yIiwic3VwZXIiLCJhcmd1bWVudHMiLCJ0aGlzIiwidWkiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJmZXRjaFBhY2tzIiwic2xlZXAiLCJkZWxheVRpbWUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJwYWNrU3RhdHVzUCIsInF1ZXJ5U2VsZWN0b3IiLCJsZW5ndGgiLCJwbHVyYWwiLCJ0ZXh0Q29udGVudCIsInBhY2tzRGl2IiwiY2xhc3NOYW1lIiwiYXBwZW5kIiwicGFja0RpdiIsInBhY2tDYW52YXMiLCJjb250cm9sbGVyIiwiUGFja0NhbnZhc0NvbnRyb2xsZXIiLCJhbGdvSW5kZXhlciIsImxvYWQiLCJ0aGVuIiwiaGlkZGVuTmFtZSIsInN0eWxlIiwib3BhY2l0eSIsIm5hbWUiLCJvcGVuQnV0dG9uIiwiZGF0YXNldCIsImJhdGhlcklkIiwiY2FmZmVpbmVDYXJkSWQiLCJhZGRFdmVudExpc3RlbmVyIiwib3BlblBhY2siLCJiaW5kIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJtZXNzYWdlIiwiZGlzYWJsZUFsbEJ1dHRvbnMiLCJleGNlcHQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImIiLCJvcGVuZWQiLCJkaXNhYmxlZCIsImVuYWJsZUFsbEJ1dHRvbnMiLCJwYWNrQ2FudmFzQ29udHJvbGxlciIsImV2ZW50IiwiY2FsbGluZ0J1dHRvbiIsImN1cnJlbnRUYXJnZXQiLCJzdWdnZXN0ZWRQYXJhbXMiLCJhbGdvZENsaWVudCIsImdldFRyYW5zYWN0aW9uUGFyYW1zIiwiZG8iLCJhbGxUeG5zIiwiZnJvbSIsIndhbGxldENvbm5lY3QiLCJ3YWxsZXRBZGRyZXNzIiwidG8iLCJhbW91bnQiLCJhc3NldEluZGV4IiwicGFyc2VJbnQiLCJzaWduZWRUeG5zIiwic2lnblRyYW5zYWN0aW9ucyIsInNpZ25lZFR4bkpzb24iLCJ0eG4iLCJidG9hIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiYXBwbHkiLCJyZXNwb25zZSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiaGVhZGVycyIsIkFjY2VwdCIsImRhdGEiLCJhbmltYXRlIiwiYWxlcnQiLCJjYW52YXMiLCJ3aWR0aCIsImhlaWdodCIsImltYWdlV2lkdGgiLCJudW1BbmltYXRpb25JbWFnZSIsImNvbnRleHQiLCJnZXRDb250ZXh0IiwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwidHJhbnNsYXRlIiwiY2FyZEltYWdlIiwiY2FyZE1hc2siLCJhbmltYXRpb25JbWFnZXMiLCJsb2FkQWxsSW1hZ2UiLCJzdGF0aWMiLCJwYXRoIiwicmVqZWN0IiwiaW1hZ2UiLCJJbWFnZSIsIm9ubG9hZCIsIm9uZXJyb3IiLCJzcmMiLCJjb2xvckluZGV4IiwiaW5pdGlhbEltYWdlIiwibG9hZEltYWdlIiwiZHJhd1BhY2siLCJsb29rdXBBc3NldEJ5SUQiLCJpbWFnZVVybCIsImltYWdlVXJsQWx0ZXJuYXRlIiwiaSIsImFuaW1hdGlvbkltYWdlIiwiZHJhd0ltYWdlIiwieCIsIk1hdGgiLCJwb3ciLCJmcmFtZUR1cmF0aW9uIiwiY3VycmVudEZyYW1lIiwiaW50ZXJ2YWxJZCIsInNldEludGVydmFsIiwiY2xlYXJSZWN0IiwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIiwiY2xlYXJJbnRlcnZhbCIsImFuaW1hdGlvbkR1cmF0aW9uIiwiY3VycmVudFRpbWUiLCJpbnRlcnZhbElkMiIsInlPZmZzZXQiLCJlYXNlSW5PdXRRdWFkIl0sInNvdXJjZVJvb3QiOiIifQ==