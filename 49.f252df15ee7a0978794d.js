"use strict";(self.webpackChunkstudio=self.webpackChunkstudio||[]).push([[49,998],{6998:(e,t,s)=>{s.r(t),s.d(t,{BasePage:()=>a});class a{constructor(e,t,s,a){this.walletConnect=e,this.algodClient=s,this.algoIndexer=a,this.holdings=t}}},1049:(e,t,s)=>{s.r(t),s.d(t,{Wallet:()=>n});var a=s(6998);class n extends a.BasePage{constructor(){super(...arguments),this.ui=document.createElement("div"),this.ui.innerHTML="\n    <h1>Wallet</h1>\n\n    ",this.displayHoldings()}async displayHoldings(){if(this.holdings)for(const e in this.holdings){let t;if("bathers"===e){const{loadPacks:e}=await Promise.all([s.e(393),s.e(298)]).then(s.bind(s,5298));try{const s=await e();s&&s.length>0&&(t=s.map((e=>e[0])))}catch(e){console.error(e)}}const a=this.holdings[e],n=document.createElement("h2");if(n.textContent="My "+a.collections[0].displayName,this.ui.append(n),!a.nfts.length){const e=document.createElement("div");e.innerHTML='<div class="dark-text mb-5">No assets</div>',this.ui.append(e);continue}const i=document.createElement("div");i.className="row row-cols-2 row-cols-md-3 row-cols-lg-4 gy-4 mb-5";for(const s of a.nfts){const a=document.createElement("div");a.id=`nft-${s.assetId}`,a.className="col",s.amount>1&&s.amount;let n="";if("bathers"===e&&(n=`<div class="me-2"><a href="?grinder&bather=${s.assetId}" data-page-link="grinder&bather=${s.assetId}" title="Open in Grinder"><img src="assets/grinder-icon.png" width="32"></a></div>`),"caffeineCards"!=e){if(a.innerHTML=`\n                <div class="list-item h-100 d-flex flex-column">\n                    <img src="${s.imageUrl}" class="nft-img img-fluid" loading="lazy">\n                    <div class="list-item-text flex-fill d-flex flex-column">\n\n                        <div>\n                              <h4>${s.name}</h4>\n                              <span class="asset-id">${s.assetId}</span>\n                        </div>\n                     \n                        <div class="flex-fill d-flex flex-row justify-content-between align-items-end">\n\n                            <div class="d-flex align-items-end" id="left">\n                              \n                            </div>\n\n                            <div class="d-flex align-items-end">\n                              ${n}\n                              <div class="dropdown inline"></div>\n                            </div>\n                            \n                        </div>\n                    </div>\n\n                </div>\n            `,s.metadata.pop_battle_wins&&s.metadata.pop_battle_wins.length>0)for(const e of s.metadata.pop_battle_wins){let t,s;1===e.rank?(t="pop-battle-icon-1st.png",s="1st"):2===e.rank?(t="pop-battle-icon-2nd.png",s="2nd"):3===e.rank&&(t="pop-battle-icon-3rd.png",s="3rd");const n=document.createElement("div");n.dataset.bsTitle=`Pop Battle Winner (${s})`,n.dataset.bsToggle="tooltip",n.dataset.bsCustomClass="custom-tooltip",n.innerHTML=`<img src="assets/${t}" width="32" height="32">`,n.className="me-1",a.querySelector("#left").append(n),new window.bootstrap.Tooltip(n)}if(t&&t.includes(s.assetId)){const e=document.createElement("a");e.href="?packs",e.dataset.pageLink="packs",e.className="d-inline-block",e.dataset.bsTitle="The pack tied to this Bather has not been opened yet.",e.dataset.bsToggle="tooltip",e.dataset.bsCustomClass="custom-tooltip",e.innerHTML='<img src="assets/pack-icon.png">',a.querySelector("#left").append(e);const t=new window.bootstrap.Tooltip(e,{trigger:"hover"});e.onclick=()=>{t.hide()}}}else{let e="",t="";if(s.metadata||(t="⚠︎",e+="⚠︎"),s.metadata?.properties){for(const t in s.metadata.properties)e+=`<span class="custom-badge">${t}</span> `;e+="<br>"}if(s.metadata?.require){let e=[];for(const t in s.metadata.require)e.push(`<span class="custom-badge light">${t}: ${s.metadata.require[t]}</span>`);t=`<span class="custom-badge dark">Require:</span> ${e.join(" ")}`}a.innerHTML=`\n                <div class="list-item h-100 d-flex flex-column">\n                    <img src="${s.imageUrl}" class="nft-img img-fluid" loading="lazy">\n                    <div class="list-item-text flex-fill d-flex flex-column">\n                        <h4>${s.name}</h4>\n                        <div class="d-flex justify-content-between">\n                            <span class="asset-id">${s.assetId}</span>\n                            ${s.amount}\n                        </div>\n                        <div class="mt-3">\n                              ${e} ${t}<br>\n                        </div>\n                        <div class="flex-fill d-flex justify-content-end align-items-end mt-2">\n                              <div class="dropdown"></div>\n                        </div>\n                    </div>\n                </div>\n\n                \n            `}a.querySelector(".dropdown").innerHTML=`\n                <a href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">\n                <img src="assets/more.png" class="more">\n                </a>\n                <ul class="dropdown-menu">\n                    <li><a class="dropdown-item" href="https://www.nftexplorer.app/asset/${s.assetId}" target="_blank">NFTExplorer</a></li>\n                    <li><a class="dropdown-item" href="https://www.asalytic.app/nft/${s.assetId}" target="_blank">Asalytic</a></li>\n                    <li><a class="dropdown-item" href="https://www.randgallery.com/algo-collection/?address=${s.assetId}" target="_blank">RandGallery</a></li>\n                    <li><a class="dropdown-item" href="https://algoxnft.com/asset/${s.assetId}" target="_blank">ALGOxNFT</a></li>\n                    <li><a class="dropdown-item" href="https://shufl.app/detail/${s.assetId}" target="_blank">Shufl</a></li>\n                    <li><a class="dropdown-item" href="https://exa.market/asset/${s.assetId}" target="_blank">exa.market</a></li>\n                </ul>\n          `,i.append(a),s.handleImageError(a.querySelector(".nft-img"))}this.ui.append(i)}window.enableNavigationLinks()}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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azovL3N0dWRpby8uL3NyYy9wYWdlcy9iYXNlLmpzIiwid2VicGFjazovL3N0dWRpby8uL3NyYy9wYWdlcy93YWxsZXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnQgY2xhc3MgQmFzZVBhZ2Uge1xuXG4gICAgY29uc3RydWN0b3Iod2FsbGV0Q29ubmVjdCwgaG9sZGluZ3MsIGFsZ29kQ2xpZW50LCBhbGdvSW5kZXhlcil7XG5cbiAgICAgICAgdGhpcy53YWxsZXRDb25uZWN0ID0gd2FsbGV0Q29ubmVjdDtcbiAgICAgICAgdGhpcy5hbGdvZENsaWVudCA9IGFsZ29kQ2xpZW50O1xuICAgICAgICB0aGlzLmFsZ29JbmRleGVyID0gYWxnb0luZGV4ZXI7XG4gICAgICAgIHRoaXMuaG9sZGluZ3MgPSBob2xkaW5ncztcblxuICAgICAgICBcblxuICAgIH1cblxufSIsImltcG9ydCB7IEJhc2VQYWdlIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuXG5leHBvcnQgY2xhc3MgV2FsbGV0IGV4dGVuZHMgQmFzZVBhZ2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuXG4gICAgdGhpcy51aSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy51aS5pbm5lckhUTUwgPSBgXG4gICAgPGgxPldhbGxldDwvaDE+XG5cbiAgICBgO1xuXG4gICAgdGhpcy5kaXNwbGF5SG9sZGluZ3MoKTtcbiAgfVxuXG4gIGFzeW5jIGRpc3BsYXlIb2xkaW5ncygpIHtcbiAgICBpZiAodGhpcy5ob2xkaW5ncykge1xuICAgICAgZm9yIChjb25zdCBjb2xsZWN0aW9uTmFtZSBpbiB0aGlzLmhvbGRpbmdzKSB7XG4gICAgICAgIC8vbG9hZCBwYWNrc1xuICAgICAgICBsZXQgYmF0aGVyc1dpdGhQYWNrcztcbiAgICAgICAgaWYgKGNvbGxlY3Rpb25OYW1lID09PSBcImJhdGhlcnNcIikge1xuICAgICAgICAgIGNvbnN0IHsgbG9hZFBhY2tzIH0gPSBhd2FpdCBpbXBvcnQoXCIuL3BhY2tzLmpzXCIpO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBhY2tzID0gYXdhaXQgbG9hZFBhY2tzKCk7XG5cbiAgICAgICAgICAgIGlmIChwYWNrcyAmJiBwYWNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGJhdGhlcnNXaXRoUGFja3MgPSBwYWNrcy5tYXAoKHApID0+IHBbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvbGxlY3Rpb25Ib2xkaW5ncyA9IHRoaXMuaG9sZGluZ3NbY29sbGVjdGlvbk5hbWVdO1xuXG4gICAgICAgIGNvbnN0IGNvbGxlY3Rpb25UaXRsZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcbiAgICAgICAgY29sbGVjdGlvblRpdGxlRGl2LnRleHRDb250ZW50ID1cbiAgICAgICAgICBcIk15IFwiICsgY29sbGVjdGlvbkhvbGRpbmdzLmNvbGxlY3Rpb25zWzBdLmRpc3BsYXlOYW1lO1xuICAgICAgICB0aGlzLnVpLmFwcGVuZChjb2xsZWN0aW9uVGl0bGVEaXYpO1xuXG4gICAgICAgIGlmICghY29sbGVjdGlvbkhvbGRpbmdzLm5mdHMubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc3QgZW1wdHlEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgIGVtcHR5RGl2LmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwiZGFyay10ZXh0IG1iLTVcIj5ObyBhc3NldHM8L2Rpdj4nO1xuXG4gICAgICAgICAgdGhpcy51aS5hcHBlbmQoZW1wdHlEaXYpO1xuXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsaXN0VmlldyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGxpc3RWaWV3LmNsYXNzTmFtZSA9XG4gICAgICAgICAgXCJyb3cgcm93LWNvbHMtMiByb3ctY29scy1tZC0zIHJvdy1jb2xzLWxnLTQgZ3ktNCBtYi01XCI7XG5cbiAgICAgICAgZm9yIChjb25zdCBuZnQgb2YgY29sbGVjdGlvbkhvbGRpbmdzLm5mdHMpIHtcbiAgICAgICAgICBjb25zdCBuZnREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgIG5mdERpdi5pZCA9IGBuZnQtJHtuZnQuYXNzZXRJZH1gO1xuICAgICAgICAgIG5mdERpdi5jbGFzc05hbWUgPSBcImNvbFwiO1xuXG4gICAgICAgICAgY29uc3QgcXVhbnRpdHlTdHIgPSBuZnQuYW1vdW50ID4gMSA/IGAke25mdC5hbW91bnR9IGAgOiBcIlwiO1xuXG4gICAgICAgICAgbGV0IGdyaW5kZXJMaW5rID0gXCJcIjtcbiAgICAgICAgICBpZiAoY29sbGVjdGlvbk5hbWUgPT09IFwiYmF0aGVyc1wiKSB7XG4gICAgICAgICAgICBncmluZGVyTGluayA9IGA8ZGl2IGNsYXNzPVwibWUtMlwiPjxhIGhyZWY9XCI/Z3JpbmRlciZiYXRoZXI9JHtuZnQuYXNzZXRJZH1cIiBkYXRhLXBhZ2UtbGluaz1cImdyaW5kZXImYmF0aGVyPSR7bmZ0LmFzc2V0SWR9XCIgdGl0bGU9XCJPcGVuIGluIEdyaW5kZXJcIj48aW1nIHNyYz1cImFzc2V0cy9ncmluZGVyLWljb24ucG5nXCIgd2lkdGg9XCIzMlwiPjwvYT48L2Rpdj5gO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjb2xsZWN0aW9uTmFtZSAhPSBcImNhZmZlaW5lQ2FyZHNcIikge1xuICAgICAgICAgICAgbmZ0RGl2LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGlzdC1pdGVtIGgtMTAwIGQtZmxleCBmbGV4LWNvbHVtblwiPlxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7bmZ0LmltYWdlVXJsfVwiIGNsYXNzPVwibmZ0LWltZyBpbWctZmx1aWRcIiBsb2FkaW5nPVwibGF6eVwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGlzdC1pdGVtLXRleHQgZmxleC1maWxsIGQtZmxleCBmbGV4LWNvbHVtblwiPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0PiR7bmZ0Lm5hbWV9PC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYXNzZXQtaWRcIj4ke25mdC5hc3NldElkfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC1maWxsIGQtZmxleCBmbGV4LXJvdyBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1lbmRcIj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXggYWxpZ24taXRlbXMtZW5kXCIgaWQ9XCJsZWZ0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXggYWxpZ24taXRlbXMtZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2dyaW5kZXJMaW5rfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duIGlubGluZVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgO1xuXG4gICAgICAgICAgICAvL2FkZCBwb3AgYmF0dGxlIGljb24gaWYgbmVlZGVkXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIG5mdC5tZXRhZGF0YS5wb3BfYmF0dGxlX3dpbnMgJiZcbiAgICAgICAgICAgICAgbmZ0Lm1ldGFkYXRhLnBvcF9iYXR0bGVfd2lucy5sZW5ndGggPiAwXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBwb3BCYXR0bGVXaW4gb2YgbmZ0Lm1ldGFkYXRhLnBvcF9iYXR0bGVfd2lucykge1xuICAgICAgICAgICAgICAgIGxldCBpbWdVcmw7XG4gICAgICAgICAgICAgICAgbGV0IHJhbmtTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICBpZiAocG9wQmF0dGxlV2luLnJhbmsgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgIGltZ1VybCA9IFwicG9wLWJhdHRsZS1pY29uLTFzdC5wbmdcIjtcbiAgICAgICAgICAgICAgICAgIHJhbmtTdHJpbmcgPSBcIjFzdFwiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocG9wQmF0dGxlV2luLnJhbmsgPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgIGltZ1VybCA9IFwicG9wLWJhdHRsZS1pY29uLTJuZC5wbmdcIjtcbiAgICAgICAgICAgICAgICAgIHJhbmtTdHJpbmcgPSBcIjJuZFwiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocG9wQmF0dGxlV2luLnJhbmsgPT09IDMpIHtcbiAgICAgICAgICAgICAgICAgIGltZ1VybCA9IFwicG9wLWJhdHRsZS1pY29uLTNyZC5wbmdcIjtcbiAgICAgICAgICAgICAgICAgIHJhbmtTdHJpbmcgPSBcIjNyZFwiO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHBvcEJhdHRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgcG9wQmF0dGxlLmRhdGFzZXQuYnNUaXRsZSA9IGBQb3AgQmF0dGxlIFdpbm5lciAoJHtyYW5rU3RyaW5nfSlgO1xuICAgICAgICAgICAgICAgIHBvcEJhdHRsZS5kYXRhc2V0LmJzVG9nZ2xlID0gXCJ0b29sdGlwXCI7XG4gICAgICAgICAgICAgICAgcG9wQmF0dGxlLmRhdGFzZXQuYnNDdXN0b21DbGFzcyA9IFwiY3VzdG9tLXRvb2x0aXBcIjtcbiAgICAgICAgICAgICAgICBwb3BCYXR0bGUuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiYXNzZXRzLyR7aW1nVXJsfVwiIHdpZHRoPVwiMzJcIiBoZWlnaHQ9XCIzMlwiPmA7XG4gICAgICAgICAgICAgICAgcG9wQmF0dGxlLmNsYXNzTmFtZSA9IFwibWUtMVwiO1xuXG4gICAgICAgICAgICAgICAgbmZ0RGl2LnF1ZXJ5U2VsZWN0b3IoXCIjbGVmdFwiKS5hcHBlbmQocG9wQmF0dGxlKTtcbiAgICAgICAgICAgICAgICBuZXcgd2luZG93LmJvb3RzdHJhcC5Ub29sdGlwKHBvcEJhdHRsZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9BZGQgcGFjayBpY29uIGlmIG5lZWRlZFxuICAgICAgICAgICAgaWYgKGJhdGhlcnNXaXRoUGFja3MgJiYgYmF0aGVyc1dpdGhQYWNrcy5pbmNsdWRlcyhuZnQuYXNzZXRJZCkpIHtcbiAgICAgICAgICAgICAgY29uc3QgcGFja0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgICAgICAgICAgICBwYWNrRGl2LmhyZWYgPSBcIj9wYWNrc1wiO1xuICAgICAgICAgICAgICBwYWNrRGl2LmRhdGFzZXQucGFnZUxpbmsgPSBcInBhY2tzXCI7XG4gICAgICAgICAgICAgIHBhY2tEaXYuY2xhc3NOYW1lID0gXCJkLWlubGluZS1ibG9ja1wiO1xuICAgICAgICAgICAgICBwYWNrRGl2LmRhdGFzZXQuYnNUaXRsZSA9XG4gICAgICAgICAgICAgICAgXCJUaGUgcGFjayB0aWVkIHRvIHRoaXMgQmF0aGVyIGhhcyBub3QgYmVlbiBvcGVuZWQgeWV0LlwiO1xuICAgICAgICAgICAgICBwYWNrRGl2LmRhdGFzZXQuYnNUb2dnbGUgPSBcInRvb2x0aXBcIjtcbiAgICAgICAgICAgICAgcGFja0Rpdi5kYXRhc2V0LmJzQ3VzdG9tQ2xhc3MgPSBcImN1c3RvbS10b29sdGlwXCI7XG4gICAgICAgICAgICAgIHBhY2tEaXYuaW5uZXJIVE1MID0gJzxpbWcgc3JjPVwiYXNzZXRzL3BhY2staWNvbi5wbmdcIj4nO1xuXG4gICAgICAgICAgICAgIG5mdERpdi5xdWVyeVNlbGVjdG9yKFwiI2xlZnRcIikuYXBwZW5kKHBhY2tEaXYpO1xuICAgICAgICAgICAgICBjb25zdCB0b29sdGlwID0gbmV3IHdpbmRvdy5ib290c3RyYXAuVG9vbHRpcChwYWNrRGl2LCB7dHJpZ2dlcjogXCJob3ZlclwifSk7XG5cbiAgICAgICAgICAgICAgcGFja0Rpdi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRvb2x0aXAuaGlkZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBwcm9wZXJ0aWVzTmFtZXMgPSBcIlwiO1xuICAgICAgICAgICAgbGV0IHJlcXVpcmUgPSBcIlwiO1xuXG4gICAgICAgICAgICBpZiAoIW5mdC5tZXRhZGF0YSkge1xuICAgICAgICAgICAgICByZXF1aXJlID0gXCLimqDvuI5cIjtcbiAgICAgICAgICAgICAgcHJvcGVydGllc05hbWVzICs9IFwi4pqg77iOXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuZnQubWV0YWRhdGE/LnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBwcm9wZXJ0eU5hbWUgaW4gbmZ0Lm1ldGFkYXRhLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzTmFtZXMgKz0gYDxzcGFuIGNsYXNzPVwiY3VzdG9tLWJhZGdlXCI+JHtwcm9wZXJ0eU5hbWV9PC9zcGFuPiBgO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcHJvcGVydGllc05hbWVzICs9IFwiPGJyPlwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobmZ0Lm1ldGFkYXRhPy5yZXF1aXJlKSB7XG4gICAgICAgICAgICAgIGxldCByZXF1aXJlTGlzdCA9IFtdO1xuXG4gICAgICAgICAgICAgIGZvciAoY29uc3QgcmVxdWlyZUtleSBpbiBuZnQubWV0YWRhdGEucmVxdWlyZSkge1xuICAgICAgICAgICAgICAgIHJlcXVpcmVMaXN0LnB1c2goXG4gICAgICAgICAgICAgICAgICBgPHNwYW4gY2xhc3M9XCJjdXN0b20tYmFkZ2UgbGlnaHRcIj4ke3JlcXVpcmVLZXl9OiAke25mdC5tZXRhZGF0YS5yZXF1aXJlW3JlcXVpcmVLZXldfTwvc3Bhbj5gXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJlcXVpcmUgPSBgPHNwYW4gY2xhc3M9XCJjdXN0b20tYmFkZ2UgZGFya1wiPlJlcXVpcmU6PC9zcGFuPiAke3JlcXVpcmVMaXN0LmpvaW4oXG4gICAgICAgICAgICAgICAgXCIgXCJcbiAgICAgICAgICAgICAgKX1gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuZnREaXYuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsaXN0LWl0ZW0gaC0xMDAgZC1mbGV4IGZsZXgtY29sdW1uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtuZnQuaW1hZ2VVcmx9XCIgY2xhc3M9XCJuZnQtaW1nIGltZy1mbHVpZFwiIGxvYWRpbmc9XCJsYXp5XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsaXN0LWl0ZW0tdGV4dCBmbGV4LWZpbGwgZC1mbGV4IGZsZXgtY29sdW1uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDQ+JHtuZnQubmFtZX08L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYXNzZXQtaWRcIj4ke25mdC5hc3NldElkfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke25mdC5hbW91bnR9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3Byb3BlcnRpZXNOYW1lc30gJHtyZXF1aXJlfTxicj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtZmlsbCBkLWZsZXgganVzdGlmeS1jb250ZW50LWVuZCBhbGlnbi1pdGVtcy1lbmQgbXQtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy9hZGQgZHJvcGRvd24gd2l0aCBvcHRpb25zXG4gICAgICAgICAgY29uc3QgZHJvcGRvd25EaXYgPSBuZnREaXYucXVlcnlTZWxlY3RvcihcIi5kcm9wZG93blwiKTtcblxuICAgICAgICAgIGRyb3Bkb3duRGl2LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIHJvbGU9XCJidXR0b25cIiBkYXRhLWJzLXRvZ2dsZT1cImRyb3Bkb3duXCIgYXJpYS1leHBhbmRlZD1cImZhbHNlXCI+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvbW9yZS5wbmdcIiBjbGFzcz1cIm1vcmVcIj5cbiAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgICAgICAgICA8bGk+PGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCIgaHJlZj1cImh0dHBzOi8vd3d3Lm5mdGV4cGxvcmVyLmFwcC9hc3NldC8ke25mdC5hc3NldElkfVwiIHRhcmdldD1cIl9ibGFua1wiPk5GVEV4cGxvcmVyPC9hPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgIDxsaT48YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBocmVmPVwiaHR0cHM6Ly93d3cuYXNhbHl0aWMuYXBwL25mdC8ke25mdC5hc3NldElkfVwiIHRhcmdldD1cIl9ibGFua1wiPkFzYWx5dGljPC9hPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgIDxsaT48YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBocmVmPVwiaHR0cHM6Ly93d3cucmFuZGdhbGxlcnkuY29tL2FsZ28tY29sbGVjdGlvbi8/YWRkcmVzcz0ke25mdC5hc3NldElkfVwiIHRhcmdldD1cIl9ibGFua1wiPlJhbmRHYWxsZXJ5PC9hPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgIDxsaT48YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBocmVmPVwiaHR0cHM6Ly9hbGdveG5mdC5jb20vYXNzZXQvJHtuZnQuYXNzZXRJZH1cIiB0YXJnZXQ9XCJfYmxhbmtcIj5BTEdPeE5GVDwvYT48L2xpPlxuICAgICAgICAgICAgICAgICAgICA8bGk+PGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCIgaHJlZj1cImh0dHBzOi8vc2h1ZmwuYXBwL2RldGFpbC8ke25mdC5hc3NldElkfVwiIHRhcmdldD1cIl9ibGFua1wiPlNodWZsPC9hPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgIDxsaT48YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBocmVmPVwiaHR0cHM6Ly9leGEubWFya2V0L2Fzc2V0LyR7bmZ0LmFzc2V0SWR9XCIgdGFyZ2V0PVwiX2JsYW5rXCI+ZXhhLm1hcmtldDwvYT48L2xpPlxuICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgYDtcblxuICAgICAgICAgIGxpc3RWaWV3LmFwcGVuZChuZnREaXYpO1xuXG4gICAgICAgICAgbmZ0LmhhbmRsZUltYWdlRXJyb3IobmZ0RGl2LnF1ZXJ5U2VsZWN0b3IoXCIubmZ0LWltZ1wiKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVpLmFwcGVuZChsaXN0Vmlldyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgd2luZG93LmVuYWJsZU5hdmlnYXRpb25MaW5rcygpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiQmFzZVBhZ2UiLCJjb25zdHJ1Y3RvciIsIndhbGxldENvbm5lY3QiLCJob2xkaW5ncyIsImFsZ29kQ2xpZW50IiwiYWxnb0luZGV4ZXIiLCJ0aGlzIiwiV2FsbGV0Iiwic3VwZXIiLCJhcmd1bWVudHMiLCJ1aSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsImRpc3BsYXlIb2xkaW5ncyIsImFzeW5jIiwiY29sbGVjdGlvbk5hbWUiLCJiYXRoZXJzV2l0aFBhY2tzIiwibG9hZFBhY2tzIiwicGFja3MiLCJsZW5ndGgiLCJtYXAiLCJwIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiY29sbGVjdGlvbkhvbGRpbmdzIiwiY29sbGVjdGlvblRpdGxlRGl2IiwidGV4dENvbnRlbnQiLCJjb2xsZWN0aW9ucyIsImRpc3BsYXlOYW1lIiwiYXBwZW5kIiwibmZ0cyIsImVtcHR5RGl2IiwibGlzdFZpZXciLCJjbGFzc05hbWUiLCJuZnQiLCJuZnREaXYiLCJpZCIsImFzc2V0SWQiLCJhbW91bnQiLCJncmluZGVyTGluayIsImltYWdlVXJsIiwibmFtZSIsIm1ldGFkYXRhIiwicG9wX2JhdHRsZV93aW5zIiwicG9wQmF0dGxlV2luIiwiaW1nVXJsIiwicmFua1N0cmluZyIsInJhbmsiLCJwb3BCYXR0bGUiLCJkYXRhc2V0IiwiYnNUaXRsZSIsImJzVG9nZ2xlIiwiYnNDdXN0b21DbGFzcyIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJib290c3RyYXAiLCJUb29sdGlwIiwiaW5jbHVkZXMiLCJwYWNrRGl2IiwiaHJlZiIsInBhZ2VMaW5rIiwidG9vbHRpcCIsInRyaWdnZXIiLCJvbmNsaWNrIiwiaGlkZSIsInByb3BlcnRpZXNOYW1lcyIsInJlcXVpcmUiLCJwcm9wZXJ0aWVzIiwicHJvcGVydHlOYW1lIiwicmVxdWlyZUxpc3QiLCJyZXF1aXJlS2V5IiwicHVzaCIsImpvaW4iLCJoYW5kbGVJbWFnZUVycm9yIiwiZW5hYmxlTmF2aWdhdGlvbkxpbmtzIl0sInNvdXJjZVJvb3QiOiIifQ==