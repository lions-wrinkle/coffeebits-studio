(self.webpackChunkstudio=self.webpackChunkstudio||[]).push([[701,998],{4853:()=>{},7644:(e,r,a)=>{"use strict";a.d(r,{i:()=>_});var i=a(4853);const n=48,t=48;function o(e,r,a){const i=4*(r*a.width+e);return[a.data[i],a.data[i+1],a.data[i+2],a.data[i+3]]}function p(e,r,a,i){const n=4*(r*i.width+e);i.data[n]=a[0],i.data[n+1]=a[1],i.data[n+2]=a[2],i.data[n+3]=a[3]}function l(e){const r=parseInt(e.slice(1,3),16),a=parseInt(e.slice(3,5),16),i=parseInt(e.slice(5,7),16),n=parseInt(e.slice(7,9),16);return isNaN(n)?[r,a,i,255]:[r,a,i,n]}async function d(e){if(!e.length)return;const r=await u(e[0]),a=r.width,i=r.height,n=s(a,i).getContext("2d");n.imageSmoothingEnabled=!1;for(const r of e){const e=await u(r);n.drawImage(e,0,0,a,i)}const t=s(a,i),l=t.getContext("2d"),d=n.getImageData(0,0,a,i);let c,g=l.getImageData(0,0,a,i);e:for(let e=0;e<a;e++)for(let r=i-1;r>=0;r--){if(r<c)break e;const a=o(e,r,d);if(a[3]>0){p(e,r+1,[a[0],a[1],a[2],.2*a[3]],g);const i=o(e,r-1,d);p(e,r+2,[i[0],i[1],i[2],.08*i[3]],g),c||(c=r);continue e}}return l.putImageData(g,0,0),t}async function c(e,r,a){const i=await u(e),n=i.width,t=i.height,l=s(n,t),d=l.getContext("2d");d.imageSmoothingEnabled=!1,d.drawImage(i,0,0,n,t);const c=s(n,t),g=c.getContext("2d");g.imageSmoothingEnabled=!1;const _=s(n,t).getContext("2d");_.imageSmoothingEnabled=!1;for(const e of a){const r=await u(e);_.drawImage(r,0,0,n,t)}const m=d.getImageData(0,0,n,t),f=g.getImageData(0,0,n,t),h=_.getImageData(0,0,n,t);for(let e=1;e<t-1;e++)for(let a=1;a<n-1;a++){const i=o(a,e,m),n=o(a,e,h),t=o(a-1,e,m),l=o(a+1,e,m),d=o(a,e-1,m),c=o(a,e+1,m);0===t[3]&&i[3]>0&&n[3]<255&&p(a-1,e,r,f),0===l[3]&&i[3]>0&&n[3]<255&&p(a+1,e,r,f),0===d[3]&&i[3]>0&&n[3]<255&&p(a,e-1,r,f),0===c[3]&&i[3]>0&&n[3]<255&&p(a,e+1,r,f)}return g.putImageData(f,0,0),d.drawImage(c,0,0,n,t),l}function g(e,r,a){const i=e.width,n=e.height,t=s(i,n),d=t.getContext("2d");d.imageSmoothingEnabled=!1,d.drawImage(e,0,0,i,n);const c=d.getImageData(0,0,i,n);let g=255,u=0;for(let e=1;e<n-1;e++)for(let r=1;r<i-1;r++){const a=o(r,e,c);a[3]>0&&(g=Math.min(g,a[0]),u=Math.max(u,a[0]))}const _=l(r),m=l(a);let f=[];for(let e=1;e<n-1;e++)for(let r=1;r<i-1;r++){const a=o(r,e,c);if(a[3]>0){const i=(a[0]-u)/(u-g);f[0]=m[0]-(_[0]-m[0])*i,f[1]=m[1]-(_[1]-m[1])*i,f[2]=m[2]-(_[2]-m[2])*i,f[3]=a[3],p(r,e,f,c)}}return d.putImageData(c,0,0),t}function s(e,r){if("object"==typeof window){const a=document.createElement("canvas");return a.width=e,a.height=r,a}return i.createCanvas(e,r)}async function u(e){return"object"==typeof window?new Promise((r=>{const a=new Image;a.addEventListener("load",(()=>{r(a)})),a.src=e})):i.loadImage(e)}async function _(e,r,a,i=!1){const o=function(e,r){let a=[],i=0,n=!1;for(const t of r.layers)for(const o of t.items){const p=Object.keys(o.properties).length;let l=0;for(const r in e)o.properties[r]&&o.properties[r]===e[r]&&l++;if(p===l){i+=l;const p=Object.assign({},o);if(p.layer=t.name,p.layer_folder_name=t.folder_name,p.z||(p.z=t.z),p.dynamic_hair_color)for(const a in e)if("Hair Color"===a){for(const i of r.hairColors)if(i.name===e[a]){p.minHairColor=i.min,p.maxHairColor=i.max,n=!0;break}break}a.push(p)}}return i+=n?1:0,Object.keys(e).length!==i&&(console.log("Error with at least one property!"),console.log(`Requested properties: ${Object.keys(e).length}, found: ${i}`),console.log(e)),a}(e,r);let p;i&&(p=[]);const _=s(n,t),m=_.getContext("2d");m.imageSmoothingEnabled=!1;let f=[],h=[],y=[];for(const e of o){const r=`${a}/${e.layer_folder_name}/${e.file}`,i={layer:e.layer,filepath:r,z:e.z,blend:e.blend};if(e.glow&&(i.glow=e.glow),e.file&&f.push(i),e.foreground_file&&e.foreground_z){const r=`${a}/${e.layer_folder_name}/${e.foreground_file}`;f.push({layer:e.layer,filepath:r,z:e.foreground_z})}if(e.dynamic_hair_color&&e.hair_mask_file){const r=`${a}/${e.layer_folder_name}/${e.hair_mask_file}`;f.push({layer:e.layer,filepath:r,z:e.z,dynamicHairColor:e.dynamic_hair_color,minHairColor:e.minHairColor,maxHairColor:e.maxHairColor}),y.push(r)}else e.dynamic_hair_color&&console.log(`Missing hair mask for ${e.properties}`);e.file&&["body","clothes"].includes(e.layer)&&h.push(r),e.file&&["head","clothes"].includes(e.layer)&&y.push(r)}for(let e=f.length-1;e>=0;e--){const r=f[e];["body","clothes"].includes(r.layer)&&f.splice(e,0,{filepath:"reflection",z:r.z+1})}f.sort(((e,r)=>e.z-r.z));for(const e of f)if(i&&m.clearRect(0,0,n,t),e.blend?m.globalCompositeOperation=e.blend:m.globalCompositeOperation="source-over","reflection"===e.filepath){const e=await d(h);m.drawImage(e,0,0,n,t),i&&p.push({name:"reflection",imageData:m.getImageData(0,0,n,t)})}else if(e.glow){const r=l(e.glow),a=await c(e.filepath,r,y);m.drawImage(a,0,0,n,t),i&&p.push({name:"glow",imageData:m.getImageData(0,0,n,t)})}else{let r=await u(e.filepath);e.dynamicHairColor&&(r=g(r,e.minHairColor,e.maxHairColor)),m.drawImage(r,0,0,n,t),i&&p.push({name:e.layer,imageData:m.getImageData(0,0,n,t)})}return i?p:_}},2871:(e,r,a)=>{"use strict";a.d(r,{Z:()=>i});class i{constructor(e,r,a,i){this.nfts=e,this.clickListener=r,this.disabledAssetIds=i,this.ui=document.createElement("ul"),this.ui.className="dropdown-menu",this.ui.id=a,this.displayNfts()}displayNfts(){if(0===this.nfts.length){const e=document.createElement("li");this.ui.append(e),e.innerHTML='<a class="dropdown-item disabled">No assets</a>'}else{const e=document.createElement("div");e.className="mb-2 ps-3 pe-3 pt-1";const r=document.createElement("input");r.type="search",r.className="form-control",r.placeholder="Name, asset ID or trait",e.append(r),this.ui.append(e),r.addEventListener("input",this.filter.bind(this),!1),r.addEventListener("search",this.filter.bind(this),!1)}let e=0;for(const r of this.nfts){const a=document.createElement("li"),i=document.createElement("a");i.className="dropdown-item",i.href="#",i.dataset.index=e,i.id=`nft-${e}`;let n="";this.disabledAssetIds&&this.disabledAssetIds.includes(r.assetId)&&(i.className="dropdown-item disabled",n=' style="opacity: 0.5;"'),i.innerHTML=`<img src="${r.imageUrl}" ${n} class="nft-img"> ${r.name}`,r.handleImageError(i.querySelector(".nft-img")),i.addEventListener("click",this.clickListener,!1),a.append(i),this.ui.append(a),e++}}filter(e){const r=e.currentTarget.value;if(!r)return void this.ui.querySelectorAll(".dropdown-item").forEach((e=>{e.hidden=!1}));let a=r.split(" ");a=a.map((e=>e.trim().toLowerCase())),a=a.filter((e=>e));let i=0;for(const e of this.nfts){let r=!1;e:for(const i of a){if(e.name.toLowerCase().includes(i)||e.assetId==i){r=!0;break}if(e.metadata&&e.metadata.properties)for(const a in e.metadata.properties)if(a.toLowerCase().includes(i)||e.metadata.properties[a].toLowerCase().includes(i)){r=!0;break e}}this.ui.querySelector(`#nft-${i}`).hidden=!r,i++}console.log(a)}}},6998:(e,r,a)=>{"use strict";a.r(r),a.d(r,{BasePage:()=>i});class i{constructor(e,r,a,i){this.walletConnect=e,this.algodClient=a,this.algoIndexer=i,this.holdings=r}}},4714:e=>{"use strict";e.exports=JSON.parse('{"layers":[{"name":"room","folder_name":"00_room","z":0,"items":[{"properties":{"Room":"The Café","Place":"Indoor","Time":"Day"},"file":"the-cafe.png","weight":35},{"properties":{"Room":"The Café","Place":"Indoor","Time":"Night"},"file":"the-cafe-night.png","require":{"Room":"The Café"},"weight":35,"card":true,"card_name":"The Café (Night)","card_image_file":"the-cafe-night.png","card_unit_name":"CARDCAFN","card_quantity":222},{"properties":{"Room":"The Beach","Place":"Outdoor","Time":"Day"},"file":"the-beach.png","weight":18},{"properties":{"Room":"The Beach","Place":"Outdoor","Time":"Dawn"},"file":"the-beach-dawn.png","require":{"Room":"The Beach"},"card":true,"card_name":"The Beach (Dawn)","card_image_file":"the-beach-dawn.png","card_unit_name":"CARDBCDW","card_quantity":150},{"properties":{"Room":"The Beach","Place":"Outdoor","Time":"Night"},"file":"the-beach-night.png","require":{"Room":"The Beach"},"card":true,"card_name":"The Beach (Night)","card_image_file":"the-beach-night.png","card_unit_name":"CARDBCNG","card_quantity":88},{"properties":{"Room":"The Shed","Place":"Indoor","Time":"Night"},"file":"the-shed-night.png","weight":25,"require":{"Room":"The Shed"},"card":true,"card_name":"The Shed (Night)","card_image_file":"the-shed-night.png","card_unit_name":"CARDSHDN","card_quantity":111},{"properties":{"Room":"The Shed","Place":"Indoor","Time":"Day"},"file":"the-shed.png","weight":25},{"properties":{"Room":"The Roof","Place":"Outdoor","Time":"Day"},"file":"the-roof.png","weight":15},{"properties":{"Room":"The Roof","Place":"Outdoor","Time":"Dusk"},"file":"the-roof-dusk.png","require":{"Room":"The Roof"},"card":true,"card_name":"The Roof (Dusk)","card_image_file":"the-roof-dusk.png","card_unit_name":"CARDRFDK","card_quantity":111},{"properties":{"Room":"The Roof","Place":"Outdoor","Time":"Rainbow"},"file":"the-roof-rainbow.png","require":{"Room":"The Roof"},"card":true,"card_name":"The Roof (Rainbow)","card_image_file":"the-roof-rainbow.png","card_unit_name":"CARDRFRW","card_quantity":66},{"properties":{"Room":"The Pool","Place":"Indoor","Time":"Day"},"file":"the-pool.png","weight":4,"foreground_file":"the-pool-foreground.png","foreground_z":25},{"properties":{"Room":"The Pool","Place":"Indoor","Time":"Night"},"file":"the-pool-night.png","require":{"Room":"The Pool"},"foreground_file":"the-pool-night-foreground.png","foreground_z":25,"card":true,"card_name":"The Pool (Night)","card_image_file":"the-pool-night.png","card_unit_name":"CARDPLNG","card_quantity":33}]},{"name":"decoration","folder_name":"01_decoration","z":10,"items":[{"properties":{"Decoration":"Looks Rare Light"},"file":"looks-rare.png","require":{"Place":"Indoor"},"card":true,"card_name":"Looks Rare","card_image_file":"looks-rare.png","card_unit_name":"CARDLKRR","card_quantity":11},{"properties":{"Decoration":"Hundred Neon"},"file":"neon-hundred.png","require":{"Place":"Indoor"},"card":true,"card_name":"Hundred Neon","card_image_file":"neon-hundred.png","card_unit_name":"CARDUDNN","card_quantity":99},{"properties":{"Decoration":"Lightning Neon"},"file":"neon-lightning.png","require":{"Place":"Indoor"},"card":true,"card_name":"Lightning Neon","card_image_file":"neon-lightning.png","card_unit_name":"CARDLGNN","card_quantity":66},{"properties":{"Decoration":"Clouds Neon"},"file":"neon-clouds.png","require":{"Place":"Indoor"},"card":true,"card_name":"Clouds Neon","card_image_file":"neon-clouds.png","card_unit_name":"CARDCLDN","card_quantity":111},{"properties":{"Decoration":"Heart Neon"},"file":"neon-heart.png","require":{"Place":"Indoor"},"card":true,"card_name":"Heart Neon","card_image_file":"neon-heart.png","card_unit_name":"CARDHRTN","card_quantity":99},{"properties":{"Decoration":"Diamond Neon"},"file":"neon-diamond.png","require":{"Place":"Indoor"},"card":true,"card_name":"Diamond Neon","card_image_file":"neon-diamond.png","card_unit_name":"CARDDMDN","card_quantity":33},{"properties":{"Decoration":"Rocket Neon"},"file":"neon-rocket.png","require":{"Place":"Indoor"},"card":true,"card_name":"Rocket Neon","card_image_file":"neon-rocket.png","card_unit_name":"CARDRKTN","card_quantity":88},{"properties":{"Decoration":"Framed YBG"},"file":"ybg.png","require":{"Place":"Indoor"},"card":true,"card_name":"Framed YBG","card_image_file":"ybg.png","card_unit_name":"CARDYBGF","card_quantity":99},{"properties":{"Decoration":"Kanagawa Wave"},"file":"kanagawa-wave.png","require":{"Place":"Indoor"},"card":true,"card_name":"Kanagawa Wave","card_image_file":"kanagawa-wave.png","card_unit_name":"CARDKNWW","card_quantity":66},{"properties":{"Decoration":"Screenprint"},"file":"screenprint.png","require":{"Place":"Indoor"},"card":true,"card_name":"Screenprint","card_image_file":"screenprint.png","card_unit_name":"CARDSCRP","card_quantity":66},{"properties":{"Decoration":"Rugs"},"file":"rugs.png","require":{"Place":"Indoor"},"card":true,"card_name":"Rugs","card_image_file":"rugs.png","card_unit_name":"CARDRUGS","card_quantity":66},{"properties":{"Decoration":"Ficus"},"file":"ficus.png","card":true,"card_name":"Ficus","card_image_file":"ficus.png","card_unit_name":"CARDFICS","card_quantity":333},{"properties":{"Decoration":"Cactus"},"file":"cactus.png","card":true,"card_name":"Cactus","card_image_file":"cactus.png","card_unit_name":"CARDCCTS","card_quantity":333},{"properties":{"Decoration":"Green Wall"},"file":"green-wall.png","require":{"Place":"Indoor"},"card":true,"card_name":"Green Wall","card_image_file":"green-wall.png","card_unit_name":"CARDGRNW","card_quantity":222,"collab":true},{"properties":{"Decoration":"MNGO Neon"},"file":"neon-mngo.png","require":{"Place":"Indoor"},"card":true,"card_name":"MNGO Neon","card_image_file":"neon-mngo.png","card_unit_name":"CARDMGNN","card_quantity":59,"collab":true},{"properties":{"Decoration":"Trok Painting"},"file":"trok-paint.png","require":{"Room":"The Café"},"card":true,"card_name":"Trok Painting","card_image_file":"trok-paint.png","card_unit_name":"CARDTKPT","card_quantity":14,"collab":true},{"properties":{"Decoration":"Crown Painting"},"file":"crown.png","require":{"Room":"The Café"},"card":true,"card_name":"Crown Painting","card_image_file":"crown.png","card_unit_name":"CARDCRWN","card_quantity":33,"collab":true},{"properties":{"Decoration":"CoffeeDAO Neon"},"file":"neon-bean.png","require":{"Place":"Indoor"},"card":true,"card_name":"CoffeeDAO Neon","card_image_file":"neon-bean.png","card_unit_name":"CARDCFDN","card_quantity":40,"collab":true},{"properties":{"Decoration":"Trinley Painting"},"file":"trinley.png","require":{"Place":"Indoor"},"card":true,"card_name":"Trinley Painting","card_image_file":"trinley.png","card_unit_name":"CARDTYPT","card_quantity":37,"collab":true},{"properties":{"Decoration":"None"},"file":null,"weight":1}]},{"name":"cup","folder_name":"02_cup","z":20,"items":[{"properties":{"Cup":"Basic"},"file":"basic.png","weight":100},{"properties":{"Cup":"Bath Club"},"file":"bath-club.png","weight":20},{"properties":{"Cup":"Green Dot"},"file":"dot-green.png","weight":15},{"properties":{"Cup":"Blue"},"file":"blue.png","weight":35},{"properties":{"Cup":"Red Lines"},"file":"lines-red.png","weight":25},{"properties":{"Cup":"Blue Lines"},"file":"lines-blue.png","weight":35},{"properties":{"Cup":"Eyes"},"file":"eyes.png","weight":20},{"properties":{"Cup":"Pink"},"file":"pink.png","weight":35},{"properties":{"Cup":"Heart"},"file":"heart.png","weight":15},{"properties":{"Cup":"Earth"},"file":"earth.png","weight":10},{"properties":{"Cup":"Moon"},"file":"moon.png","weight":5},{"properties":{"Cup":"Fire"},"file":"fire.png","card":true,"card_name":"Fire Mug","card_image_file":"fire-mug.png","card_unit_name":"CARDFIRM","card_quantity":66},{"properties":{"Cup":"YBG"},"file":"ybg.png","card":true,"card_name":"YBG Mug","card_image_file":"ybg-mug.png","card_unit_name":"CARDYNGM","card_quantity":66},{"properties":{"Cup":"Golden Crown"},"file":"golden-crown.png","card":true,"card_name":"Golden Crown Mug","card_image_file":"golden-crown-mug.png","card_unit_name":"CARDGLDC","card_quantity":12},{"properties":{"Cup":"Camo"},"file":"camo.png","card":true,"card_name":"Camo Mug","card_image_file":"camo-mug.png","card_unit_name":"CARDCMOM","card_quantity":44},{"properties":{"Cup":"Glass"},"file":"glass.png","card":true,"card_name":"Glass Mug","card_image_file":"glass-mug.png","card_unit_name":"CARDGLSM","card_quantity":11},{"properties":{"Cup":"Mummy"},"file":"mummy.png","card":true,"card_name":"Mummy Mug","card_image_file":"mummy-mug.png","card_unit_name":"CARDMMYM","card_quantity":33},{"properties":{"Cup":"Pixel Monster"},"file":"pixel-monster.png","card":true,"card_name":"Pixel Monster","card_image_file":"pixel-monster.png","card_unit_name":"CARDPXLM","card_quantity":66},{"properties":{"Cup":"Atomic"},"file":"atomic.png","card":true,"card_name":"Atomic Mug","card_image_file":"atomic-mug.png","card_unit_name":"CARDATCM","card_quantity":44},{"properties":{"Cup":"Silver"},"file":"silver.png","card":true,"card_name":"Silver Mug","card_image_file":"silver-mug.png","card_unit_name":"CARDSLVM","card_quantity":99},{"properties":{"Cup":"Copper"},"file":"copper.png","card":true,"card_name":"Copper Mug","card_image_file":"copper-mug.png","card_unit_name":"CARDCPRM","card_quantity":111},{"properties":{"Cup":"Purple"},"file":"purple.png","card":true,"card_name":"Purple Mug","card_image_file":"purple-mug.png","card_unit_name":"CARDPRLM","card_quantity":77},{"properties":{"Cup":"Espresso"},"require":{"Room":"The Café"},"file":"espresso.png","card":true,"card_name":"Espresso","card_image_file":"espresso-cup.png","card_unit_name":"CARDESPR","card_quantity":99},{"properties":{"Cup":"Al Goanna"},"file":"algoanna.png","card":true,"card_name":"Al Goanna Mug","card_image_file":"algoanna-mug.png","card_unit_name":"CARDAGNM","card_quantity":20,"collab":true},{"properties":{"Cup":"CGF"},"file":"cgf.png","card":true,"card_name":"CGF Mug","card_image_file":"cgf-mug.png","card_unit_name":"CARDCGFM","card_quantity":63,"collab":true},{"properties":{"Cup":"Gekofam"},"file":"geko.png","card":true,"card_name":"Gekofam Mug","card_image_file":"geko-mug.png","card_unit_name":"CARDGKOM","card_quantity":19,"collab":true},{"properties":{"Cup":"Yieldling"},"file":"yieldling.png","card":true,"card_name":"Yieldling Mug","card_image_file":"yieldling-mug.png","card_unit_name":"CARDYDGM","card_quantity":22,"collab":true},{"properties":{"Cup":"Young Brute Gang"},"file":"youngbrutegang.png","card":true,"card_name":"Young Brute Gang","card_image_file":"youngbrutegang-mug.png","card_unit_name":"CARDYBGM","card_quantity":10,"collab":true},{"properties":{"Cup":"Nalgos"},"file":"nalgos.png","card":true,"card_name":"Nalgos Mug","card_image_file":"nalgos-mug.png","card_unit_name":"CARDNLGM","card_quantity":34,"collab":true},{"properties":{"Cup":"SoulPod"},"file":"soulpod.png","card":true,"card_name":"SoulPod Mug","card_image_file":"soulpod-mug.png","card_unit_name":"CARDSPDM","card_quantity":27,"collab":true},{"properties":{"Cup":"SoulPod Moss"},"file":"soulpod-moss.png","card":true,"card_name":"SoulPod Moss Mug","card_image_file":"soulpod-moss-mug.png","card_unit_name":"CARDSPMM","card_quantity":28,"collab":true},{"properties":{"Cup":"Grocery Shop Game"},"file":"lemon-legion.png","card":true,"card_name":"Grocery Shop Game","card_image_file":"lemon-legion-mug.png","card_unit_name":"CARDGSGM","card_quantity":42,"collab":true}]},{"name":"body","folder_name":"04_body","z":40,"items":[{"properties":{"Body":"Pale"},"file":"pale.png","weight":9},{"properties":{"Body":"Tan"},"file":"tan.png","weight":9},{"properties":{"Body":"Pink"},"file":"pink.png","weight":3},{"properties":{"Body":"Dark"},"file":"dark.png","weight":9},{"properties":{"Body":"Atomic"},"file":"atomic.png","glow":"#C5FF0730","card":true,"card_name":"Atomic Body","card_image_file":"atomic-body.png","card_unit_name":"CARDATMB","card_quantity":76},{"properties":{"Body":"Diamond"},"file":"diamond.png","glow":"#C2FFFD30","card":true,"card_name":"Diamond Body","card_image_file":"diamond-body.png","card_unit_name":"CARDDMDB","card_quantity":24},{"properties":{"Body":"Gold"},"file":"gold.png","glow":"#FFDF1230","card":true,"card_name":"Gold Body","card_image_file":"gold-body.png","card_unit_name":"CARDGLDB","card_quantity":3},{"properties":{"Body":"Silver"},"file":"silver.png","glow":"#FFFFFF30","card":true,"card_name":"Silver Body","card_image_file":"silver-body.png","card_unit_name":"CARDSLVB","card_quantity":64},{"properties":{"Body":"Copper"},"file":"copper.png","glow":"#FF852E30","card":true,"card_name":"Copper Body","card_image_file":"copper-body.png","card_unit_name":"CARDCPRB","card_quantity":99},{"properties":{"Body":"Ice"},"file":"ice.png","card":true,"card_name":"Ice Body","card_image_file":"ice-body.png","card_unit_name":"CARDICEB","card_quantity":66},{"properties":{"Body":"Glass"},"file":"glass.png","card":true,"card_name":"Glass Body","card_image_file":"glass-body.png","card_unit_name":"CARDGLSB","card_quantity":11},{"properties":{"Body":"Acid"},"file":"acid.png","card":true,"card_name":"Acid Body","card_image_file":"acid-body.png","card_unit_name":"CARDACDB","card_quantity":11},{"properties":{"Body":"Camo"},"file":"camo.png","card":true,"card_name":"Camo Body","card_image_file":"camo-body.png","card_unit_name":"CARDCMOB","card_quantity":33}]},{"name":"mouth","folder_name":"05_mouth","z":50,"items":[{"properties":{"Mouth":"Basic"},"file":"basic.png","weight":1,"blend":"multiply"}]},{"name":"clothes","folder_name":"06_clothes","z":60,"items":[{"properties":{"Clothes":"Pink Tee"},"file":"tee-pink.png","weight":10},{"properties":{"Clothes":"Green Tee"},"file":"tee-green.png","weight":20},{"properties":{"Clothes":"Navy Blue Tee"},"file":"tee-navy-blue.png","weight":20},{"properties":{"Clothes":"Heart Tee"},"file":"tee-heart.png","require":{"Mini Cup":"Grey"},"weight":5},{"properties":{"Clothes":"Camo Tee"},"file":"tee-camo.png","weight":8},{"properties":{"Clothes":"Tie and Dye Tee"},"file":"tee-tie-and-dye.png","require":{"Mini Cup":"Grey"},"weight":6},{"properties":{"Clothes":"Tracksuit"},"file":"tracksuit.png","weight":10},{"properties":{"Clothes":"Arm Buoy"},"file":"arm-buoy.png","weight":5},{"properties":{"Clothes":"Baseball Shirt"},"file":"shirt-baseball.png","require":{"Mini Cup":"Grey"},"weight":20},{"properties":{"Clothes":"Black Jersey"},"file":"jersey-black.png","require":{"Mini Cup":"Grey"},"weight":10},{"properties":{"Clothes":"Green Jersey"},"file":"jersey-green.png","require":{"Mini Cup":"Grey"},"weight":15},{"properties":{"Clothes":"Striped Tank"},"file":"tank-stripes.png","weight":10},{"properties":{"Clothes":"Bicolor Tank"},"file":"tank-bicolor.png","weight":10},{"properties":{"Clothes":"Christmas Jumper"},"file":"christmas-jumper.png","weight":15},{"properties":{"Clothes":"Orange Jumper"},"file":"jumper-orange.png","weight":12},{"properties":{"Clothes":"Scarf"},"file":"scarf.png","weight":10},{"properties":{"Clothes":"Green Shirt"},"file":"green-shirt.png","require":{"Mini Cup":"Grey"},"weight":20},{"properties":{"Clothes":"Lumberjack"},"file":"lumberjack.png","weight":18},{"properties":{"Clothes":"Blue Puffy"},"file":"puffy-blue.png","weight":10},{"properties":{"Clothes":"Orange and Cream Puffy"},"file":"puffy-cream-orange.png","weight":5},{"properties":{"Clothes":"Yellow and Green Puffy"},"file":"puffy-yellow-green.png","weight":5},{"properties":{"Clothes":"Blue Double Tee"},"file":"double-tee-blue.png","weight":20},{"properties":{"Clothes":"Lightning Double Tee"},"file":"double-tee-lightning.png","weight":10},{"properties":{"Clothes":"Long Sleeves Black"},"require":{"Mini Cup":"Basic"},"file":"tee-black-long-sleeves.png","weight":25},{"properties":{"Clothes":"Red Suspenders"},"file":"suspenders-red.png","require":{"Mini Cup":"Grey"},"weight":8},{"properties":{"Clothes":"Blue Suspenders"},"file":"suspenders-blue.png","require":{"Mini Cup":"Grey"},"weight":10},{"properties":{"Clothes":"White Shirt"},"file":"shirt-white.png","require":{"Mini Cup":"Grey"},"weight":25},{"properties":{"Clothes":"Blue Shirt"},"file":"shirt-blue.png","weight":15},{"properties":{"Clothes":"Denim Shirt"},"file":"shirt-denim.png","require":{"Mini Cup":"Grey"},"weight":15},{"properties":{"Clothes":"Hawaii Shirt"},"file":"shirt-hawaii.png","require":{"Mini Cup":"Grey"},"weight":15},{"properties":{"Clothes":"Pink Hoodie"},"file":"hoodie-pink.png","weight":20},{"properties":{"Clothes":"Yellow Hoodie"},"file":"hoodie-yellow.png","weight":10},{"properties":{"Clothes":"Striped Long Sleeves"},"file":"tee-stripes-long-sleeves.png","weight":18},{"properties":{"Clothes":"Striped Tee"},"file":"tee-striped.png","weight":15},{"properties":{"Clothes":"Rainbow Tee"},"file":"tee-rainbow.png","weight":5},{"properties":{"Clothes":"Blue Polo"},"require":{"Mini Cup":"Basic"},"file":"polo-blue.png","weight":20},{"properties":{"Clothes":"Purple Polo"},"require":{"Mini Cup":"Basic"},"file":"polo-purple.png","weight":15},{"properties":{"Clothes":"Nips"},"file":null,"weight":3}]},{"name":"beard","folder_name":"07_beard","z":70,"items":[{"properties":{"Beard":"Beard"},"file":null,"dynamic_hair_color":true,"hair_mask_file":"beard.png","weight":10},{"properties":{"Beard":"Big Beard"},"file":null,"dynamic_hair_color":true,"hair_mask_file":"beard-big.png","weight":20},{"properties":{"Beard":"Goatee"},"file":null,"dynamic_hair_color":true,"hair_mask_file":"goatee.png","weight":10},{"properties":{"Beard":"Mustache"},"file":null,"dynamic_hair_color":true,"hair_mask_file":"mustache.png","weight":5},{"properties":{"Beard":"Stubble"},"file":null,"dynamic_hair_color":true,"hair_mask_file":"stubble.png","weight":10},{"properties":{"Beard":"None"},"file":null,"weight":100}]},{"name":"minicup","folder_name":"08_mini_cup","z":80,"items":[{"properties":{"Mini Cup":"Basic"},"file":"basic.png","weight":10},{"properties":{"Mini Cup":"Grey"},"file":"grey.png","weight":10},{"properties":{"Mini Cup":"Gold"},"file":"gold.png","card":true,"card_name":"Gold Minimug","card_image_file":"gold-minicup.png","card_unit_name":"CARDGLDM","card_quantity":3},{"properties":{"Mini Cup":"Atomic"},"file":"atomic.png","card":true,"card_name":"Atomic Minimug","card_image_file":"atomic-minicup.png","card_unit_name":"CARDATMM","card_quantity":33},{"properties":{"Mini Cup":"French Press Pot"},"file":"french-press-pot.png","card":true,"card_name":"French Press Pot","card_image_file":"french-press-pot.png","card_unit_name":"CARDFRCP","card_quantity":33},{"properties":{"Mini Cup":"Moka Pot"},"file":"moka-pot.png","card":true,"card_name":"Moka Pot","card_image_file":"moka-pot.png","card_unit_name":"CARDMKAP","card_quantity":88}]},{"name":"head","folder_name":"09_head","z":90,"items":[{"properties":{"Head":"Short Hair"},"file":null,"dynamic_hair_color":true,"hair_mask_file":"hair-short.png","weight":10},{"properties":{"Head":"Quiff"},"file":null,"dynamic_hair_color":true,"hair_mask_file":"quiff.png","weight":8},{"properties":{"Head":"Bun"},"file":null,"dynamic_hair_color":true,"hair_mask_file":"bun.png","weight":3},{"properties":{"Head":"Long Hair"},"file":null,"dynamic_hair_color":true,"hair_mask_file":"long.png","weight":3},{"properties":{"Head":"Parting"},"file":null,"dynamic_hair_color":true,"hair_mask_file":"parting.png","weight":4},{"properties":{"Head":"Mullet"},"file":null,"dynamic_hair_color":true,"hair_mask_file":"mullet.png","weight":3},{"properties":{"Head":"Fringe"},"file":null,"dynamic_hair_color":true,"hair_mask_file":"fringe.png","weight":3},{"properties":{"Head":"Messy"},"file":null,"dynamic_hair_color":true,"hair_mask_file":"messy.png","weight":4},{"properties":{"Head":"Hawk"},"file":null,"dynamic_hair_color":true,"hair_mask_file":"hawk.png","weight":1},{"properties":{"Head":"Pompadour"},"file":null,"dynamic_hair_color":true,"hair_mask_file":"pompadour.png","weight":2},{"properties":{"Head":"Swim Cap Blue"},"file":"swim-cap-blue.png","weight":6},{"properties":{"Head":"Swim Cap White"},"file":"swim-cap-white.png","weight":4},{"properties":{"Head":"Bucket Pink"},"file":"bucket-pink.png","dynamic_hair_color":true,"hair_mask_file":"bucket-pink-hair.png","weight":5},{"properties":{"Head":"Bucket Green"},"file":"bucket-green.png","dynamic_hair_color":true,"hair_mask_file":"bucket-green-hair.png","weight":4},{"properties":{"Head":"Red Cap"},"file":"cap-red.png","weight":5},{"properties":{"Head":"Green Cap"},"file":"cap-green.png","dynamic_hair_color":true,"hair_mask_file":"cap-green-hair.png","weight":3},{"properties":{"Head":"Backward Cap"},"file":"cap-backward.png","dynamic_hair_color":true,"hair_mask_file":"cap-backward-hair.png","weight":3},{"properties":{"Head":"Chapka"},"file":"chapka.png","require":{"Eyes":"Basic"},"weight":3},{"properties":{"Head":"Red Racing Helmet"},"file":"racing-helmet-red.png","require":{"Eyes":"Basic"},"weight":3},{"properties":{"Head":"White Racing Helmet"},"file":"racing-helmet-white.png","require":{"Eyes":"Basic"},"weight":2},{"properties":{"Head":"Yellow Beanie"},"file":"beanie-yellow.png","dynamic_hair_color":true,"hair_mask_file":"beanie-yellow-hair.png","weight":4},{"properties":{"Head":"Orange Beanie"},"file":"beanie-orange.png","weight":4},{"properties":{"Head":"Pompom Beanie"},"file":"beanie-pompom.png","dynamic_hair_color":true,"hair_mask_file":"beanie-pompom-hair.png","weight":2},{"properties":{"Head":"Red and Blue Headband"},"file":"headband-red-blue.png","dynamic_hair_color":true,"hair_mask_file":"headband-red-blue-hair.png","weight":4},{"properties":{"Head":"Orange and Green Headband"},"file":"headband-green-orange.png","dynamic_hair_color":true,"hair_mask_file":"headband-green-orange-hair.png","weight":4},{"properties":{"Head":"Shushi Chef"},"file":"shushi-chef.png","weight":2},{"properties":{"Head":"Army Cap"},"file":"cap-army.png","dynamic_hair_color":true,"hair_mask_file":"cap-army-hair.png","weight":2},{"properties":{"Head":"Crown"},"file":"crown.png","dynamic_hair_color":true,"hair_mask_file":"crown-hair.png","weight":1},{"properties":{"Head":"Sprout"},"file":"sprout.png","weight":3},{"properties":{"Head":"Red Bandana"},"file":"bandana-red.png","weight":2},{"properties":{"Head":"Blue Bandana"},"file":"bandana-blue.png","weight":4},{"properties":{"Head":"Straw Hat"},"file":"straw-hat.png","dynamic_hair_color":true,"hair_mask_file":"straw-hat-hair.png","weight":4},{"properties":{"Head":"Headphones"},"file":"headphones.png","require":{"Eyes":"Basic"},"z":105,"dynamic_hair_color":true,"hair_mask_file":"headphones-hair.png","weight":5},{"properties":{"Head":"Bald"},"file":null,"weight":6}]},{"name":"eyes","folder_name":"10_eyes","z":100,"items":[{"properties":{"Eyes":"Basic"},"file":"basic.png","weight":100,"z":85,"foreground_file":"basic-white.png","foreground_z":85,"blend":"multiply"},{"properties":{"Eyes":"3D Glasses"},"require":{"Head":"Short Hair"},"file":"3d-glasses.png","weight":16},{"properties":{"Eyes":"Glasses"},"file":"glasses.png","weight":20},{"properties":{"Eyes":"Scuba Goggles"},"file":"scuba-goggles.png","weight":16},{"properties":{"Eyes":"Ski Goggles"},"file":"ski-goggles.png","weight":5},{"properties":{"Eyes":"Purple Sunglasses"},"file":"sunglasses-purple.png","weight":6},{"properties":{"Eyes":"Orange Sunglasses"},"file":"sunglasses-orange.png","weight":8},{"properties":{"Eyes":"Sunglasses"},"file":"sunglasses.png","weight":6}]},{"name":"power","folder_name":"11_power","z":110,"items":[{"properties":{"Power":"Love"},"file":"love.png","foreground_file":"love-foreground.png","foreground_z":35,"card":true,"card_name":"Love","card_image_file":"love-power.png","card_unit_name":"CARDLOVP","card_quantity":109},{"properties":{"Power":"Lightnings"},"file":"lightnings.png","card":true,"card_name":"Lightnings","card_image_file":"lightnings-power.png","card_unit_name":"CARDLGNG","card_quantity":95},{"properties":{"Power":"Sparkles"},"file":"sparkles.png","card":true,"card_name":"Sparkles","card_image_file":"sparkles-power.png","card_unit_name":"CARDSPKP","card_quantity":66},{"properties":{"Power":"Bubblegum"},"file":"bubblegum.png","card":true,"card_name":"Bubblegum","card_image_file":"bubblegum-power.png","card_unit_name":"CARDBBGP","card_quantity":33},{"properties":{"Power":"Barfing Rainbow"},"file":"barfing-rainbow.png","card":true,"card_name":"Barfing Rainbow","card_image_file":"barfing-rainbow-power.png","card_unit_name":"CARDBRRP","card_quantity":63},{"properties":{"Power":"Barfing Atomic"},"file":"barfing-atomic.png","card":true,"card_name":"Barfing Atomic","card_image_file":"barfing-atomic-power.png","card_unit_name":"CARDBRAP","card_quantity":44},{"properties":{"Power":"Cloudy"},"file":"cloudy.png","foreground_file":"cloudy-foreground.png","foreground_z":35,"card":true,"card_name":"Cloudy","card_image_file":"cloudy-power.png","card_unit_name":"CARDCLDP","card_quantity":142},{"properties":{"Power":"Fire"},"file":"fire.png","card":true,"card_name":"Fire","card_image_file":"fire-power.png","card_unit_name":"CARDFIRP","card_quantity":130},{"properties":{"Power":"Mingos"},"file":"mingos.png","card":true,"card_name":"Mingos","card_image_file":"mingos-power.png","card_unit_name":"CARDMNGP","card_quantity":50},{"properties":{"Power":"Halo"},"z":35,"file":"halo.png","card":true,"card_name":"Halo","card_image_file":"halo-power.png","card_unit_name":"CARDHLOP","card_quantity":56},{"properties":{"Power":"Laser Eyes"},"file":"laser.png","z":85,"require":{"Eyes":"Basic"},"card":true,"card_name":"Laser Eyes","card_image_file":"laser-power.png","card_unit_name":"CARDLSRP","card_quantity":40},{"properties":{"Power":"Green Laser Eyes"},"file":"green-laser.png","z":85,"require":{"Eyes":"Basic"},"card":true,"card_name":"Green Laser Eyes","card_image_file":"green-laser-power.png","card_unit_name":"CARDGLRP","card_quantity":66},{"properties":{"Power":"Devil Eyes"},"file":"devil-eyes.png","z":85,"require":{"Eyes":"Basic"},"card":true,"card_name":"Devil Eyes","card_image_file":"devil-power.png","card_unit_name":"CARDDVLP","card_quantity":66},{"properties":{"Power":"Blue Rays"},"file":"blue-rays.png","z":85,"require":{"Eyes":"Basic"},"card":true,"card_name":"Blue Rays","card_image_file":"blue-rays.png","card_unit_name":"CARDBLRP","card_quantity":88},{"properties":{"Power":"Sun Eyes"},"file":"sun-eyes.png","z":85,"require":{"Eyes":"Basic"},"card":true,"card_name":"Sun Eyes","card_image_file":"sun-eyes-power.png","card_unit_name":"CARDSUNP","card_quantity":52},{"properties":{"Power":"Whales"},"file":"whales.png","foreground_file":"whales-foreground.png","foreground_z":35,"card":true,"card_name":"Whales","card_image_file":"whales-power.png","card_unit_name":"CARDWHLP","card_quantity":44},{"properties":{"Power":"Nessie"},"file":"nessie.png","foreground_file":"nessie-foreground.png","foreground_z":35,"card":true,"card_name":"Nessie","card_image_file":"nessie-power.png","card_unit_name":"CARDNSSP","card_quantity":11},{"properties":{"Power":"Octopus"},"file":"octopus.png","card":true,"card_name":"Octopus","card_image_file":"octopus-power.png","card_unit_name":"CARDOCTP","card_quantity":44},{"properties":{"Power":"Paper Boat"},"file":"paper-boat.png","foreground_file":"paper-boat-foreground.png","foreground_z":35,"card":true,"card_name":"Paper Boat","card_image_file":"paper-boat-power.png","card_unit_name":"CARDPPBP","card_quantity":17},{"properties":{"Power":"Duck"},"file":"duck.png","foreground_file":"duck.png","foreground_z":35,"card":true,"card_name":"Duck","card_image_file":"duck-power.png","card_unit_name":"CARDDCKP","card_quantity":66},{"properties":{"Power":"Rain"},"file":"rain.png","card":true,"card_name":"Rain","card_image_file":"rain-power.png","card_unit_name":"CARDRANP","card_quantity":23},{"properties":{"Power":"Alien Coffee"},"file":"alien-coffee.png","z":25,"card":true,"card_name":"Alien Coffee","card_image_file":"alien-coffee.png","card_unit_name":"CARDALNC","card_quantity":44},{"properties":{"Power":"Lava Coffee"},"file":"lava-coffee.png","z":25,"card":true,"card_name":"Lava Coffee","card_image_file":"lava-coffee.png","card_unit_name":"CARDLVAC","card_quantity":55},{"properties":{"Power":"Atomic Coffee"},"file":"atomic-coffee.png","z":25,"card":true,"card_name":"Atomic Coffee","card_image_file":"atomic-coffee.png","card_unit_name":"CARDATMC","card_quantity":66},{"properties":{"Power":"Golden Coffee"},"file":"golden-coffee.png","z":25,"card":true,"card_name":"Golden Coffee","card_image_file":"golden-coffee.png","card_unit_name":"CARDGOLC","card_quantity":11},{"properties":{"Power":"AOWL"},"file":"algotheowl.png","card":true,"card_name":"AOWL","card_image_file":"algotheowl-power.png","card_unit_name":"CARDOWLP","card_quantity":51,"collab":true},{"properties":{"Power":"None"},"file":null,"weight":1}]}],"hairColors":[{"name":"Blonde","min":"#E3BB3AFF","max":"#EAD07AFF","weight":10},{"name":"Brown","min":"#583519FF","max":"#996431FF","weight":40},{"name":"Dark","min":"#191411FF","max":"#5E432FFF","weight":40},{"name":"Red","min":"#BC4A0DFF","max":"#D66426FF","weight":8},{"name":"Grey","min":"#7A7660FF","max":"#B1AFA0FF","weight":13}]}')}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNKLENBRUEsR0FBSXJCLEVBQUl3QixVQUFZeEIsRUFBSXdCLFNBQVMvRixXQUM3QixJQUFLLE1BQU1nRyxLQUFPekIsRUFBSXdCLFNBQVMvRixXQUUzQixHQUFJZ0csRUFBSUwsY0FBY2xELFNBQVNxRCxJQUFTdkIsRUFBSXdCLFNBQVMvRixXQUFXZ0csR0FBS0wsY0FBY2xELFNBQVNxRCxHQUFNLENBQzlGRixHQUFRLEVBQ1IsTUFBTUMsQ0FDVixDQUlaLENBRW9CbkMsS0FBS0MsR0FBR21CLGNBQWMsUUFBUXBDLEtBRWxDMkMsUUFEWk8sRUFNSmxELEdBQ0osQ0FDQWpCLFFBQVFDLElBQUk0RCxFQUVkLEUsNkRDekhLLE1BQU1XLEVBRVQ1QyxZQUFZNkMsRUFBZUMsRUFBVUMsRUFBYUMsR0FFOUMzQyxLQUFLd0MsY0FBZ0JBLEVBQ3JCeEMsS0FBSzBDLFlBQWNBLEVBQ25CMUMsS0FBSzJDLFlBQWNBLEVBQ25CM0MsS0FBS3lDLFNBQVdBLENBSXBCLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHVkaW8vLi4vYmF0aC1jbHViL2RyYXcuanMiLCJ3ZWJwYWNrOi8vc3R1ZGlvLy4vc3JjL2NvbW1vbi9kcm9wZG93bi1uZnRzLmpzIiwid2VicGFjazovL3N0dWRpby8uL3NyYy9wYWdlcy9iYXNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjYW52YXNQa2cgZnJvbSAnY2FudmFzJztcblxuZXhwb3J0IGNvbnN0IGltYWdlV2lkdGggPSA0ODtcbmV4cG9ydCBjb25zdCBpbWFnZUhlaWdodCA9IDQ4O1xuXG5jb25zdCBpbWFnZUJpZ1dpZHRoID0gOTYwO1xuY29uc3QgaW1hZ2VCaWdIZWlnaHQgPSA5NjA7XG5cbmZ1bmN0aW9uIGdldEl0ZW1zRnJvbVByb3BlcnRpZXMocHJvcGVydGllcywgbGF5ZXJzRGVmaW5pdGlvbnMpe1xuXG4gICAgLy9maW5kIGl0ZW0gaW4gZWFjaCBsYXllciB0aGF0IG1hdGNoIHByb3BlcnRpZXNcbiAgICBsZXQgaXRlbXMgPSBbXVxuICAgIGxldCBwcm9wZXJ0aWVzRm91bmQgPSAwO1xuICAgIGxldCBoYWlyQ29sb3JGb3VuZCA9IGZhbHNlO1xuXG4gICAgZm9yIChjb25zdCBsYXllciBvZiBsYXllcnNEZWZpbml0aW9ucy5sYXllcnMpe1xuXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBsYXllci5pdGVtcyl7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGl0ZW0pXG5cbiAgICAgICAgICAgIGNvbnN0IG51bVByb3BlcnRpZXMgPSBPYmplY3Qua2V5cyhpdGVtLnByb3BlcnRpZXMpLmxlbmd0aFxuICAgICAgICAgICAgbGV0IGVxdWFsUHJvcGVydGllcyA9IDBcblxuICAgICAgICAgICAgZm9yKGNvbnN0IHByb3BlcnR5TmFtZSBpbiBwcm9wZXJ0aWVzKXtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5wcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV0gJiYgaXRlbS5wcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV0gPT09IHByb3BlcnRpZXNbcHJvcGVydHlOYW1lXSl7XG4gICAgICAgICAgICAgICAgICAgIGVxdWFsUHJvcGVydGllcysrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG51bVByb3BlcnRpZXMgPT09IGVxdWFsUHJvcGVydGllcyl7XG5cbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzRm91bmQgKz0gZXF1YWxQcm9wZXJ0aWVzO1xuXG4gICAgICAgICAgICAgICAgLy9hZGQgc29tZSBpbmZvIHRvIHRoZSBpdGVtXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3SXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pOyAvL21ha2UgYSBzaGFsbG93IGNvcHlcblxuICAgICAgICAgICAgICAgIG5ld0l0ZW0ubGF5ZXIgPSBsYXllci5uYW1lO1xuICAgICAgICAgICAgICAgIG5ld0l0ZW0ubGF5ZXJfZm9sZGVyX25hbWUgPSBsYXllci5mb2xkZXJfbmFtZTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoIW5ld0l0ZW0ueil7XG4gICAgICAgICAgICAgICAgICAgIG5ld0l0ZW0ueiA9IGxheWVyLno7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG5ld0l0ZW0uZHluYW1pY19oYWlyX2NvbG9yKXtcblxuICAgICAgICAgICAgICAgICAgICAvL2xvb2sgZm9yIGhhaXIgY29sb3IgaW4gcHJvcGVydGllc1xuICAgICAgICAgICAgICAgICAgICBmb3IoY29uc3QgcHJvcGVydHlOYW1lIGluIHByb3BlcnRpZXMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5TmFtZSA9PT0gXCJIYWlyIENvbG9yXCIpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBoYWlyQ29sb3Igb2YgbGF5ZXJzRGVmaW5pdGlvbnMuaGFpckNvbG9ycyl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhaXJDb2xvci5uYW1lID09PSBwcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV0pe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJdGVtLm1pbkhhaXJDb2xvciA9IGhhaXJDb2xvci5taW47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJdGVtLm1heEhhaXJDb2xvciA9IGhhaXJDb2xvci5tYXg7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhaXJDb2xvckZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKG5ld0l0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBcbiAgICBwcm9wZXJ0aWVzRm91bmQgKz0gaGFpckNvbG9yRm91bmQgPyAxIDogMDtcblxuICAgIC8vY2hlY2sgdGhhdCBldmVyeSBwcm9wZXJ0aWVzIGhhdmUgZm91bmQgYW4gaXRlbVxuICAgIGlmIChPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKS5sZW5ndGggIT09IHByb3BlcnRpZXNGb3VuZCl7XG4gICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciB3aXRoIGF0IGxlYXN0IG9uZSBwcm9wZXJ0eSEnKTtcbiAgICAgICAgY29uc29sZS5sb2coYFJlcXVlc3RlZCBwcm9wZXJ0aWVzOiAke09iamVjdC5rZXlzKHByb3BlcnRpZXMpLmxlbmd0aH0sIGZvdW5kOiAke3Byb3BlcnRpZXNGb3VuZH1gKTtcbiAgICAgICAgY29uc29sZS5sb2cocHJvcGVydGllcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGl0ZW1zXG5cblxufVxuXG5mdW5jdGlvbiBnZXRSR0JBKHgsIHksIGltYWdlRGF0YSl7XG5cbiAgICBjb25zdCBpbmRleCA9ICh5KmltYWdlRGF0YS53aWR0aCArIHgpKjQ7XG4gICAgcmV0dXJuIFtpbWFnZURhdGEuZGF0YVtpbmRleF0sIGltYWdlRGF0YS5kYXRhW2luZGV4ICsgMV0sIGltYWdlRGF0YS5kYXRhW2luZGV4ICsgMl0sIGltYWdlRGF0YS5kYXRhW2luZGV4ICsgM11dO1xufVxuXG5mdW5jdGlvbiBzZXRSR0JBKHgsIHksIHJnYmEsIGltYWdlRGF0YSl7XG5cbiAgICBjb25zdCBpbmRleCA9ICh5KmltYWdlRGF0YS53aWR0aCArIHgpKjQ7XG4gICAgaW1hZ2VEYXRhLmRhdGFbaW5kZXhdID0gcmdiYVswXVxuICAgIGltYWdlRGF0YS5kYXRhW2luZGV4ICsgMV0gPSByZ2JhWzFdXG4gICAgaW1hZ2VEYXRhLmRhdGFbaW5kZXggKyAyXSA9IHJnYmFbMl1cbiAgICBpbWFnZURhdGEuZGF0YVtpbmRleCArIDNdID0gcmdiYVszXVxufVxuXG5mdW5jdGlvbiBoZXhUb1JHQkEoaGV4KSB7XG4gICAgY29uc3QgciA9IHBhcnNlSW50KGhleC5zbGljZSgxLCAzKSwgMTYpO1xuICAgIGNvbnN0IGcgPSBwYXJzZUludChoZXguc2xpY2UoMywgNSksIDE2KTtcbiAgICBjb25zdCBiID0gcGFyc2VJbnQoaGV4LnNsaWNlKDUsIDcpLCAxNik7XG4gICAgY29uc3QgYSA9IHBhcnNlSW50KGhleC5zbGljZSg3LCA5KSwgMTYpO1xuXG4gICAgaWYgKCFpc05hTihhKSkge1xuICAgICAgICByZXR1cm4gW3IsIGcsIGIsIGFdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBbciwgZywgYiwgMjU1XTtcbiAgICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlUmVmbGVjdGlvbihpbWFnZVN0YWNrKXtcblxuICAgIGlmICghaW1hZ2VTdGFjay5sZW5ndGgpe1xuICAgICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvL3JldHJlaXZlIHNpemUgb2YgdGhlIGZpcnN0IGltYWdlXG4gICAgY29uc3QgZmlyc3RJbWFnZSA9IGF3YWl0IGxvYWRJbWFnZShpbWFnZVN0YWNrWzBdKTtcbiAgICBjb25zdCB3aWR0aCA9IGZpcnN0SW1hZ2Uud2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gZmlyc3RJbWFnZS5oZWlnaHQ7XG5cbiAgICAvL2RyYXcgc3RhY2sgaW4gY2FudmFzXG4gICAgY29uc3QgYmFzZUNhbnZhcyA9IGNyZWF0ZUNhbnZhcyh3aWR0aCwgaGVpZ2h0KTtcbiAgICBjb25zdCBiYXNlQ3R4ID0gYmFzZUNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGJhc2VDdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG5cbiAgICAvL2RyYXcgaW1hZ2Ugc3RhY2tcbiAgICBmb3IgKGNvbnN0IGltYWdlUGF0aCBvZiBpbWFnZVN0YWNrKXtcblxuICAgICAgICBjb25zdCBpbWFnZSA9IGF3YWl0IGxvYWRJbWFnZShpbWFnZVBhdGgpO1xuICAgICAgICBiYXNlQ3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxuXG4gICAgLy9jcmVhdGUgcmVmbGVjdGlvbiBjYW52YXNcbiAgICBjb25zdCByZWZsZWN0aW9uQ2FudmFzID0gY3JlYXRlQ2FudmFzKHdpZHRoLCBoZWlnaHQpO1xuICAgIGNvbnN0IHJlZmxlY3Rpb25DdHggPSByZWZsZWN0aW9uQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICBjb25zdCBwaXhlbHMgPSBiYXNlQ3R4LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgIGxldCByZWZsZWN0aW9uSW1hZ2VEYXRhID0gcmVmbGVjdGlvbkN0eC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICBsZXQgbWluWTtcbiAgICBcbiAgICB4bG9vcDpmb3IgKGxldCB4ID0gMDsgeCA8IHdpZHRoOyB4Kyspe1xuICAgICAgICBmb3IgKGxldCB5ID0gaGVpZ2h0IC0gMTsgeSA+PSAwOyB5LS0pe1xuXG4gICAgICAgICAgICAvL2Rvbid0IGRvIHJlZmxlY3Rpb24gb24gbW9yZSB0aGFuIDIgbGluZXNcbiAgICAgICAgICAgIGlmICh5IDwgbWluWSl7XG4gICAgICAgICAgICAgICAgYnJlYWsgeGxvb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHJnYmEgPSBnZXRSR0JBKHgsIHksIHBpeGVscyk7XG4gICAgICAgICAgICBjb25zdCBhbHBoYSA9IHJnYmFbM107XG5cbiAgICAgICAgICAgIGlmIChhbHBoYSA+IDApe1xuICAgICAgICAgICAgICAgIC8vc2V0UkdCQSh4LCB5LCBbMjU1LCAyNTUsIDI1NSwgMTAwXSwgcmVmbGVjdGlvbkltYWdlRGF0YSlcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzZXRSR0JBKHgsIHkgKyAxLCBbcmdiYVswXSwgcmdiYVsxXSwgcmdiYVsyXSwgcmdiYVszXSowLjIwXSwgcmVmbGVjdGlvbkltYWdlRGF0YSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCByZ2JhMiA9IGdldFJHQkEoeCwgeS0xLCBwaXhlbHMpO1xuICAgICAgICAgICAgICAgIHNldFJHQkEoeCwgeSArIDIsIFtyZ2JhMlswXSwgcmdiYTJbMV0sIHJnYmEyWzJdLCByZ2JhMlszXSowLjA4XSwgcmVmbGVjdGlvbkltYWdlRGF0YSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIW1pblkpe1xuICAgICAgICAgICAgICAgICAgICBtaW5ZID0geTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG5cbiAgICAgICAgICAgICAgICBjb250aW51ZSB4bG9vcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhwaXhlbEluZGV4KVxuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWZsZWN0aW9uQ3R4LnB1dEltYWdlRGF0YShyZWZsZWN0aW9uSW1hZ2VEYXRhLCAwLCAwKVxuXG4gICAgcmV0dXJuIHJlZmxlY3Rpb25DYW52YXNcbiAgICBcblxufVxuXG5hc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUJvZHlHbG93KGJvZHlGaWxlcGF0aCwgcmdiYSwgYW50aUdsb3dTdGFjaykge1xuXG4gICAgY29uc3QgYm9keUltYWdlID0gYXdhaXQgbG9hZEltYWdlKGJvZHlGaWxlcGF0aCk7XG4gICAgY29uc3Qgd2lkdGggPSBib2R5SW1hZ2Uud2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gYm9keUltYWdlLmhlaWdodDtcblxuICAgIGNvbnN0IGJvZHlDYW52YXMgPSBjcmVhdGVDYW52YXMod2lkdGgsIGhlaWdodCk7XG4gICAgY29uc3QgYm9keUN0eCA9IGJvZHlDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBib2R5Q3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgYm9keUN0eC5kcmF3SW1hZ2UoYm9keUltYWdlLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgIGNvbnN0IGdsb3dDYW52YXMgPSBjcmVhdGVDYW52YXMod2lkdGgsIGhlaWdodCk7XG4gICAgY29uc3QgZ2xvd0N0eCA9IGdsb3dDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBnbG93Q3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgLy9kcmF3IGVsZW1lbnRzIHRoYXQgY2FuY2VsIHRoZSBkcmF3XG4gICAgY29uc3QgYW50aUdsb3dDYW52YXMgPSBjcmVhdGVDYW52YXMod2lkdGgsIGhlaWdodCk7XG4gICAgY29uc3QgYW50aUdsb3dDdHggPSBhbnRpR2xvd0NhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGFudGlHbG93Q3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgZm9yIChjb25zdCBpbWFnZVBhdGggb2YgYW50aUdsb3dTdGFjayl7XG5cbiAgICAgICAgY29uc3QgaW1hZ2UgPSBhd2FpdCBsb2FkSW1hZ2UoaW1hZ2VQYXRoKTtcbiAgICAgICAgYW50aUdsb3dDdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBjb25zdCBib2R5SW1hZ2VEYXRhID0gYm9keUN0eC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgY29uc3QgZ2xvd0ltYWdlRGF0YSA9IGdsb3dDdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIGNvbnN0IGFudGlHbG93SW1hZ2VEYXRhID0gYW50aUdsb3dDdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgZm9yIChsZXQgeSA9IDE7IHkgPCBoZWlnaHQgLSAxOyB5Kyspe1xuICAgICAgICBmb3IgKGxldCB4ID0gMTsgeCA8IHdpZHRoIC0gMTsgeCsrKXtcblxuICAgICAgICAgICAgY29uc3QgYm9keVJHQkEgPSBnZXRSR0JBKHgsIHksIGJvZHlJbWFnZURhdGEpO1xuICAgICAgICAgICAgY29uc3QgYW50aUdsb3dSR0JBID0gZ2V0UkdCQSh4LCB5LCBhbnRpR2xvd0ltYWdlRGF0YSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGJvZHlSR0JBTGVmdCA9IGdldFJHQkEoeCAtIDEsIHksIGJvZHlJbWFnZURhdGEpO1xuICAgICAgICAgICAgY29uc3QgYm9keVJHQkFSaWdodCA9IGdldFJHQkEoeCArIDEsIHksIGJvZHlJbWFnZURhdGEpO1xuICAgICAgICAgICAgY29uc3QgYm9keVJHQkFUb3AgPSBnZXRSR0JBKHgsIHkgLSAxLCBib2R5SW1hZ2VEYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHlSR0JBQm90ID0gZ2V0UkdCQSh4LCB5ICsgMSwgYm9keUltYWdlRGF0YSk7XG5cbiAgICAgICAgICAgIGlmIChib2R5UkdCQUxlZnRbM10gPT09IDAgJiYgYm9keVJHQkFbM10gPiAwICYmIGFudGlHbG93UkdCQVszXSA8IDI1NSl7XG4gICAgICAgICAgICAgICAgc2V0UkdCQSh4IC0gMSwgeSwgcmdiYSwgZ2xvd0ltYWdlRGF0YSk7XG4gICAgICAgICAgICB9IFxuICAgICAgICAgICAgaWYgKGJvZHlSR0JBUmlnaHRbM10gPT09IDAgJiYgYm9keVJHQkFbM10gPiAwICYmIGFudGlHbG93UkdCQVszXSA8IDI1NSl7XG4gICAgICAgICAgICAgICAgc2V0UkdCQSh4ICsgMSwgeSwgcmdiYSwgZ2xvd0ltYWdlRGF0YSk7XG4gICAgICAgICAgICB9IFxuICAgICAgICAgICAgaWYgKGJvZHlSR0JBVG9wWzNdID09PSAwICYmIGJvZHlSR0JBWzNdID4gMCAmJiBhbnRpR2xvd1JHQkFbM10gPCAyNTUpe1xuICAgICAgICAgICAgICAgIHNldFJHQkEoeCwgeSAtIDEsIHJnYmEsIGdsb3dJbWFnZURhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJvZHlSR0JBQm90WzNdID09PSAwICYmIGJvZHlSR0JBWzNdID4gMCAmJiBhbnRpR2xvd1JHQkFbM10gPCAyNTUpe1xuICAgICAgICAgICAgICAgIHNldFJHQkEoeCwgeSArIDEsIHJnYmEsIGdsb3dJbWFnZURhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2xvd0N0eC5wdXRJbWFnZURhdGEoZ2xvd0ltYWdlRGF0YSwgMCwgMCk7XG5cblxuICAgIGJvZHlDdHguZHJhd0ltYWdlKGdsb3dDYW52YXMsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgcmV0dXJuIGJvZHlDYW52YXM7XG5cbn1cblxuZnVuY3Rpb24gYXBwbHlEeW5hbWljSGFpckNvbG9yKGltYWdlLCBtaW5IYWlyQ29sb3IsIG1heEhhaXJDb2xvcil7XG5cbiAgICBjb25zdCB3aWR0aCA9IGltYWdlLndpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IGltYWdlLmhlaWdodDtcblxuICAgIGNvbnN0IGhhaXJDYW52YXMgPSBjcmVhdGVDYW52YXMod2lkdGgsIGhlaWdodCk7XG4gICAgY29uc3QgaGFpckN0eCA9IGhhaXJDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBoYWlyQ3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgaGFpckN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgY29uc3QgaGFpckltYWdlRGF0YSA9IGhhaXJDdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgbGV0IG1pbkx1bVJHQkEgPSAyNTU7XG4gICAgbGV0IG1heEx1bVJHQkEgPSAwO1xuXG4gICAgZm9yIChsZXQgeSA9IDE7IHkgPCBoZWlnaHQgLSAxOyB5Kyspe1xuICAgICAgICBmb3IgKGxldCB4ID0gMTsgeCA8IHdpZHRoIC0gMTsgeCsrKXtcblxuICAgICAgICAgICAgY29uc3QgaGFpclJHQkEgPSBnZXRSR0JBKHgsIHksIGhhaXJJbWFnZURhdGEpO1xuXG5cbiAgICAgICAgICAgIGlmIChoYWlyUkdCQVszXSA+IDApe1xuICAgICAgICAgICAgICAgIG1pbkx1bVJHQkEgPSBNYXRoLm1pbihtaW5MdW1SR0JBLCBoYWlyUkdCQVswXSk7XG4gICAgICAgICAgICAgICAgbWF4THVtUkdCQSA9IE1hdGgubWF4KG1heEx1bVJHQkEsIGhhaXJSR0JBWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IG1pbkNvbG9yID0gaGV4VG9SR0JBKG1pbkhhaXJDb2xvcik7XG4gICAgY29uc3QgbWF4Q29sb3IgPSBoZXhUb1JHQkEobWF4SGFpckNvbG9yKTtcblxuICAgIGxldCBjb2xvciA9IFtdO1xuXG4gICAgZm9yIChsZXQgeSA9IDE7IHkgPCBoZWlnaHQgLSAxOyB5Kyspe1xuICAgICAgICBmb3IgKGxldCB4ID0gMTsgeCA8IHdpZHRoIC0gMTsgeCsrKXtcblxuICAgICAgICAgICAgY29uc3QgaGFpclJHQkEgPSBnZXRSR0JBKHgsIHksIGhhaXJJbWFnZURhdGEpO1xuXG4gICAgICAgICAgICBpZiAoaGFpclJHQkFbM10gPiAwKXtcblxuICAgICAgICAgICAgICAgIC8vaW50ZXJwb2xhdGUgY29sb3JcbiAgICAgICAgICAgICAgICBjb25zdCByYXRpbyA9IChoYWlyUkdCQVswXSAtIG1heEx1bVJHQkEpLyhtYXhMdW1SR0JBIC0gbWluTHVtUkdCQSk7XG4gICAgICAgICAgICAgICAgY29sb3JbMF0gPSBtYXhDb2xvclswXSAtIChtaW5Db2xvclswXSAtIG1heENvbG9yWzBdKSpyYXRpbztcbiAgICAgICAgICAgICAgICBjb2xvclsxXSA9IG1heENvbG9yWzFdIC0gKG1pbkNvbG9yWzFdIC0gbWF4Q29sb3JbMV0pKnJhdGlvO1xuICAgICAgICAgICAgICAgIGNvbG9yWzJdID0gbWF4Q29sb3JbMl0gLSAobWluQ29sb3JbMl0gLSBtYXhDb2xvclsyXSkqcmF0aW87XG4gICAgICAgICAgICAgICAgY29sb3JbM10gPSBoYWlyUkdCQVszXTtcblxuICAgICAgICAgICAgICAgIHNldFJHQkEoeCwgeSwgY29sb3IsIGhhaXJJbWFnZURhdGEpO1xuICAgICAgICAgICAgfVxuXG5cblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFpckN0eC5wdXRJbWFnZURhdGEoaGFpckltYWdlRGF0YSwgMCwgMCk7XG5cbiAgICByZXR1cm4gaGFpckNhbnZhcztcblxufVxuXG5mdW5jdGlvbiBjcmVhdGVDYW52YXMod2lkdGgsIGhlaWdodCl7XG5cbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHJldHVybiBjYW52YXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNhbnZhc1BrZy5jcmVhdGVDYW52YXMod2lkdGgsIGhlaWdodCk7XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBsb2FkSW1hZ2UoZmlsZXBhdGgpe1xuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIHtcblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG5cbiAgICAgICAgICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG5cbiAgICAgICAgICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG5cbiAgICAgICAgICAgICAgcmVzb2x2ZShpbWFnZSk7XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpbWFnZS5zcmMgPSBmaWxlcGF0aDtcblxuICAgICAgICAgIH0pO1xuXG4gICAgfSBlbHNlIHtcblxuICAgICAgICByZXR1cm4gY2FudmFzUGtnLmxvYWRJbWFnZShmaWxlcGF0aCk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkcmF3KHByb3BlcnRpZXMsIGxheWVyc0RlZmluaXRpb25zLCBsYXllcnNGb2xkZXIsIGV4cG9ydExheWVycyA9IGZhbHNlKXtcblxuICAgIGNvbnN0IGl0ZW1zID0gZ2V0SXRlbXNGcm9tUHJvcGVydGllcyhwcm9wZXJ0aWVzLCBsYXllcnNEZWZpbml0aW9ucylcblxuICAgIGxldCBsYXllcnM7XG4gICAgaWYgKGV4cG9ydExheWVycyl7XG4gICAgICAgIGxheWVycyA9IFtdO1xuICAgIH1cblxuICAgIC8vY3JlYXRlIGNhbnZhcyB0byBwZXJmb3JtIGltYWdlIGRyYXdpbmdcblxuICAgIGNvbnN0IGNhbnZhcyA9IGNyZWF0ZUNhbnZhcyhpbWFnZVdpZHRoLCBpbWFnZUhlaWdodCk7XG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgLy9wcmVwYXJlIGltYWdlIHN0YWNrXG4gICAgbGV0IGltYWdlU3RhY2sgPSBbXVxuICAgIGxldCByZWZsZWN0aW9uU3RhY2sgPSBbXVxuICAgIGxldCBhbnRpR2xvd1N0YWNrID0gW11cblxuICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcyl7XG5cbiAgICAgICAgLyppZighaXRlbS5maWxlKXtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9Ki9cblxuICAgICAgICAvL2dlbmVyYXRlIGltYWdlIGZpbHRlcGF0aFxuICAgICAgICBjb25zdCBpbWFnZUZpbGVwYXRoID0gYCR7bGF5ZXJzRm9sZGVyfS8ke2l0ZW0ubGF5ZXJfZm9sZGVyX25hbWV9LyR7aXRlbS5maWxlfWA7XG5cbiAgICAgICAgLy9jb25zdCBpbWFnZUZpbGVwYXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KG5ldyBVUkwoYCR7bGF5ZXJzRm9sZGVyfS8ke2l0ZW0ubGF5ZXJfZm9sZGVyX25hbWV9LyR7aXRlbS5maWxlfWAsIGltcG9ydC5tZXRhLnVybCkucGF0aG5hbWUpO1xuXG4gICAgICAgIGNvbnN0IGltYWdlSW5mbyA9IHtcbiAgICAgICAgICAgIGxheWVyOiBpdGVtLmxheWVyLFxuICAgICAgICAgICAgZmlsZXBhdGg6IGltYWdlRmlsZXBhdGgsXG4gICAgICAgICAgICB6OiBpdGVtLnosXG4gICAgICAgICAgICBibGVuZDogaXRlbS5ibGVuZFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGl0ZW0uZ2xvdyl7XG4gICAgICAgICAgICBpbWFnZUluZm8uZ2xvdyA9IGl0ZW0uZ2xvd1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGl0ZW0uZmlsZSl7XG4gICAgICAgICAgICBpbWFnZVN0YWNrLnB1c2goaW1hZ2VJbmZvKTtcbiAgICAgICAgfVxuICAgICAgICBcblxuICAgICAgICBpZiAoaXRlbS5mb3JlZ3JvdW5kX2ZpbGUgJiYgaXRlbS5mb3JlZ3JvdW5kX3ope1xuXG4gICAgICAgICAgICAvL2NvbnN0IGZvcmVncm91bmRJbWFnZUZpbGVwYXRoID0gYCR7bGF5ZXJzRm9sZGVyfS8ke2l0ZW0ubGF5ZXJfZm9sZGVyX25hbWV9LyR7aXRlbS5mb3JlZ3JvdW5kX2ZpbGV9YDtcbiAgICAgICAgICAgIC8vY29uc3QgZm9yZWdyb3VuZEltYWdlRmlsZXBhdGggPSBkZWNvZGVVUklDb21wb25lbnQobmV3IFVSTChgJHtsYXllcnNGb2xkZXJ9LyR7aXRlbS5sYXllcl9mb2xkZXJfbmFtZX0vJHtpdGVtLmZvcmVncm91bmRfZmlsZX1gLCBpbXBvcnQubWV0YS51cmwpLnBhdGhuYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IGZvcmVncm91bmRJbWFnZUZpbGVwYXRoID0gYCR7bGF5ZXJzRm9sZGVyfS8ke2l0ZW0ubGF5ZXJfZm9sZGVyX25hbWV9LyR7aXRlbS5mb3JlZ3JvdW5kX2ZpbGV9YDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaW1hZ2VTdGFjay5wdXNoKHtcbiAgICAgICAgICAgICAgICBsYXllcjogaXRlbS5sYXllcixcbiAgICAgICAgICAgICAgICBmaWxlcGF0aDogZm9yZWdyb3VuZEltYWdlRmlsZXBhdGgsXG4gICAgICAgICAgICAgICAgejogaXRlbS5mb3JlZ3JvdW5kX3pcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGl0ZW0uZHluYW1pY19oYWlyX2NvbG9yICYmIGl0ZW0uaGFpcl9tYXNrX2ZpbGUpe1xuXG4gICAgICAgICAgICBjb25zdCBoYWlyTWFza0ZpbGVwYXRoID0gYCR7bGF5ZXJzRm9sZGVyfS8ke2l0ZW0ubGF5ZXJfZm9sZGVyX25hbWV9LyR7aXRlbS5oYWlyX21hc2tfZmlsZX1gO1xuXG4gICAgICAgICAgICBpbWFnZVN0YWNrLnB1c2goe1xuICAgICAgICAgICAgICAgIGxheWVyOiBpdGVtLmxheWVyLFxuICAgICAgICAgICAgICAgIGZpbGVwYXRoOiBoYWlyTWFza0ZpbGVwYXRoLFxuICAgICAgICAgICAgICAgIHo6IGl0ZW0ueixcbiAgICAgICAgICAgICAgICBkeW5hbWljSGFpckNvbG9yOiBpdGVtLmR5bmFtaWNfaGFpcl9jb2xvcixcbiAgICAgICAgICAgICAgICBtaW5IYWlyQ29sb3I6IGl0ZW0ubWluSGFpckNvbG9yLFxuICAgICAgICAgICAgICAgIG1heEhhaXJDb2xvcjogaXRlbS5tYXhIYWlyQ29sb3JcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhbnRpR2xvd1N0YWNrLnB1c2goaGFpck1hc2tGaWxlcGF0aCk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChpdGVtLmR5bmFtaWNfaGFpcl9jb2xvcil7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgTWlzc2luZyBoYWlyIG1hc2sgZm9yICR7aXRlbS5wcm9wZXJ0aWVzfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGl0ZW0uZmlsZSAmJiBbXCJib2R5XCIsIFwiY2xvdGhlc1wiXS5pbmNsdWRlcyhpdGVtLmxheWVyKSl7XG4gICAgICAgICAgICByZWZsZWN0aW9uU3RhY2sucHVzaChpbWFnZUZpbGVwYXRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpdGVtLmZpbGUgJiYgW1wiaGVhZFwiLCBcImNsb3RoZXNcIl0uaW5jbHVkZXMoaXRlbS5sYXllcikpe1xuICAgICAgICAgICAgYW50aUdsb3dTdGFjay5wdXNoKGltYWdlRmlsZXBhdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgXG4gICAgICAgIFxuICAgIH1cblxuICAgIC8vaW5zZXJ0IHJlZmxlY3Rpb24ganVzdCBhZnRlciBib2R5IG9yIGNsb3RoZXNcbiAgICBmb3IgKGxldCBpID0gaW1hZ2VTdGFjay5sZW5ndGggLSAxOyBpID49IDA7IGktLSl7XG4gICAgICAgIGNvbnN0IGltYWdlID0gaW1hZ2VTdGFja1tpXVxuXG4gICAgICAgIGlmIChbXCJib2R5XCIsIFwiY2xvdGhlc1wiXS5pbmNsdWRlcyhpbWFnZS5sYXllcikpe1xuICAgICAgICAgICAgaW1hZ2VTdGFjay5zcGxpY2UoaSwgMCwge1xuICAgICAgICAgICAgICAgIGZpbGVwYXRoOiAncmVmbGVjdGlvbicsXG4gICAgICAgICAgICAgICAgejogaW1hZ2UueiArIDFcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvL3NvcnQgaW1hZ2Ugc3RhY2sgYnkgelxuICAgIGltYWdlU3RhY2suc29ydCgoaW1hZ2VJbmZvQSwgaW1hZ2VJbmZvQikgPT4gaW1hZ2VJbmZvQS56IC0gaW1hZ2VJbmZvQi56KVxuXG4gICAgLy9kcmF3IGltYWdlIHN0YWNrXG4gICAgZm9yIChjb25zdCBpbWFnZUluZm8gb2YgaW1hZ2VTdGFjayl7XG5cbiAgICAgICAgaWYgKGV4cG9ydExheWVycyl7XG4gICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGltYWdlV2lkdGgsIGltYWdlSGVpZ2h0KVxuICAgICAgICB9XG5cbiAgICAgICAgLy9zZXQgYmxlbmQgbW9kZSBpZiBuZWVkZWRcbiAgICAgICAgaWYgKGltYWdlSW5mby5ibGVuZCl7XG4gICAgICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gaW1hZ2VJbmZvLmJsZW5kO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdzb3VyY2Utb3Zlcic7IC8vZGVmYXVsdFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGltYWdlSW5mby5maWxlcGF0aCA9PT0gJ3JlZmxlY3Rpb24nKXtcblxuICAgICAgICAgICAgLy9hZGQgcmVmbGVjdGlvblxuICAgICAgICAgICAgY29uc3QgcmVmbGVjdGlvbiA9IGF3YWl0IGdlbmVyYXRlUmVmbGVjdGlvbihyZWZsZWN0aW9uU3RhY2spO1xuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShyZWZsZWN0aW9uLCAwLCAwLCBpbWFnZVdpZHRoLCBpbWFnZUhlaWdodCk7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiZHJhdyBcIitpbWFnZUluZm8pXG5cbiAgICAgICAgICAgIGlmIChleHBvcnRMYXllcnMpe1xuICAgICAgICAgICAgICAgIGxheWVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3JlZmxlY3Rpb24nLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZURhdGE6IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgaW1hZ2VXaWR0aCwgaW1hZ2VIZWlnaHQpXG5cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSBpZiAoaW1hZ2VJbmZvLmdsb3cpe1xuXG4gICAgICAgICAgICBjb25zdCBnbG93UkdCQSA9IGhleFRvUkdCQShpbWFnZUluZm8uZ2xvdylcblxuICAgICAgICAgICAgY29uc3QgYm9keUdsb3cgPSBhd2FpdCBnZW5lcmF0ZUJvZHlHbG93KGltYWdlSW5mby5maWxlcGF0aCwgZ2xvd1JHQkEsIGFudGlHbG93U3RhY2spXG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKGJvZHlHbG93LCAwLCAwLCBpbWFnZVdpZHRoLCBpbWFnZUhlaWdodCk7XG5cbiAgICAgICAgICAgIGlmIChleHBvcnRMYXllcnMpe1xuICAgICAgICAgICAgICAgIGxheWVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2dsb3cnLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZURhdGE6IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgaW1hZ2VXaWR0aCwgaW1hZ2VIZWlnaHQpXG5cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiZHJhdyBcIitpbWFnZUluZm8uZmlsZXBhdGgpXG5cbiAgICAgICAgICAgIGxldCBpbWFnZSA9IGF3YWl0IGxvYWRJbWFnZShpbWFnZUluZm8uZmlsZXBhdGgpO1xuXG4gICAgICAgICAgICBpZiAoaW1hZ2VJbmZvLmR5bmFtaWNIYWlyQ29sb3Ipe1xuICAgICAgICAgICAgICAgIGltYWdlID0gYXBwbHlEeW5hbWljSGFpckNvbG9yKGltYWdlLCBpbWFnZUluZm8ubWluSGFpckNvbG9yLCBpbWFnZUluZm8ubWF4SGFpckNvbG9yKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgaW1hZ2VXaWR0aCwgaW1hZ2VIZWlnaHQpO1xuXG4gICAgICAgICAgICBpZiAoZXhwb3J0TGF5ZXJzKXtcbiAgICAgICAgICAgICAgICBsYXllcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGltYWdlSW5mby5sYXllcixcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VEYXRhOiBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGltYWdlV2lkdGgsIGltYWdlSGVpZ2h0KVxuXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgaWYgKGV4cG9ydExheWVycyl7XG4gICAgICAgIHJldHVybiBsYXllcnM7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhbnZhcztcblxuICAgIC8qaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIHtcblxuICAgICAgICAvL2Jyb3dzZXIgZW52aXJvbm1lbnRcbiAgICAgICAgcmV0dXJuIGNhbnZhcy50b0RhdGFVUkwoXCJpbWFnZS9wbmdcIik7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vbm9kZWpzIGVudmlyb25tZW50XG4gICAgICAgIHJldHVybiBjYW52YXMudG9CdWZmZXIoJ2ltYWdlL3BuZycpO1xuXG4gICAgfSovXG5cbiAgICAvL3NhdmUgaW1hZ2VcbiAgICBcbiAgICAvL2NvbnN0IGltYWdlQnVmZmVyID0gY2FudmFzLnRvQnVmZmVyKCdpbWFnZS9wbmcnKTtcbiAgICAvL2ZzLndyaXRlRmlsZVN5bmMob3V0cHV0RmlsZXBhdGgsIGltYWdlQnVmZmVyKTtcblxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBzY2FsZWRJbWFnZShiYXNlSW1hZ2Upe1xuXG4gICAgY29uc3QgY2FudmFzID0gY3JlYXRlQ2FudmFzKGltYWdlQmlnV2lkdGgsIGltYWdlQmlnSGVpZ2h0KTtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG5cbiAgICBjdHguZHJhd0ltYWdlKGJhc2VJbWFnZSwgMCwgMCwgaW1hZ2VCaWdXaWR0aCwgaW1hZ2VCaWdIZWlnaHQpO1xuXG5cbiAgICByZXR1cm4gY2FudmFzO1xuXG59XG5cblxuXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBEcm9wZG93bk5mdHMge1xuICBjb25zdHJ1Y3RvcihuZnRzLCBjbGlja0xpc3RlbmVyLCBpZCwgZGlzYWJsZWRBc3NldElkcykge1xuICAgIHRoaXMubmZ0cyA9IG5mdHM7XG4gICAgdGhpcy5jbGlja0xpc3RlbmVyID0gY2xpY2tMaXN0ZW5lcjtcbiAgICB0aGlzLmRpc2FibGVkQXNzZXRJZHMgPSBkaXNhYmxlZEFzc2V0SWRzO1xuXG4gICAgdGhpcy51aSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKTtcbiAgICB0aGlzLnVpLmNsYXNzTmFtZSA9IFwiZHJvcGRvd24tbWVudVwiO1xuICAgIHRoaXMudWkuaWQgPSBpZDtcblxuICAgIHRoaXMuZGlzcGxheU5mdHMoKTtcbiAgfVxuXG4gIGRpc3BsYXlOZnRzKCkge1xuXG4gICAgaWYgKHRoaXMubmZ0cy5sZW5ndGggPT09IDApIHtcblxuICAgICAgLy9ubyBhc3NldHNcbiAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICAgIHRoaXMudWkuYXBwZW5kKG9wdGlvbik7XG4gICAgICBvcHRpb24uaW5uZXJIVE1MID0gJzxhIGNsYXNzPVwiZHJvcGRvd24taXRlbSBkaXNhYmxlZFwiPk5vIGFzc2V0czwvYT4nO1xuXG4gICAgfSBlbHNlIHtcblxuICAgICAgLy9BZGQgc2VhcmNoIGZpZWxkXG4gICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgZGl2LmNsYXNzTmFtZSA9IFwibWItMiBwcy0zIHBlLTMgcHQtMVwiO1xuXG4gICAgICBjb25zdCBzZWFyY2hJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgIHNlYXJjaElucHV0LnR5cGUgPSBcInNlYXJjaFwiO1xuICAgICAgc2VhcmNoSW5wdXQuY2xhc3NOYW1lID0gXCJmb3JtLWNvbnRyb2xcIjtcbiAgICAgIHNlYXJjaElucHV0LnBsYWNlaG9sZGVyID0gXCJOYW1lLCBhc3NldCBJRCBvciB0cmFpdFwiO1xuXG4gICAgICBkaXYuYXBwZW5kKHNlYXJjaElucHV0KTtcbiAgICAgIHRoaXMudWkuYXBwZW5kKGRpdik7XG5cbiAgICAgIHNlYXJjaElucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCB0aGlzLmZpbHRlci5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gICAgICBzZWFyY2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwic2VhcmNoXCIsIHRoaXMuZmlsdGVyLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICB9XG5cbiAgICBsZXQgaSA9IDA7XG4gICAgZm9yIChjb25zdCBuZnQgb2YgdGhpcy5uZnRzKSB7XG4gICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG5cbiAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgIGEuY2xhc3NOYW1lID0gXCJkcm9wZG93bi1pdGVtXCI7XG4gICAgICBhLmhyZWYgPSBcIiNcIjtcbiAgICAgIGEuZGF0YXNldC5pbmRleCA9IGk7XG4gICAgICBhLmlkID0gYG5mdC0ke2l9YDtcblxuICAgICAgbGV0IGltZ1N0eWxlU3RyID0gXCJcIjtcbiAgICAgIGlmICh0aGlzLmRpc2FibGVkQXNzZXRJZHMgJiYgdGhpcy5kaXNhYmxlZEFzc2V0SWRzLmluY2x1ZGVzKG5mdC5hc3NldElkKSl7XG4gICAgICAgIGEuY2xhc3NOYW1lID0gJ2Ryb3Bkb3duLWl0ZW0gZGlzYWJsZWQnO1xuICAgICAgICBpbWdTdHlsZVN0ciA9ICcgc3R5bGU9XCJvcGFjaXR5OiAwLjU7XCInO1xuICAgICAgfVxuXG4gICAgICBhLmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIiR7bmZ0LmltYWdlVXJsfVwiICR7aW1nU3R5bGVTdHJ9IGNsYXNzPVwibmZ0LWltZ1wiPiAke25mdC5uYW1lfWA7XG5cbiAgICAgIG5mdC5oYW5kbGVJbWFnZUVycm9yKGEucXVlcnlTZWxlY3RvcignLm5mdC1pbWcnKSlcblxuICAgICAgYS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbGlja0xpc3RlbmVyLCBmYWxzZSk7XG5cbiAgICAgIG9wdGlvbi5hcHBlbmQoYSk7XG4gICAgICB0aGlzLnVpLmFwcGVuZChvcHRpb24pO1xuXG4gICAgICBpKys7XG4gICAgfVxuICB9XG5cbiAgZmlsdGVyKGV2ZW50KSB7XG5cbiAgICBjb25zdCBzZWFyY2hTZW50ZW5jZSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWU7XG5cbiAgICBpZiAoIXNlYXJjaFNlbnRlbmNlKXtcblxuICAgICAgICBjb25zdCBpdGVtcyA9IHRoaXMudWkucXVlcnlTZWxlY3RvckFsbCgnLmRyb3Bkb3duLWl0ZW0nKTtcbiAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgIGl0ZW0uaGlkZGVuID0gZmFsc2U7XG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBzZWFyY2hUZXJtcyA9IHNlYXJjaFNlbnRlbmNlLnNwbGl0KCcgJyk7XG4gICAgc2VhcmNoVGVybXMgPSBzZWFyY2hUZXJtcy5tYXAodyA9PiB3LnRyaW0oKS50b0xvd2VyQ2FzZSgpKTtcbiAgICBzZWFyY2hUZXJtcyA9IHNlYXJjaFRlcm1zLmZpbHRlcih3ID0+IHcpO1xuICAgIFxuICAgIGxldCBpID0gMDtcbiAgICBmb3IgKGNvbnN0IG5mdCBvZiB0aGlzLm5mdHMpIHtcblxuICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTtcblxuICAgICAgICB0ZXJtTG9vcDpmb3IgKGNvbnN0IHRlcm0gb2Ygc2VhcmNoVGVybXMpe1xuXG4gICAgICAgICAgICBpZiAobmZ0Lm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0ZXJtKSB8fCBuZnQuYXNzZXRJZCA9PSB0ZXJtKXtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuZnQubWV0YWRhdGEgJiYgbmZ0Lm1ldGFkYXRhLnByb3BlcnRpZXMpe1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG5mdC5tZXRhZGF0YS5wcm9wZXJ0aWVzKXtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModGVybSkgfHwgbmZ0Lm1ldGFkYXRhLnByb3BlcnRpZXNba2V5XS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHRlcm0pKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHRlcm1Mb29wO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpdGVtRWxlbWVudCA9IHRoaXMudWkucXVlcnlTZWxlY3RvcihgI25mdC0ke2l9YCk7XG4gICAgICAgIGlmIChmb3VuZCl7XG4gICAgICAgICAgICBpdGVtRWxlbWVudC5oaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGl0ZW1FbGVtZW50LmhpZGRlbiA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpKys7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKHNlYXJjaFRlcm1zKTtcbiAgICBcbiAgfVxufVxuIiwiXG5leHBvcnQgY2xhc3MgQmFzZVBhZ2Uge1xuXG4gICAgY29uc3RydWN0b3Iod2FsbGV0Q29ubmVjdCwgaG9sZGluZ3MsIGFsZ29kQ2xpZW50LCBhbGdvSW5kZXhlcil7XG5cbiAgICAgICAgdGhpcy53YWxsZXRDb25uZWN0ID0gd2FsbGV0Q29ubmVjdDtcbiAgICAgICAgdGhpcy5hbGdvZENsaWVudCA9IGFsZ29kQ2xpZW50O1xuICAgICAgICB0aGlzLmFsZ29JbmRleGVyID0gYWxnb0luZGV4ZXI7XG4gICAgICAgIHRoaXMuaG9sZGluZ3MgPSBob2xkaW5ncztcblxuICAgICAgICBcblxuICAgIH1cblxufSJdLCJuYW1lcyI6WyJpbWFnZVdpZHRoIiwiaW1hZ2VIZWlnaHQiLCJnZXRSR0JBIiwieCIsInkiLCJpbWFnZURhdGEiLCJpbmRleCIsIndpZHRoIiwiZGF0YSIsInNldFJHQkEiLCJyZ2JhIiwiaGV4VG9SR0JBIiwiaGV4IiwiciIsInBhcnNlSW50Iiwic2xpY2UiLCJnIiwiYiIsImEiLCJpc05hTiIsImFzeW5jIiwiZ2VuZXJhdGVSZWZsZWN0aW9uIiwiaW1hZ2VTdGFjayIsImxlbmd0aCIsImZpcnN0SW1hZ2UiLCJsb2FkSW1hZ2UiLCJoZWlnaHQiLCJiYXNlQ3R4IiwiY3JlYXRlQ2FudmFzIiwiZ2V0Q29udGV4dCIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsImltYWdlUGF0aCIsImltYWdlIiwiZHJhd0ltYWdlIiwicmVmbGVjdGlvbkNhbnZhcyIsInJlZmxlY3Rpb25DdHgiLCJwaXhlbHMiLCJnZXRJbWFnZURhdGEiLCJtaW5ZIiwicmVmbGVjdGlvbkltYWdlRGF0YSIsInhsb29wIiwicmdiYTIiLCJwdXRJbWFnZURhdGEiLCJnZW5lcmF0ZUJvZHlHbG93IiwiYm9keUZpbGVwYXRoIiwiYW50aUdsb3dTdGFjayIsImJvZHlJbWFnZSIsImJvZHlDYW52YXMiLCJib2R5Q3R4IiwiZ2xvd0NhbnZhcyIsImdsb3dDdHgiLCJhbnRpR2xvd0N0eCIsImJvZHlJbWFnZURhdGEiLCJnbG93SW1hZ2VEYXRhIiwiYW50aUdsb3dJbWFnZURhdGEiLCJib2R5UkdCQSIsImFudGlHbG93UkdCQSIsImJvZHlSR0JBTGVmdCIsImJvZHlSR0JBUmlnaHQiLCJib2R5UkdCQVRvcCIsImJvZHlSR0JBQm90IiwiYXBwbHlEeW5hbWljSGFpckNvbG9yIiwibWluSGFpckNvbG9yIiwibWF4SGFpckNvbG9yIiwiaGFpckNhbnZhcyIsImhhaXJDdHgiLCJoYWlySW1hZ2VEYXRhIiwibWluTHVtUkdCQSIsIm1heEx1bVJHQkEiLCJoYWlyUkdCQSIsIk1hdGgiLCJtaW4iLCJtYXgiLCJtaW5Db2xvciIsIm1heENvbG9yIiwiY29sb3IiLCJyYXRpbyIsIndpbmRvdyIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImZpbGVwYXRoIiwiUHJvbWlzZSIsInJlc29sdmUiLCJJbWFnZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzcmMiLCJkcmF3IiwicHJvcGVydGllcyIsImxheWVyc0RlZmluaXRpb25zIiwibGF5ZXJzRm9sZGVyIiwiZXhwb3J0TGF5ZXJzIiwiaXRlbXMiLCJwcm9wZXJ0aWVzRm91bmQiLCJoYWlyQ29sb3JGb3VuZCIsImxheWVyIiwibGF5ZXJzIiwiaXRlbSIsIm51bVByb3BlcnRpZXMiLCJPYmplY3QiLCJrZXlzIiwiZXF1YWxQcm9wZXJ0aWVzIiwicHJvcGVydHlOYW1lIiwibmV3SXRlbSIsImFzc2lnbiIsIm5hbWUiLCJsYXllcl9mb2xkZXJfbmFtZSIsImZvbGRlcl9uYW1lIiwieiIsImR5bmFtaWNfaGFpcl9jb2xvciIsImhhaXJDb2xvciIsImhhaXJDb2xvcnMiLCJwdXNoIiwiY29uc29sZSIsImxvZyIsImdldEl0ZW1zRnJvbVByb3BlcnRpZXMiLCJjdHgiLCJyZWZsZWN0aW9uU3RhY2siLCJpbWFnZUZpbGVwYXRoIiwiZmlsZSIsImltYWdlSW5mbyIsImJsZW5kIiwiZ2xvdyIsImZvcmVncm91bmRfZmlsZSIsImZvcmVncm91bmRfeiIsImZvcmVncm91bmRJbWFnZUZpbGVwYXRoIiwiaGFpcl9tYXNrX2ZpbGUiLCJoYWlyTWFza0ZpbGVwYXRoIiwiZHluYW1pY0hhaXJDb2xvciIsImluY2x1ZGVzIiwiaSIsInNwbGljZSIsInNvcnQiLCJpbWFnZUluZm9BIiwiaW1hZ2VJbmZvQiIsImNsZWFyUmVjdCIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsInJlZmxlY3Rpb24iLCJnbG93UkdCQSIsImJvZHlHbG93IiwiRHJvcGRvd25OZnRzIiwiY29uc3RydWN0b3IiLCJuZnRzIiwiY2xpY2tMaXN0ZW5lciIsImlkIiwiZGlzYWJsZWRBc3NldElkcyIsInRoaXMiLCJ1aSIsImNsYXNzTmFtZSIsImRpc3BsYXlOZnRzIiwib3B0aW9uIiwiYXBwZW5kIiwiaW5uZXJIVE1MIiwiZGl2Iiwic2VhcmNoSW5wdXQiLCJ0eXBlIiwicGxhY2Vob2xkZXIiLCJmaWx0ZXIiLCJiaW5kIiwibmZ0IiwiaHJlZiIsImRhdGFzZXQiLCJpbWdTdHlsZVN0ciIsImFzc2V0SWQiLCJpbWFnZVVybCIsImhhbmRsZUltYWdlRXJyb3IiLCJxdWVyeVNlbGVjdG9yIiwiZXZlbnQiLCJzZWFyY2hTZW50ZW5jZSIsImN1cnJlbnRUYXJnZXQiLCJ2YWx1ZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiaGlkZGVuIiwic2VhcmNoVGVybXMiLCJzcGxpdCIsIm1hcCIsInciLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJmb3VuZCIsInRlcm1Mb29wIiwidGVybSIsIm1ldGFkYXRhIiwia2V5IiwiQmFzZVBhZ2UiLCJ3YWxsZXRDb25uZWN0IiwiaG9sZGluZ3MiLCJhbGdvZENsaWVudCIsImFsZ29JbmRleGVyIl0sInNvdXJjZVJvb3QiOiIifQ==