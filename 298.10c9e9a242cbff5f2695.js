"use strict";(self.webpackChunkstudio=self.webpackChunkstudio||[]).push([[298],{5298:(t,e,a)=>{a.r(e),a.d(e,{Packs:()=>h,loadPacks:()=>c});var s=a(6998),i=a(7304),n=a(4483),o=a(4393);const r="https://api.atomixwap.xyz";async function c(t){let e=await fetch(`${r}/caffeine-card-pack/get-all`);if(200===e.status){let a=await e.json();if(t){let e=[];const s=t.bathers.nfts.map((t=>t.assetId));for(const t of a.packs)s.includes(t[0])&&e.push(t);return{claimablePacks:e,escrowAddress:a.escrowAddress}}return a.packs}throw new Error(`Can't load packs. Error ${e.status}`)}class h extends s.BasePage{constructor(){super(...arguments),this.ui=document.createElement("div"),this.ui.innerHTML='\n    <h1>Caffeine Cards Packs</h1>\n    <p id="packs-status" class="dark-text text-center">Loading packs...</p>\n    ',this.claimablePacks,this.escrowAddress,this.fetchPacks()}sleep(t){return new Promise((e=>setTimeout(e,t)))}async fetchPacks(){const t=this.ui.querySelector("#packs-status");try{const e=await c(this.holdings);if(this.claimablePacks=e.claimablePacks,this.escrowAddress=e.escrowAddress,this.claimablePacks.length>0){let e="";this.claimablePacks.length>1&&(e="s"),t.textContent=`${this.claimablePacks.length} pack${e} to claim!`}else t.innerHTML='<img src="assets/pack0-0.png" style="width: 240px; opacity: 0.2;" class="mb-3"><br>\n        No pack to open.<br>\n        Make sure Bathers are not listed on marketplaces to see your packs.<br><br>\n        A Caffeine Card is given for every Bather bought in the <a href="https://instantshuffle.com/shuffle/yUSbzq61ZvqTIsSvLycS" target="_blank">Instant Shuffle.</a>\n        ';const a=document.createElement("div");a.className="row row-cols-2 row-cols-md-3 row-cols-lg-4 gy-4 mb-5 justify-content-center",this.ui.append(a);for(const t of this.claimablePacks){const e=document.createElement("div");e.className="col text-center ps-3 pe-3",a.append(e);const s=document.createElement("canvas");s.className="w-100 mb-0";const i=new l(s,t[1],this.algoIndexer);e.append(s),await i.load().then((()=>{const a=document.createElement("div");a.className="dark-text mt-0 pt-0 mb-2 hidden-pack-name",a.style.opacity="0",a.style["max-height"]="0",a.textContent=i.nft.name,e.append(a);const s=document.createElement("button");s.className="open-pack-button",s.textContent="Open",s.dataset.batherId=t[0],s.dataset.caffeineCardId=t[1],s.addEventListener("click",this.openPack.bind(this,i,a),!1),e.append(s);const n=this.holdings.bathers.nfts.find((e=>e.assetId===t[0]));if(n){const t=document.createElement("span");t.textContent="For "+n.name,t.className="d-block mt-2 dark-text",e.append(t)}})).catch((t=>{console.log(t)})),this.sleep(300)}}catch(e){console.error(e),t.textContent=e.message}}disableAllButtons(t){this.ui.querySelectorAll(".open-pack-button").forEach((e=>{e===t||e.dataset.opened||(e.className="open-pack-button soft-disabled",e.disabled=!0)}))}enableAllButtons(t){this.ui.querySelectorAll(".open-pack-button").forEach((e=>{e===t||e.dataset.opened||(e.className="open-pack-button",e.disabled=!1)}))}async openPack(t,e,a){const s=a.currentTarget;this.disableAllButtons(s);const i=s.dataset.batherId,o=s.dataset.caffeineCardId;try{s.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>',s.disabled=!0;let a=await this.algodClient.getTransactionParams().do(),c=[n.default.makeAssetTransferTxnWithSuggestedParamsFromObject({from:this.walletConnect.walletAddress,to:this.walletConnect.walletAddress,amount:0,assetIndex:parseInt(o),suggestedParams:a}),n.default.makeAssetTransferTxnWithSuggestedParamsFromObject({from:this.escrowAddress,to:this.walletConnect.walletAddress,amount:1,assetIndex:parseInt(o),suggestedParams:a})];n.default.assignGroupID(c);const h=await this.walletConnect.signTransactions(c),l={batherId:i,txn:btoa(String.fromCharCode.apply(null,h[0])),suggestedParams:a};s.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>\n      Opening...',s.disabled=!0;const d=await fetch(r+"/caffeine-card-pack/claim/",{method:"POST",body:JSON.stringify(l),headers:{Accept:"application/json","Content-Type":"application/json"}});if(200!==d.status){let t;try{t=await d.json()}catch(t){}throw t&&t.error?new Error(t.error):new Error(`Error ${d.status}`)}s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-check-circle-fill" viewBox="0 0 16 16">\n        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>\n      </svg>\n        Opened',s.disabled=!0,s.dataset.opened=!0,t.animate(),e.style.opacity="1",e.style["max-height"]="500px",this.enableAllButtons(s)}catch(t){console.error(t),alert(t.message),s.textContent="Open",s.disabled=!1,this.enableAllButtons(s)}}}class l{constructor(t,e,a){this.caffeineCardId=e,this.algoIndexer=a,this.width=660,this.height=960,this.imageWidth=960,this.numAnimationImage=4,this.canvas=t,this.canvas.width=this.width,this.canvas.height=this.height,this.context=this.canvas.getContext("2d"),this.context.imageSmoothingEnabled=!1,this.context.translate(-(this.imageWidth-this.width)/2,0),this.nft,this.cardImage,this.cardMask,this.animationImages}async load(){await this.loadAllImage()}static loadImage(t){return new Promise(((e,a)=>{const s=new Image;s.onload=()=>{e(s)},s.onerror=a,s.src=t}))}async loadAllImage(){this.animationImages=[];const t=this.caffeineCardId%4,e=await l.loadImage(`assets/pack${t}-0.png`);this.animationImages.push(e),this.drawPack(),this.cardMask=await l.loadImage("assets/card-mask.png");const a=await this.algoIndexer.lookupAssetByID(this.caffeineCardId).do();this.nft=new i.Sm(this.caffeineCardId,a.asset),await this.nft.load(this.algoIndexer);try{this.cardImage=await l.loadImage(this.nft.imageUrl)}catch(t){console.log("Error loading image from primary, trying secondary");try{this.cardImage=await l.loadImage(this.nft.imageUrlAlternate)}catch(t){this.cardImage=await l.loadImage("assets/empty-card.png")}}for(let e=1;e<=this.numAnimationImage;e++){const a=await l.loadImage(`assets/pack${t}-${e}.png`);this.animationImages.push(a)}}async drawPack(){this.context.drawImage(this.animationImages[0],0,0,this.imageWidth,this.height)}static easeInOutQuad(t){return t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2}async animate(){let t=.15,e=1;const a=setInterval((()=>{if(this.context.clearRect(0,0,this.imageWidth,this.height),this.context.drawImage(this.cardMask,0,0,this.imageWidth,this.height),this.context.globalCompositeOperation="source-in",this.context.drawImage(this.cardImage,0,0,this.imageWidth,this.height),this.context.globalCompositeOperation="source-over",this.context.drawImage(this.animationImages[e],0,0,this.imageWidth,this.height),e===this.numAnimationImage){clearInterval(a),o.sparkles(this.canvas),t=.05;const e=.8;let s=0;const i=setInterval((()=>{const a=l.easeInOutQuad(s/e)*this.height;this.context.clearRect(0,0,this.imageWidth,this.height),this.context.drawImage(this.cardMask,0,0,this.imageWidth,this.height),this.context.globalCompositeOperation="source-in",this.context.drawImage(this.cardImage,0,0,this.imageWidth,this.height),this.context.globalCompositeOperation="source-over",this.context.drawImage(this.animationImages[this.numAnimationImage],0,a,this.imageWidth,this.height),s+=t,s>=e&&clearInterval(i)}),1e3*t)}e++}),1e3*t)}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q29DLGNBQWNKLEdBRWQsV0FBZTVILEtBQUt3RixRQUdwQmtDLEVBQWdCLElBQ2hCLE1BQU1PLEVBQW9CLEdBQzFCLElBQUlDLEVBQWMsRUFFbEIsTUFBTUMsRUFBY04sYUFBWSxLQUM5QixNQUFNTyxFQUNKOUcsRUFBcUIrRyxjQUNuQkgsRUFBY0QsR0FDWmpJLEtBQUswRixPQUdYMUYsS0FBSzZGLFFBQVFpQyxVQUFVLEVBQUcsRUFBRzlILEtBQUsyRixXQUFZM0YsS0FBSzBGLFFBR25EMUYsS0FBSzZGLFFBQVF5QixVQUNYdEgsS0FBS2tHLFNBQ0wsRUFDQSxFQUNBbEcsS0FBSzJGLFdBQ0wzRixLQUFLMEYsUUFHUDFGLEtBQUs2RixRQUFRa0MseUJBQTJCLFlBR3hDL0gsS0FBSzZGLFFBQVF5QixVQUNYdEgsS0FBS2lHLFVBQ0wsRUFDQSxFQUNBakcsS0FBSzJGLFdBQ0wzRixLQUFLMEYsUUFHUDFGLEtBQUs2RixRQUFRa0MseUJBQTJCLGNBR3hDL0gsS0FBSzZGLFFBQVF5QixVQUNYdEgsS0FBS21HLGdCQUFnQm5HLEtBQUs0RixtQkFDMUIsRUFDQXdDLEVBQ0FwSSxLQUFLMkYsV0FDTDNGLEtBQUswRixRQUdQd0MsR0FBZVIsRUFFWFEsR0FBZUQsR0FDakJELGNBQWNHLEVBQ2hCLEdBQ2lCLElBQWhCVCxFQUNMLENBRUFDLEdBQWMsR0FDRyxJQUFoQkQsRUFDTCxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGlvLy4vc3JjL3BhZ2VzL3BhY2tzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VQYWdlIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgTkZUQ29sbGVjdGlvbiB9IGZyb20gXCJhbGdvLW5mdC11dGlsc1wiO1xuaW1wb3J0IGFsZ29zZGsgZnJvbSBcImFsZ29zZGtcIjtcbmltcG9ydCB7IE5GVCB9IGZyb20gXCJhbGdvLW5mdC11dGlsc1wiO1xuaW1wb3J0IHBhcnR5IGZyb20gXCJwYXJ0eS1qc1wiO1xuXG5jb25zdCBQQUNLU19BUElfVVJMID0gXCJodHRwczovL2FwaS5hdG9taXh3YXAueHl6XCI7XG4vL2NvbnN0IFBBQ0tTX0FQSV9VUkwgPSBcImh0dHBzOi8vbG9jYWxob3N0XCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkUGFja3MoaG9sZGluZ3MpIHtcbiAgbGV0IHJlc3VsdCA9IGF3YWl0IGZldGNoKGAke1BBQ0tTX0FQSV9VUkx9L2NhZmZlaW5lLWNhcmQtcGFjay9nZXQtYWxsYCk7XG5cbiAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDIwMCkge1xuICAgIGxldCBqc29uID0gYXdhaXQgcmVzdWx0Lmpzb24oKTtcblxuICAgIFxuXG4gICAgaWYgKGhvbGRpbmdzKSB7XG5cbiAgICAgIGxldCBjbGFpbWFibGVQYWNrcyA9IFtdO1xuXG4gICAgICAvL2NvbXBhcmUgd2l0aCBob2xkaW5nc1xuICAgICAgY29uc3QgYmF0aGVyc0lkcyA9IGhvbGRpbmdzLmJhdGhlcnMubmZ0cy5tYXAoKG5mdCkgPT4gbmZ0LmFzc2V0SWQpO1xuXG4gICAgICBmb3IgKGNvbnN0IHBhY2sgb2YganNvbi5wYWNrcykge1xuICAgICAgICBpZiAoYmF0aGVyc0lkcy5pbmNsdWRlcyhwYWNrWzBdKSkge1xuICAgICAgICAgIGNsYWltYWJsZVBhY2tzLnB1c2gocGFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2xhaW1hYmxlUGFja3M6IGNsYWltYWJsZVBhY2tzLFxuICAgICAgICBlc2Nyb3dBZGRyZXNzOiBqc29uLmVzY3Jvd0FkZHJlc3MsXG4gICAgICB9O1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBqc29uLnBhY2tzO1xuICAgIH1cblxuICAgIFxuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihgQ2FuXFwndCBsb2FkIHBhY2tzLiBFcnJvciAke3Jlc3VsdC5zdGF0dXN9YCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhY2tzIGV4dGVuZHMgQmFzZVBhZ2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuXG4gICAgdGhpcy51aSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy51aS5pbm5lckhUTUwgPSBgXG4gICAgPGgxPkNhZmZlaW5lIENhcmRzIFBhY2tzPC9oMT5cbiAgICA8cCBpZD1cInBhY2tzLXN0YXR1c1wiIGNsYXNzPVwiZGFyay10ZXh0IHRleHQtY2VudGVyXCI+TG9hZGluZyBwYWNrcy4uLjwvcD5cbiAgICBgO1xuXG4gICAgdGhpcy5jbGFpbWFibGVQYWNrcztcbiAgICB0aGlzLmVzY3Jvd0FkZHJlc3M7XG5cbiAgICB0aGlzLmZldGNoUGFja3MoKTtcbiAgfVxuXG4gIHNsZWVwKGRlbGF5VGltZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBkZWxheVRpbWUpKTtcbiAgfVxuXG4gIGFzeW5jIGZldGNoUGFja3MoKSB7XG4gICAgY29uc3QgcGFja1N0YXR1c1AgPSB0aGlzLnVpLnF1ZXJ5U2VsZWN0b3IoXCIjcGFja3Mtc3RhdHVzXCIpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGxvYWRQYWNrcyh0aGlzLmhvbGRpbmdzKTtcblxuICAgICAgdGhpcy5jbGFpbWFibGVQYWNrcyA9IHJlc3VsdC5jbGFpbWFibGVQYWNrcztcbiAgICAgIHRoaXMuZXNjcm93QWRkcmVzcyA9IHJlc3VsdC5lc2Nyb3dBZGRyZXNzO1xuXG4gICAgICBpZiAodGhpcy5jbGFpbWFibGVQYWNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxldCBwbHVyYWwgPSBcIlwiO1xuICAgICAgICBpZiAodGhpcy5jbGFpbWFibGVQYWNrcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgcGx1cmFsID0gXCJzXCI7XG4gICAgICAgIH1cbiAgICAgICAgcGFja1N0YXR1c1AudGV4dENvbnRlbnQgPSBgJHt0aGlzLmNsYWltYWJsZVBhY2tzLmxlbmd0aH0gcGFjayR7cGx1cmFsfSB0byBjbGFpbSFgO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFja1N0YXR1c1AuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiYXNzZXRzL3BhY2swLTAucG5nXCIgc3R5bGU9XCJ3aWR0aDogMjQwcHg7IG9wYWNpdHk6IDAuMjtcIiBjbGFzcz1cIm1iLTNcIj48YnI+XG4gICAgICAgIE5vIHBhY2sgdG8gb3Blbi48YnI+XG4gICAgICAgIE1ha2Ugc3VyZSBCYXRoZXJzIGFyZSBub3QgbGlzdGVkIG9uIG1hcmtldHBsYWNlcyB0byBzZWUgeW91ciBwYWNrcy48YnI+PGJyPlxuICAgICAgICBBIENhZmZlaW5lIENhcmQgaXMgZ2l2ZW4gZm9yIGV2ZXJ5IEJhdGhlciBib3VnaHQgaW4gdGhlIDxhIGhyZWY9XCJodHRwczovL2luc3RhbnRzaHVmZmxlLmNvbS9zaHVmZmxlL3lVU2J6cTYxWnZxVElzU3ZMeWNTXCIgdGFyZ2V0PVwiX2JsYW5rXCI+SW5zdGFudCBTaHVmZmxlLjwvYT5cbiAgICAgICAgYDtcbiAgICAgIH1cblxuICAgICAgLy9kaXNwbGF5IHBhY2sgbGlzdFxuICAgICAgY29uc3QgcGFja3NEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgcGFja3NEaXYuY2xhc3NOYW1lID1cbiAgICAgICAgXCJyb3cgcm93LWNvbHMtMiByb3ctY29scy1tZC0zIHJvdy1jb2xzLWxnLTQgZ3ktNCBtYi01IGp1c3RpZnktY29udGVudC1jZW50ZXJcIjtcbiAgICAgIHRoaXMudWkuYXBwZW5kKHBhY2tzRGl2KTtcblxuICAgICAgZm9yIChjb25zdCBwYWNrIG9mIHRoaXMuY2xhaW1hYmxlUGFja3MpIHtcbiAgICAgICAgY29uc3QgcGFja0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHBhY2tEaXYuY2xhc3NOYW1lID0gXCJjb2wgdGV4dC1jZW50ZXIgcHMtMyBwZS0zXCI7XG4gICAgICAgIHBhY2tzRGl2LmFwcGVuZChwYWNrRGl2KTtcblxuICAgICAgICAvKmNvbnN0IGdyYXBoaWNEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBncmFwaGljRGl2LmNsYXNzTmFtZSA9ICcnO1xuICAgICAgICBncmFwaGljRGl2LmlubmVySFRNTCA9IGA8aW1nIHNyYz1cImFzc2V0cy9wYWNrMC5wbmdcIiBjbGFzcz1cInctMTAwIG1iLTJcIj5gO1xuICAgICAgICBwYWNrRGl2LmFwcGVuZChncmFwaGljRGl2KTsqL1xuXG4gICAgICAgIGNvbnN0IHBhY2tDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICBwYWNrQ2FudmFzLmNsYXNzTmFtZSA9IFwidy0xMDAgbWItMFwiO1xuICAgICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IFBhY2tDYW52YXNDb250cm9sbGVyKFxuICAgICAgICAgIHBhY2tDYW52YXMsXG4gICAgICAgICAgcGFja1sxXSxcbiAgICAgICAgICB0aGlzLmFsZ29JbmRleGVyXG4gICAgICAgICk7XG4gICAgICAgIHBhY2tEaXYuYXBwZW5kKHBhY2tDYW52YXMpO1xuXG4gICAgICAgIGF3YWl0IGNvbnRyb2xsZXJcbiAgICAgICAgICAubG9hZCgpXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaGlkZGVuTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBoaWRkZW5OYW1lLmNsYXNzTmFtZSA9IFwiZGFyay10ZXh0IG10LTAgcHQtMCBtYi0yIGhpZGRlbi1wYWNrLW5hbWVcIjtcbiAgICAgICAgICAgIGhpZGRlbk5hbWUuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuICAgICAgICAgICAgaGlkZGVuTmFtZS5zdHlsZVtcIm1heC1oZWlnaHRcIl0gPSBcIjBcIjtcbiAgICAgICAgICAgIC8vaGlkZGVuTmFtZS5oaWRkZW4gPSB0cnVlO1xuICAgICAgICAgICAgaGlkZGVuTmFtZS50ZXh0Q29udGVudCA9IGNvbnRyb2xsZXIubmZ0Lm5hbWU7XG4gICAgICAgICAgICBwYWNrRGl2LmFwcGVuZChoaWRkZW5OYW1lKTtcblxuICAgICAgICAgICAgY29uc3Qgb3BlbkJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgICAgICBvcGVuQnV0dG9uLmNsYXNzTmFtZSA9IFwib3Blbi1wYWNrLWJ1dHRvblwiO1xuICAgICAgICAgICAgb3BlbkJ1dHRvbi50ZXh0Q29udGVudCA9IFwiT3BlblwiO1xuICAgICAgICAgICAgb3BlbkJ1dHRvbi5kYXRhc2V0LmJhdGhlcklkID0gcGFja1swXTtcbiAgICAgICAgICAgIG9wZW5CdXR0b24uZGF0YXNldC5jYWZmZWluZUNhcmRJZCA9IHBhY2tbMV07XG4gICAgICAgICAgICBvcGVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgIFwiY2xpY2tcIixcbiAgICAgICAgICAgICAgdGhpcy5vcGVuUGFjay5iaW5kKHRoaXMsIGNvbnRyb2xsZXIsIGhpZGRlbk5hbWUpLFxuICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHBhY2tEaXYuYXBwZW5kKG9wZW5CdXR0b24pO1xuXG4gICAgICAgICAgICBjb25zdCBiYXRoZXIgPSB0aGlzLmhvbGRpbmdzLmJhdGhlcnMubmZ0cy5maW5kKChuZnQpID0+IG5mdC5hc3NldElkID09PSBwYWNrWzBdKTtcbiAgICAgICAgICAgIGlmKGJhdGhlcil7XG4gICAgICAgICAgICAgIGNvbnN0IGJhdGhlclNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgICAgICAgYmF0aGVyU3Bhbi50ZXh0Q29udGVudCA9ICdGb3IgJytiYXRoZXIubmFtZTtcbiAgICAgICAgICAgICAgYmF0aGVyU3Bhbi5jbGFzc05hbWUgPSBcImQtYmxvY2sgbXQtMiBkYXJrLXRleHRcIjtcbiAgICAgICAgICAgICAgcGFja0Rpdi5hcHBlbmQoYmF0aGVyU3Bhbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnNsZWVwKDMwMCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG5cbiAgICAgIHBhY2tTdGF0dXNQLnRleHRDb250ZW50ID0gZXJyLm1lc3NhZ2U7XG4gICAgICAvL2FsZXJ0KGVyci5tZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICBkaXNhYmxlQWxsQnV0dG9ucyhleGNlcHQpIHtcbiAgICBjb25zdCBidXR0b25zID0gdGhpcy51aS5xdWVyeVNlbGVjdG9yQWxsKFwiLm9wZW4tcGFjay1idXR0b25cIik7XG5cbiAgICBidXR0b25zLmZvckVhY2goKGIpID0+IHtcbiAgICAgIGlmIChiICE9PSBleGNlcHQgJiYgIWIuZGF0YXNldC5vcGVuZWQpIHtcbiAgICAgICAgYi5jbGFzc05hbWUgPSBcIm9wZW4tcGFjay1idXR0b24gc29mdC1kaXNhYmxlZFwiO1xuICAgICAgICBiLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZUFsbEJ1dHRvbnMoZXhjZXB0KSB7XG4gICAgY29uc3QgYnV0dG9ucyA9IHRoaXMudWkucXVlcnlTZWxlY3RvckFsbChcIi5vcGVuLXBhY2stYnV0dG9uXCIpO1xuXG4gICAgYnV0dG9ucy5mb3JFYWNoKChiKSA9PiB7XG4gICAgICBpZiAoYiAhPT0gZXhjZXB0ICYmICFiLmRhdGFzZXQub3BlbmVkKSB7XG4gICAgICAgIGIuY2xhc3NOYW1lID0gXCJvcGVuLXBhY2stYnV0dG9uXCI7XG4gICAgICAgIGIuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIG9wZW5QYWNrKHBhY2tDYW52YXNDb250cm9sbGVyLCBoaWRkZW5OYW1lLCBldmVudCkge1xuICAgIGNvbnN0IGNhbGxpbmdCdXR0b24gPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuXG4gICAgdGhpcy5kaXNhYmxlQWxsQnV0dG9ucyhjYWxsaW5nQnV0dG9uKTtcblxuICAgIGNvbnN0IGJhdGhlcklkID0gY2FsbGluZ0J1dHRvbi5kYXRhc2V0LmJhdGhlcklkO1xuICAgIGNvbnN0IGNhZmZlaW5lQ2FyZElkID0gY2FsbGluZ0J1dHRvbi5kYXRhc2V0LmNhZmZlaW5lQ2FyZElkO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNhbGxpbmdCdXR0b24uaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwic3Bpbm5lci1ib3JkZXIgc3Bpbm5lci1ib3JkZXItc21cIiByb2xlPVwic3RhdHVzXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9zcGFuPmA7XG4gICAgICBjYWxsaW5nQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcblxuICAgICAgbGV0IHN1Z2dlc3RlZFBhcmFtcyA9IGF3YWl0IHRoaXMuYWxnb2RDbGllbnQuZ2V0VHJhbnNhY3Rpb25QYXJhbXMoKS5kbygpO1xuXG4gICAgICAvL3ByZXBhcmUgb3B0aW4gdHhuXG4gICAgICBsZXQgb3B0aW5UeG4gPSBhbGdvc2RrLm1ha2VBc3NldFRyYW5zZmVyVHhuV2l0aFN1Z2dlc3RlZFBhcmFtc0Zyb21PYmplY3Qoe1xuICAgICAgICBmcm9tOiB0aGlzLndhbGxldENvbm5lY3Qud2FsbGV0QWRkcmVzcyxcbiAgICAgICAgdG86IHRoaXMud2FsbGV0Q29ubmVjdC53YWxsZXRBZGRyZXNzLFxuICAgICAgICBhbW91bnQ6IDAsXG4gICAgICAgIGFzc2V0SW5kZXg6IHBhcnNlSW50KGNhZmZlaW5lQ2FyZElkKSxcbiAgICAgICAgc3VnZ2VzdGVkUGFyYW1zOiBzdWdnZXN0ZWRQYXJhbXMsXG4gICAgICB9KTtcblxuICAgICAgLy9wcmVwYXJlIHRyYW5zZmVyIHR4blxuICAgICAgbGV0IHRyYW5zZmVyVHhuID1cbiAgICAgICAgYWxnb3Nkay5tYWtlQXNzZXRUcmFuc2ZlclR4bldpdGhTdWdnZXN0ZWRQYXJhbXNGcm9tT2JqZWN0KHtcbiAgICAgICAgICBmcm9tOiB0aGlzLmVzY3Jvd0FkZHJlc3MsXG4gICAgICAgICAgdG86IHRoaXMud2FsbGV0Q29ubmVjdC53YWxsZXRBZGRyZXNzLFxuICAgICAgICAgIGFtb3VudDogMSxcbiAgICAgICAgICBhc3NldEluZGV4OiBwYXJzZUludChjYWZmZWluZUNhcmRJZCksXG4gICAgICAgICAgc3VnZ2VzdGVkUGFyYW1zOiBzdWdnZXN0ZWRQYXJhbXMsXG4gICAgICAgIH0pO1xuXG4gICAgICBsZXQgYWxsVHhucyA9IFtvcHRpblR4biwgdHJhbnNmZXJUeG5dO1xuICAgICAgYWxnb3Nkay5hc3NpZ25Hcm91cElEKGFsbFR4bnMpO1xuXG4gICAgICBjb25zdCBzaWduZWRUeG5zID0gYXdhaXQgdGhpcy53YWxsZXRDb25uZWN0LnNpZ25UcmFuc2FjdGlvbnMoYWxsVHhucyk7XG5cbiAgICAgIGNvbnN0IHNpZ25lZFR4bkpzb24gPSB7XG4gICAgICAgIGJhdGhlcklkOiBiYXRoZXJJZCxcbiAgICAgICAgdHhuOiBidG9hKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgc2lnbmVkVHhuc1swXSkpLFxuICAgICAgICBzdWdnZXN0ZWRQYXJhbXM6IHN1Z2dlc3RlZFBhcmFtcyxcbiAgICAgIH07XG5cbiAgICAgIGNhbGxpbmdCdXR0b24uaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwic3Bpbm5lci1ib3JkZXIgc3Bpbm5lci1ib3JkZXItc21cIiByb2xlPVwic3RhdHVzXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9zcGFuPlxuICAgICAgT3BlbmluZy4uLmA7XG4gICAgICBjYWxsaW5nQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcblxuICAgICAgLy9jYWxsIGFwaVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgUEFDS1NfQVBJX1VSTCArIFwiL2NhZmZlaW5lLWNhcmQtcGFjay9jbGFpbS9cIixcbiAgICAgICAge1xuICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoc2lnbmVkVHhuSnNvbiksXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgQWNjZXB0OiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAvL2NvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgICAgY2FsbGluZ0J1dHRvbi5pbm5lckhUTUwgPSBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGNsYXNzPVwiYmkgYmktY2hlY2stY2lyY2xlLWZpbGxcIiB2aWV3Qm94PVwiMCAwIDE2IDE2XCI+XG4gICAgICAgIDxwYXRoIGQ9XCJNMTYgOEE4IDggMCAxIDEgMCA4YTggOCAwIDAgMSAxNiAwem0tMy45Ny0zLjAzYS43NS43NSAwIDAgMC0xLjA4LjAyMkw3LjQ3NyA5LjQxNyA1LjM4NCA3LjMyM2EuNzUuNzUgMCAwIDAtMS4wNiAxLjA2TDYuOTcgMTEuMDNhLjc1Ljc1IDAgMCAwIDEuMDc5LS4wMmwzLjk5Mi00Ljk5YS43NS43NSAwIDAgMC0uMDEtMS4wNXpcIi8+XG4gICAgICA8L3N2Zz5cbiAgICAgICAgT3BlbmVkYDtcbiAgICAgICAgY2FsbGluZ0J1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGNhbGxpbmdCdXR0b24uZGF0YXNldC5vcGVuZWQgPSB0cnVlO1xuXG4gICAgICAgIC8vYW5pbWF0ZSBwYWNrIG9wZW5pbmdcbiAgICAgICAgcGFja0NhbnZhc0NvbnRyb2xsZXIuYW5pbWF0ZSgpO1xuXG4gICAgICAgIGhpZGRlbk5hbWUuc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xuICAgICAgICBoaWRkZW5OYW1lLnN0eWxlW1wibWF4LWhlaWdodFwiXSA9IFwiNTAwcHhcIjtcblxuICAgICAgICB0aGlzLmVuYWJsZUFsbEJ1dHRvbnMoY2FsbGluZ0J1dHRvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgZGF0YTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge31cblxuICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIGFsZXJ0KGVyci5tZXNzYWdlKTtcblxuICAgICAgY2FsbGluZ0J1dHRvbi50ZXh0Q29udGVudCA9IFwiT3BlblwiO1xuICAgICAgY2FsbGluZ0J1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuXG4gICAgICB0aGlzLmVuYWJsZUFsbEJ1dHRvbnMoY2FsbGluZ0J1dHRvbik7XG4gICAgfVxuICB9XG59XG5cbmNsYXNzIFBhY2tDYW52YXNDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoY2FudmFzLCBjYWZmZWluZUNhcmRJZCwgYWxnb0luZGV4ZXIpIHtcbiAgICB0aGlzLmNhZmZlaW5lQ2FyZElkID0gY2FmZmVpbmVDYXJkSWQ7XG4gICAgdGhpcy5hbGdvSW5kZXhlciA9IGFsZ29JbmRleGVyO1xuXG4gICAgdGhpcy53aWR0aCA9IDY2MDtcbiAgICB0aGlzLmhlaWdodCA9IDk2MDtcbiAgICB0aGlzLmltYWdlV2lkdGggPSA5NjA7XG5cbiAgICB0aGlzLm51bUFuaW1hdGlvbkltYWdlID0gNDtcblxuICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmhlaWdodDtcblxuICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICB0aGlzLmNvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG5cbiAgICAvL3RoaXMuY29udGV4dC5maWxsU3R5bGUgPSAncmVkJztcbiAgICAvL3RoaXMuY29udGV4dC5maWxsUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG5cbiAgICB0aGlzLmNvbnRleHQudHJhbnNsYXRlKC0odGhpcy5pbWFnZVdpZHRoIC0gdGhpcy53aWR0aCkgLyAyLCAwKTtcblxuICAgIC8vbG9hZCBhbmltYXRpb24gaW1hZ2VzXG4gICAgLy9sb2FkIGNhZmZlaW5lIGNhcmQgaW1hZ2VcblxuICAgIHRoaXMubmZ0O1xuXG4gICAgdGhpcy5jYXJkSW1hZ2U7XG4gICAgdGhpcy5jYXJkTWFzaztcbiAgICB0aGlzLmFuaW1hdGlvbkltYWdlcztcbiAgfVxuXG4gIGFzeW5jIGxvYWQoKSB7XG4gICAgYXdhaXQgdGhpcy5sb2FkQWxsSW1hZ2UoKTtcbiAgfVxuXG4gIHN0YXRpYyBsb2FkSW1hZ2UocGF0aCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAvL2ltYWdlLmNyb3NzT3JpZ2luID0gJ0Fub255bW91cyc7XG5cbiAgICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgcmVzb2x2ZShpbWFnZSk7XG4gICAgICB9O1xuXG4gICAgICBpbWFnZS5vbmVycm9yID0gcmVqZWN0O1xuXG4gICAgICBpbWFnZS5zcmMgPSBwYXRoO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgbG9hZEFsbEltYWdlKCkge1xuICAgIHRoaXMuYW5pbWF0aW9uSW1hZ2VzID0gW107XG5cbiAgICAvL2Nob29zZSBhIGNvbG9yIHJhbmRvbWx5IGRlcGVuZGluZyBvbiBjYXJkIGFzc2V0IGlkXG4gICAgY29uc3QgY29sb3JJbmRleCA9IHRoaXMuY2FmZmVpbmVDYXJkSWQgJSA0O1xuICAgIC8vY29uc3QgY29sb3JJbmRleCA9IDA7XG5cbiAgICAvL2xvYWQgZmlyc3QgaW1hZ2UgYW5kIGRpc3BsYXkgaXQgYXMgc29vbiBhcyBwb3NzaWJsZVxuICAgIGNvbnN0IGluaXRpYWxJbWFnZSA9IGF3YWl0IFBhY2tDYW52YXNDb250cm9sbGVyLmxvYWRJbWFnZShcbiAgICAgIGBhc3NldHMvcGFjayR7Y29sb3JJbmRleH0tMC5wbmdgXG4gICAgKTtcbiAgICB0aGlzLmFuaW1hdGlvbkltYWdlcy5wdXNoKGluaXRpYWxJbWFnZSk7XG4gICAgdGhpcy5kcmF3UGFjaygpO1xuXG4gICAgLy9sb2FkIG1hc2tcbiAgICB0aGlzLmNhcmRNYXNrID0gYXdhaXQgUGFja0NhbnZhc0NvbnRyb2xsZXIubG9hZEltYWdlKFxuICAgICAgYGFzc2V0cy9jYXJkLW1hc2sucG5nYFxuICAgICk7XG5cbiAgICAvL2xvYWQgbmZ0IGltYWdlXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5hbGdvSW5kZXhlclxuICAgICAgLmxvb2t1cEFzc2V0QnlJRCh0aGlzLmNhZmZlaW5lQ2FyZElkKVxuICAgICAgLmRvKCk7XG4gICAgdGhpcy5uZnQgPSBuZXcgTkZUKHRoaXMuY2FmZmVpbmVDYXJkSWQsIHJlc3VsdFtcImFzc2V0XCJdKTtcbiAgICBhd2FpdCB0aGlzLm5mdC5sb2FkKHRoaXMuYWxnb0luZGV4ZXIpO1xuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuY2FyZEltYWdlID0gYXdhaXQgUGFja0NhbnZhc0NvbnRyb2xsZXIubG9hZEltYWdlKHRoaXMubmZ0LmltYWdlVXJsKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBFcnJvciBsb2FkaW5nIGltYWdlIGZyb20gcHJpbWFyeSwgdHJ5aW5nIHNlY29uZGFyeWApO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5jYXJkSW1hZ2UgPSBhd2FpdCBQYWNrQ2FudmFzQ29udHJvbGxlci5sb2FkSW1hZ2UoXG4gICAgICAgICAgdGhpcy5uZnQuaW1hZ2VVcmxBbHRlcm5hdGVcbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aGlzLmNhcmRJbWFnZSA9IGF3YWl0IFBhY2tDYW52YXNDb250cm9sbGVyLmxvYWRJbWFnZShcbiAgICAgICAgICBcImFzc2V0cy9lbXB0eS1jYXJkLnBuZ1wiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9sb2FkIGFuaW1hdGlvbiBpbWFnZXNcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IHRoaXMubnVtQW5pbWF0aW9uSW1hZ2U7IGkrKykge1xuICAgICAgY29uc3QgYW5pbWF0aW9uSW1hZ2UgPSBhd2FpdCBQYWNrQ2FudmFzQ29udHJvbGxlci5sb2FkSW1hZ2UoXG4gICAgICAgIGBhc3NldHMvcGFjayR7Y29sb3JJbmRleH0tJHtpfS5wbmdgXG4gICAgICApO1xuICAgICAgdGhpcy5hbmltYXRpb25JbWFnZXMucHVzaChhbmltYXRpb25JbWFnZSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZHJhd1BhY2soKSB7XG4gICAgLy9sb2FkIGltYWdlXG4gICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZShcbiAgICAgIHRoaXMuYW5pbWF0aW9uSW1hZ2VzWzBdLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICB0aGlzLmltYWdlV2lkdGgsXG4gICAgICB0aGlzLmhlaWdodFxuICAgICk7XG4gIH1cblxuICBzdGF0aWMgZWFzZUluT3V0UXVhZCh4KSB7XG4gICAgcmV0dXJuIHggPCAwLjUgPyAyICogeCAqIHggOiAxIC0gTWF0aC5wb3coLTIgKiB4ICsgMiwgMikgLyAyO1xuICB9XG5cbiAgYXN5bmMgYW5pbWF0ZSgpIHtcbiAgICBsZXQgZnJhbWVEdXJhdGlvbiA9IDAuMTU7XG5cbiAgICBsZXQgY3VycmVudEZyYW1lID0gMTtcblxuICAgIGNvbnN0IGludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAvL2NsZWFyIGNvbnRleHRcbiAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5pbWFnZVdpZHRoLCB0aGlzLmhlaWdodCk7XG5cbiAgICAgIC8vZHJhdyBtYXNrXG4gICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMuY2FyZE1hc2ssIDAsIDAsIHRoaXMuaW1hZ2VXaWR0aCwgdGhpcy5oZWlnaHQpO1xuXG4gICAgICB0aGlzLmNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJzb3VyY2UtaW5cIjtcblxuICAgICAgLy9kcmF3IGNhcmRcbiAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UoXG4gICAgICAgIHRoaXMuY2FyZEltYWdlLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICB0aGlzLmltYWdlV2lkdGgsXG4gICAgICAgIHRoaXMuaGVpZ2h0XG4gICAgICApO1xuXG4gICAgICB0aGlzLmNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJzb3VyY2Utb3ZlclwiO1xuXG4gICAgICAvL2RyYXcgcGFjayBhbmltYXRpb25cbiAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UoXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uSW1hZ2VzW2N1cnJlbnRGcmFtZV0sXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIHRoaXMuaW1hZ2VXaWR0aCxcbiAgICAgICAgdGhpcy5oZWlnaHRcbiAgICAgICk7XG5cbiAgICAgIGlmIChjdXJyZW50RnJhbWUgPT09IHRoaXMubnVtQW5pbWF0aW9uSW1hZ2UpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcblxuICAgICAgICBwYXJ0eS5zcGFya2xlcyh0aGlzLmNhbnZhcyk7XG5cbiAgICAgICAgLy9zdGFydCBzbGlkZSBhbmltYXRpb25cbiAgICAgICAgZnJhbWVEdXJhdGlvbiA9IDAuMDU7XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbkR1cmF0aW9uID0gMC44O1xuICAgICAgICBsZXQgY3VycmVudFRpbWUgPSAwO1xuXG4gICAgICAgIGNvbnN0IGludGVydmFsSWQyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHlPZmZzZXQgPVxuICAgICAgICAgICAgUGFja0NhbnZhc0NvbnRyb2xsZXIuZWFzZUluT3V0UXVhZChcbiAgICAgICAgICAgICAgY3VycmVudFRpbWUgLyBhbmltYXRpb25EdXJhdGlvblxuICAgICAgICAgICAgKSAqIHRoaXMuaGVpZ2h0O1xuXG4gICAgICAgICAgLy9jbGVhciBjb250ZXh0XG4gICAgICAgICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmltYWdlV2lkdGgsIHRoaXMuaGVpZ2h0KTtcblxuICAgICAgICAgIC8vZHJhdyBtYXNrXG4gICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgICAgIHRoaXMuY2FyZE1hc2ssXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VXaWR0aCxcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0XG4gICAgICAgICAgKTtcblxuICAgICAgICAgIHRoaXMuY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcInNvdXJjZS1pblwiO1xuXG4gICAgICAgICAgLy9kcmF3IGNhcmRcbiAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKFxuICAgICAgICAgICAgdGhpcy5jYXJkSW1hZ2UsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VXaWR0aCxcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0XG4gICAgICAgICAgKTtcblxuICAgICAgICAgIHRoaXMuY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcInNvdXJjZS1vdmVyXCI7XG5cbiAgICAgICAgICAvL2RyYXcgcGFjayBhbmltYXRpb25cbiAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKFxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25JbWFnZXNbdGhpcy5udW1BbmltYXRpb25JbWFnZV0sXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgeU9mZnNldCxcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VXaWR0aCxcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0XG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGN1cnJlbnRUaW1lICs9IGZyYW1lRHVyYXRpb247XG5cbiAgICAgICAgICBpZiAoY3VycmVudFRpbWUgPj0gYW5pbWF0aW9uRHVyYXRpb24pIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZDIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgZnJhbWVEdXJhdGlvbiAqIDEwMDApO1xuICAgICAgfVxuXG4gICAgICBjdXJyZW50RnJhbWUrKztcbiAgICB9LCBmcmFtZUR1cmF0aW9uICogMTAwMCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJQQUNLU19BUElfVVJMIiwiYXN5bmMiLCJsb2FkUGFja3MiLCJob2xkaW5ncyIsInJlc3VsdCIsImZldGNoIiwic3RhdHVzIiwianNvbiIsImNsYWltYWJsZVBhY2tzIiwiYmF0aGVyc0lkcyIsImJhdGhlcnMiLCJuZnRzIiwibWFwIiwibmZ0IiwiYXNzZXRJZCIsInBhY2siLCJwYWNrcyIsImluY2x1ZGVzIiwicHVzaCIsImVzY3Jvd0FkZHJlc3MiLCJFcnJvciIsIlBhY2tzIiwiQmFzZVBhZ2UiLCJjb25zdHJ1Y3RvciIsInN1cGVyIiwiYXJndW1lbnRzIiwidGhpcyIsInVpIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwiZmV0Y2hQYWNrcyIsInNsZWVwIiwiZGVsYXlUaW1lIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwicGFja1N0YXR1c1AiLCJxdWVyeVNlbGVjdG9yIiwibGVuZ3RoIiwicGx1cmFsIiwidGV4dENvbnRlbnQiLCJwYWNrc0RpdiIsImNsYXNzTmFtZSIsImFwcGVuZCIsInBhY2tEaXYiLCJwYWNrQ2FudmFzIiwiY29udHJvbGxlciIsIlBhY2tDYW52YXNDb250cm9sbGVyIiwiYWxnb0luZGV4ZXIiLCJsb2FkIiwidGhlbiIsImhpZGRlbk5hbWUiLCJzdHlsZSIsIm9wYWNpdHkiLCJuYW1lIiwib3BlbkJ1dHRvbiIsImRhdGFzZXQiLCJiYXRoZXJJZCIsImNhZmZlaW5lQ2FyZElkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9wZW5QYWNrIiwiYmluZCIsImJhdGhlciIsImZpbmQiLCJiYXRoZXJTcGFuIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJtZXNzYWdlIiwiZGlzYWJsZUFsbEJ1dHRvbnMiLCJleGNlcHQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImIiLCJvcGVuZWQiLCJkaXNhYmxlZCIsImVuYWJsZUFsbEJ1dHRvbnMiLCJwYWNrQ2FudmFzQ29udHJvbGxlciIsImV2ZW50IiwiY2FsbGluZ0J1dHRvbiIsImN1cnJlbnRUYXJnZXQiLCJzdWdnZXN0ZWRQYXJhbXMiLCJhbGdvZENsaWVudCIsImdldFRyYW5zYWN0aW9uUGFyYW1zIiwiZG8iLCJhbGxUeG5zIiwiZnJvbSIsIndhbGxldENvbm5lY3QiLCJ3YWxsZXRBZGRyZXNzIiwidG8iLCJhbW91bnQiLCJhc3NldEluZGV4IiwicGFyc2VJbnQiLCJzaWduZWRUeG5zIiwic2lnblRyYW5zYWN0aW9ucyIsInNpZ25lZFR4bkpzb24iLCJ0eG4iLCJidG9hIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiYXBwbHkiLCJyZXNwb25zZSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiaGVhZGVycyIsIkFjY2VwdCIsImRhdGEiLCJhbmltYXRlIiwiYWxlcnQiLCJjYW52YXMiLCJ3aWR0aCIsImhlaWdodCIsImltYWdlV2lkdGgiLCJudW1BbmltYXRpb25JbWFnZSIsImNvbnRleHQiLCJnZXRDb250ZXh0IiwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwidHJhbnNsYXRlIiwiY2FyZEltYWdlIiwiY2FyZE1hc2siLCJhbmltYXRpb25JbWFnZXMiLCJsb2FkQWxsSW1hZ2UiLCJzdGF0aWMiLCJwYXRoIiwicmVqZWN0IiwiaW1hZ2UiLCJJbWFnZSIsIm9ubG9hZCIsIm9uZXJyb3IiLCJzcmMiLCJjb2xvckluZGV4IiwiaW5pdGlhbEltYWdlIiwibG9hZEltYWdlIiwiZHJhd1BhY2siLCJsb29rdXBBc3NldEJ5SUQiLCJpbWFnZVVybCIsImltYWdlVXJsQWx0ZXJuYXRlIiwiaSIsImFuaW1hdGlvbkltYWdlIiwiZHJhd0ltYWdlIiwieCIsIk1hdGgiLCJwb3ciLCJmcmFtZUR1cmF0aW9uIiwiY3VycmVudEZyYW1lIiwiaW50ZXJ2YWxJZCIsInNldEludGVydmFsIiwiY2xlYXJSZWN0IiwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIiwiY2xlYXJJbnRlcnZhbCIsImFuaW1hdGlvbkR1cmF0aW9uIiwiY3VycmVudFRpbWUiLCJpbnRlcnZhbElkMiIsInlPZmZzZXQiLCJlYXNlSW5PdXRRdWFkIl0sInNvdXJjZVJvb3QiOiIifQ==