"use strict";(self.webpackChunkstudio=self.webpackChunkstudio||[]).push([[49,998],{6998:(e,t,s)=>{s.r(t),s.d(t,{BasePage:()=>a});class a{constructor(e,t,s,a){this.walletConnect=e,this.algodClient=s,this.algoIndexer=a,this.holdings=t}}},1049:(e,t,s)=>{s.r(t),s.d(t,{Wallet:()=>n});var a=s(6998);class n extends a.BasePage{constructor(){super(...arguments),this.ui=document.createElement("div"),this.ui.innerHTML="\n    <h1>Wallet</h1>\n\n    ",this.displayHoldings()}async displayHoldings(){if(this.holdings)for(const e in this.holdings){let t;if("bathers"===e){const{loadPacks:e}=await Promise.all([s.e(393),s.e(298)]).then(s.bind(s,5298));try{const s=await e();s&&s.length>0&&(t=s.map((e=>e[0])))}catch(e){console.error(e)}}const a=this.holdings[e],n=document.createElement("h2");if(n.textContent="My "+a.collections[0].displayName,this.ui.append(n),!a.nfts.length){const e=document.createElement("div");e.innerHTML='<div class="dark-text mb-5">No assets</div>',this.ui.append(e);continue}const i=document.createElement("div");i.className="row row-cols-2 row-cols-md-3 row-cols-lg-4 gy-4 mb-5";for(const s of a.nfts){const a=document.createElement("div");a.id=`nft-${s.assetId}`,a.className="col",s.amount>1&&s.amount;let n="";if("bathers"===e&&(n=`<div class="me-2"><a href="?grinder&bather=${s.assetId}" data-page-link="grinder&bather=${s.assetId}" title="Open in Grinder"><img src="assets/grinder-icon.png" width="32"></a></div>`),"caffeineCards"!=e){if(a.innerHTML=`\n                <div class="list-item h-100 d-flex flex-column">\n                    <img src="${s.imageUrl}" class="nft-img img-fluid" loading="lazy">\n                    <div class="list-item-text flex-fill d-flex flex-column">\n\n                        <div>\n                              <h4>${s.name}</h4>\n                              <span class="asset-id">${s.assetId}</span>\n                        </div>\n                     \n                        <div class="flex-fill d-flex flex-row justify-content-between align-items-end">\n\n                            <div class="d-flex align-items-end" id="left">\n                              \n                            </div>\n\n                            <div class="d-flex align-items-end">\n                              ${n}\n                              <div class="dropdown inline"></div>\n                            </div>\n                            \n                        </div>\n                    </div>\n\n                </div>\n            `,s.metadata.pop_battle_wins&&s.metadata.pop_battle_wins.length>0)for(const e of s.metadata.pop_battle_wins){let t,s;1===e.rank?(t="pop-battle-icon-1st.png",s="1st"):2===e.rank?(t="pop-battle-icon-2nd.png",s="2nd"):3===e.rank&&(t="pop-battle-icon-3rd.png",s="3rd");const n=document.createElement("div");n.dataset.bsTitle=`Pop Battle Winner (${s})`,n.dataset.bsToggle="tooltip",n.dataset.bsCustomClass="custom-tooltip",n.innerHTML=`<img src="assets/${t}" width="32" height="32">`,n.className="me-1",a.querySelector("#left").append(n),new window.bootstrap.Tooltip(n)}if(t&&t.includes(s.assetId)){const e=document.createElement("a");e.href="?packs",e.dataset.link="packs",e.className="d-inline-block",e.dataset.bsTitle="The pack tied to this Bather has not been opened yet.",e.dataset.bsToggle="tooltip",e.dataset.bsCustomClass="custom-tooltip",e.innerHTML='<img src="assets/pack-icon.png">',a.querySelector("#left").append(e),new window.bootstrap.Tooltip(e)}}else{let e="",t="";if(s.metadata||(t="⚠︎",e+="⚠︎"),s.metadata?.properties){for(const t in s.metadata.properties)e+=`<span class="custom-badge">${t}</span> `;e+="<br>"}if(s.metadata?.require){let e=[];for(const t in s.metadata.require)e.push(`<span class="custom-badge light">${t}: ${s.metadata.require[t]}</span>`);t=`<span class="custom-badge dark">Require:</span> ${e.join(" ")}`}a.innerHTML=`\n                <div class="list-item h-100 d-flex flex-column">\n                    <img src="${s.imageUrl}" class="nft-img img-fluid" loading="lazy">\n                    <div class="list-item-text flex-fill d-flex flex-column">\n                        <h4>${s.name}</h4>\n                        <div class="d-flex justify-content-between">\n                            <span class="asset-id">${s.assetId}</span>\n                            ${s.amount}\n                        </div>\n                        <div class="mt-3">\n                              ${e} ${t}<br>\n                        </div>\n                        <div class="flex-fill d-flex justify-content-end align-items-end mt-2">\n                              <div class="dropdown"></div>\n                        </div>\n                    </div>\n                </div>\n\n                \n            `}a.querySelector(".dropdown").innerHTML=`\n                <a href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">\n                <img src="assets/more.png" class="more">\n                </a>\n                <ul class="dropdown-menu">\n                    <li><a class="dropdown-item" href="https://www.nftexplorer.app/asset/${s.assetId}" target="_blank">NFTExplorer</a></li>\n                    <li><a class="dropdown-item" href="https://www.asalytic.app/nft/${s.assetId}" target="_blank">Asalytic</a></li>\n                    <li><a class="dropdown-item" href="https://www.randgallery.com/algo-collection/?address=${s.assetId}" target="_blank">RandGallery</a></li>\n                    <li><a class="dropdown-item" href="https://algoxnft.com/asset/${s.assetId}" target="_blank">ALGOxNFT</a></li>\n                    <li><a class="dropdown-item" href="https://shufl.app/detail/${s.assetId}" target="_blank">Shufl</a></li>\n                    <li><a class="dropdown-item" href="https://exa.market/asset/${s.assetId}" target="_blank">exa.market</a></li>\n                </ul>\n          `,i.append(a),s.handleImageError(a.querySelector(".nft-img"))}this.ui.append(i)}window.enableNavigationLinks()}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQVFULFFBQVFFLFNBQVcsVUFDM0JPLEVBQVFULFFBQVFHLGNBQWdCLGlCQUNoQ00sRUFBUS9DLFVBQVksbUNBRXBCd0IsRUFBT2tCLGNBQWMsU0FBU3hCLE9BQU82QixHQUNyQyxJQUFJSixPQUFPQyxVQUFVQyxRQUFRRSxFQUMvQixDQUVGLEtBQU8sQ0FDTCxJQUFJRyxFQUFrQixHQUNsQkMsRUFBVSxHQU9kLEdBTEs1QixFQUFJUSxXQUNQb0IsRUFBVSxLQUNWRCxHQUFtQixNQUdqQjNCLEVBQUlRLFVBQVVxQixXQUFZLENBQzVCLElBQUssTUFBTUMsS0FBZ0I5QixFQUFJUSxTQUFTcUIsV0FDdENGLEdBQW1CLDhCQUE4QkcsWUFHbkRILEdBQW1CLE1BQ3JCLENBRUEsR0FBSTNCLEVBQUlRLFVBQVVvQixRQUFTLENBQ3pCLElBQUlHLEVBQWMsR0FFbEIsSUFBSyxNQUFNQyxLQUFjaEMsRUFBSVEsU0FBU29CLFFBQ3BDRyxFQUFZRSxLQUNWLG9DQUFvQ0QsTUFBZWhDLEVBQUlRLFNBQVNvQixRQUFRSSxhQUk1RUosRUFBVSxtREFBbURHLEVBQVlHLEtBQ3ZFLE1BRUosQ0FFQWpDLEVBQU94QixVQUFZLHFHQUVDdUIsRUFBSU0sbUtBRU5OLEVBQUlPLHVJQUVtQlAsRUFBSUcsK0NBQzNCSCxFQUFJSSxxSEFHRnVCLEtBQW1CQywwVEFVekMsQ0FHb0IzQixFQUFPa0IsY0FBYyxhQUU3QjFDLFVBQVksc1RBS3lEdUIsRUFBSUcsc0lBQ1RILEVBQUlHLDJKQUNvQkgsRUFBSUcsb0lBQzlCSCxFQUFJRywrSEFDTkgsRUFBSUcsNEhBQ0pILEVBQUlHLGtGQUk1RUwsRUFBU0gsT0FBT00sR0FFaEJELEVBQUltQyxpQkFBaUJsQyxFQUFPa0IsY0FBYyxZQUM1QyxDQUVBakQsS0FBS0ksR0FBR3FCLE9BQU9HLEVBQ2pCLENBR0ZzQixPQUFPZ0IsdUJBQ1QsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRpby8uL3NyYy9wYWdlcy9iYXNlLmpzIiwid2VicGFjazovL3N0dWRpby8uL3NyYy9wYWdlcy93YWxsZXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnQgY2xhc3MgQmFzZVBhZ2Uge1xuXG4gICAgY29uc3RydWN0b3Iod2FsbGV0Q29ubmVjdCwgaG9sZGluZ3MsIGFsZ29kQ2xpZW50LCBhbGdvSW5kZXhlcil7XG5cbiAgICAgICAgdGhpcy53YWxsZXRDb25uZWN0ID0gd2FsbGV0Q29ubmVjdDtcbiAgICAgICAgdGhpcy5hbGdvZENsaWVudCA9IGFsZ29kQ2xpZW50O1xuICAgICAgICB0aGlzLmFsZ29JbmRleGVyID0gYWxnb0luZGV4ZXI7XG4gICAgICAgIHRoaXMuaG9sZGluZ3MgPSBob2xkaW5ncztcblxuICAgICAgICBcblxuICAgIH1cblxufSIsImltcG9ydCB7IEJhc2VQYWdlIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuXG5leHBvcnQgY2xhc3MgV2FsbGV0IGV4dGVuZHMgQmFzZVBhZ2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuXG4gICAgdGhpcy51aSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy51aS5pbm5lckhUTUwgPSBgXG4gICAgPGgxPldhbGxldDwvaDE+XG5cbiAgICBgO1xuXG4gICAgdGhpcy5kaXNwbGF5SG9sZGluZ3MoKTtcbiAgfVxuXG4gIGFzeW5jIGRpc3BsYXlIb2xkaW5ncygpIHtcbiAgICBpZiAodGhpcy5ob2xkaW5ncykge1xuICAgICAgZm9yIChjb25zdCBjb2xsZWN0aW9uTmFtZSBpbiB0aGlzLmhvbGRpbmdzKSB7XG4gICAgICAgIC8vbG9hZCBwYWNrc1xuICAgICAgICBsZXQgYmF0aGVyc1dpdGhQYWNrcztcbiAgICAgICAgaWYgKGNvbGxlY3Rpb25OYW1lID09PSBcImJhdGhlcnNcIikge1xuICAgICAgICAgIGNvbnN0IHsgbG9hZFBhY2tzIH0gPSBhd2FpdCBpbXBvcnQoXCIuL3BhY2tzLmpzXCIpO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBhY2tzID0gYXdhaXQgbG9hZFBhY2tzKCk7XG5cbiAgICAgICAgICAgIGlmIChwYWNrcyAmJiBwYWNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGJhdGhlcnNXaXRoUGFja3MgPSBwYWNrcy5tYXAoKHApID0+IHBbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvbGxlY3Rpb25Ib2xkaW5ncyA9IHRoaXMuaG9sZGluZ3NbY29sbGVjdGlvbk5hbWVdO1xuXG4gICAgICAgIGNvbnN0IGNvbGxlY3Rpb25UaXRsZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcbiAgICAgICAgY29sbGVjdGlvblRpdGxlRGl2LnRleHRDb250ZW50ID1cbiAgICAgICAgICBcIk15IFwiICsgY29sbGVjdGlvbkhvbGRpbmdzLmNvbGxlY3Rpb25zWzBdLmRpc3BsYXlOYW1lO1xuICAgICAgICB0aGlzLnVpLmFwcGVuZChjb2xsZWN0aW9uVGl0bGVEaXYpO1xuXG4gICAgICAgIGlmICghY29sbGVjdGlvbkhvbGRpbmdzLm5mdHMubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc3QgZW1wdHlEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgIGVtcHR5RGl2LmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwiZGFyay10ZXh0IG1iLTVcIj5ObyBhc3NldHM8L2Rpdj4nO1xuXG4gICAgICAgICAgdGhpcy51aS5hcHBlbmQoZW1wdHlEaXYpO1xuXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsaXN0VmlldyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGxpc3RWaWV3LmNsYXNzTmFtZSA9XG4gICAgICAgICAgXCJyb3cgcm93LWNvbHMtMiByb3ctY29scy1tZC0zIHJvdy1jb2xzLWxnLTQgZ3ktNCBtYi01XCI7XG5cbiAgICAgICAgZm9yIChjb25zdCBuZnQgb2YgY29sbGVjdGlvbkhvbGRpbmdzLm5mdHMpIHtcbiAgICAgICAgICBjb25zdCBuZnREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgIG5mdERpdi5pZCA9IGBuZnQtJHtuZnQuYXNzZXRJZH1gO1xuICAgICAgICAgIG5mdERpdi5jbGFzc05hbWUgPSBcImNvbFwiO1xuXG4gICAgICAgICAgY29uc3QgcXVhbnRpdHlTdHIgPSBuZnQuYW1vdW50ID4gMSA/IGAke25mdC5hbW91bnR9IGAgOiBcIlwiO1xuXG4gICAgICAgICAgbGV0IGdyaW5kZXJMaW5rID0gXCJcIjtcbiAgICAgICAgICBpZiAoY29sbGVjdGlvbk5hbWUgPT09IFwiYmF0aGVyc1wiKSB7XG4gICAgICAgICAgICBncmluZGVyTGluayA9IGA8ZGl2IGNsYXNzPVwibWUtMlwiPjxhIGhyZWY9XCI/Z3JpbmRlciZiYXRoZXI9JHtuZnQuYXNzZXRJZH1cIiBkYXRhLXBhZ2UtbGluaz1cImdyaW5kZXImYmF0aGVyPSR7bmZ0LmFzc2V0SWR9XCIgdGl0bGU9XCJPcGVuIGluIEdyaW5kZXJcIj48aW1nIHNyYz1cImFzc2V0cy9ncmluZGVyLWljb24ucG5nXCIgd2lkdGg9XCIzMlwiPjwvYT48L2Rpdj5gO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjb2xsZWN0aW9uTmFtZSAhPSBcImNhZmZlaW5lQ2FyZHNcIikge1xuICAgICAgICAgICAgbmZ0RGl2LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGlzdC1pdGVtIGgtMTAwIGQtZmxleCBmbGV4LWNvbHVtblwiPlxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7bmZ0LmltYWdlVXJsfVwiIGNsYXNzPVwibmZ0LWltZyBpbWctZmx1aWRcIiBsb2FkaW5nPVwibGF6eVwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGlzdC1pdGVtLXRleHQgZmxleC1maWxsIGQtZmxleCBmbGV4LWNvbHVtblwiPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0PiR7bmZ0Lm5hbWV9PC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYXNzZXQtaWRcIj4ke25mdC5hc3NldElkfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC1maWxsIGQtZmxleCBmbGV4LXJvdyBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1lbmRcIj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXggYWxpZ24taXRlbXMtZW5kXCIgaWQ9XCJsZWZ0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXggYWxpZ24taXRlbXMtZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2dyaW5kZXJMaW5rfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duIGlubGluZVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgO1xuXG4gICAgICAgICAgICAvL2FkZCBwb3AgYmF0dGxlIGljb24gaWYgbmVlZGVkXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIG5mdC5tZXRhZGF0YS5wb3BfYmF0dGxlX3dpbnMgJiZcbiAgICAgICAgICAgICAgbmZ0Lm1ldGFkYXRhLnBvcF9iYXR0bGVfd2lucy5sZW5ndGggPiAwXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBwb3BCYXR0bGVXaW4gb2YgbmZ0Lm1ldGFkYXRhLnBvcF9iYXR0bGVfd2lucykge1xuICAgICAgICAgICAgICAgIGxldCBpbWdVcmw7XG4gICAgICAgICAgICAgICAgbGV0IHJhbmtTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICBpZiAocG9wQmF0dGxlV2luLnJhbmsgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgIGltZ1VybCA9IFwicG9wLWJhdHRsZS1pY29uLTFzdC5wbmdcIjtcbiAgICAgICAgICAgICAgICAgIHJhbmtTdHJpbmcgPSBcIjFzdFwiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocG9wQmF0dGxlV2luLnJhbmsgPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgIGltZ1VybCA9IFwicG9wLWJhdHRsZS1pY29uLTJuZC5wbmdcIjtcbiAgICAgICAgICAgICAgICAgIHJhbmtTdHJpbmcgPSBcIjJuZFwiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocG9wQmF0dGxlV2luLnJhbmsgPT09IDMpIHtcbiAgICAgICAgICAgICAgICAgIGltZ1VybCA9IFwicG9wLWJhdHRsZS1pY29uLTNyZC5wbmdcIjtcbiAgICAgICAgICAgICAgICAgIHJhbmtTdHJpbmcgPSBcIjNyZFwiO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHBvcEJhdHRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgcG9wQmF0dGxlLmRhdGFzZXQuYnNUaXRsZSA9IGBQb3AgQmF0dGxlIFdpbm5lciAoJHtyYW5rU3RyaW5nfSlgO1xuICAgICAgICAgICAgICAgIHBvcEJhdHRsZS5kYXRhc2V0LmJzVG9nZ2xlID0gXCJ0b29sdGlwXCI7XG4gICAgICAgICAgICAgICAgcG9wQmF0dGxlLmRhdGFzZXQuYnNDdXN0b21DbGFzcyA9IFwiY3VzdG9tLXRvb2x0aXBcIjtcbiAgICAgICAgICAgICAgICBwb3BCYXR0bGUuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiYXNzZXRzLyR7aW1nVXJsfVwiIHdpZHRoPVwiMzJcIiBoZWlnaHQ9XCIzMlwiPmA7XG4gICAgICAgICAgICAgICAgcG9wQmF0dGxlLmNsYXNzTmFtZSA9IFwibWUtMVwiO1xuXG4gICAgICAgICAgICAgICAgbmZ0RGl2LnF1ZXJ5U2VsZWN0b3IoXCIjbGVmdFwiKS5hcHBlbmQocG9wQmF0dGxlKTtcbiAgICAgICAgICAgICAgICBuZXcgd2luZG93LmJvb3RzdHJhcC5Ub29sdGlwKHBvcEJhdHRsZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9BZGQgcGFjayBpY29uIGlmIG5lZWRlZFxuICAgICAgICAgICAgaWYgKGJhdGhlcnNXaXRoUGFja3MgJiYgYmF0aGVyc1dpdGhQYWNrcy5pbmNsdWRlcyhuZnQuYXNzZXRJZCkpIHtcbiAgICAgICAgICAgICAgY29uc3QgcGFja0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgICAgICAgICAgICBwYWNrRGl2LmhyZWYgPSBcIj9wYWNrc1wiXG4gICAgICAgICAgICAgIHBhY2tEaXYuZGF0YXNldC5saW5rID0gXCJwYWNrc1wiXG4gICAgICAgICAgICAgIHBhY2tEaXYuY2xhc3NOYW1lID0gXCJkLWlubGluZS1ibG9ja1wiXG4gICAgICAgICAgICAgIHBhY2tEaXYuZGF0YXNldC5ic1RpdGxlID1cbiAgICAgICAgICAgICAgICBcIlRoZSBwYWNrIHRpZWQgdG8gdGhpcyBCYXRoZXIgaGFzIG5vdCBiZWVuIG9wZW5lZCB5ZXQuXCI7XG4gICAgICAgICAgICAgIHBhY2tEaXYuZGF0YXNldC5ic1RvZ2dsZSA9IFwidG9vbHRpcFwiO1xuICAgICAgICAgICAgICBwYWNrRGl2LmRhdGFzZXQuYnNDdXN0b21DbGFzcyA9IFwiY3VzdG9tLXRvb2x0aXBcIjtcbiAgICAgICAgICAgICAgcGFja0Rpdi5pbm5lckhUTUwgPSAnPGltZyBzcmM9XCJhc3NldHMvcGFjay1pY29uLnBuZ1wiPic7XG5cbiAgICAgICAgICAgICAgbmZ0RGl2LnF1ZXJ5U2VsZWN0b3IoXCIjbGVmdFwiKS5hcHBlbmQocGFja0Rpdik7XG4gICAgICAgICAgICAgIG5ldyB3aW5kb3cuYm9vdHN0cmFwLlRvb2x0aXAocGFja0Rpdik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHByb3BlcnRpZXNOYW1lcyA9IFwiXCI7XG4gICAgICAgICAgICBsZXQgcmVxdWlyZSA9IFwiXCI7XG5cbiAgICAgICAgICAgIGlmICghbmZ0Lm1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgIHJlcXVpcmUgPSBcIuKaoO+4jlwiO1xuICAgICAgICAgICAgICBwcm9wZXJ0aWVzTmFtZXMgKz0gXCLimqDvuI5cIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5mdC5tZXRhZGF0YT8ucHJvcGVydGllcykge1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IHByb3BlcnR5TmFtZSBpbiBuZnQubWV0YWRhdGEucHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgIHByb3BlcnRpZXNOYW1lcyArPSBgPHNwYW4gY2xhc3M9XCJjdXN0b20tYmFkZ2VcIj4ke3Byb3BlcnR5TmFtZX08L3NwYW4+IGA7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBwcm9wZXJ0aWVzTmFtZXMgKz0gXCI8YnI+XCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuZnQubWV0YWRhdGE/LnJlcXVpcmUpIHtcbiAgICAgICAgICAgICAgbGV0IHJlcXVpcmVMaXN0ID0gW107XG5cbiAgICAgICAgICAgICAgZm9yIChjb25zdCByZXF1aXJlS2V5IGluIG5mdC5tZXRhZGF0YS5yZXF1aXJlKSB7XG4gICAgICAgICAgICAgICAgcmVxdWlyZUxpc3QucHVzaChcbiAgICAgICAgICAgICAgICAgIGA8c3BhbiBjbGFzcz1cImN1c3RvbS1iYWRnZSBsaWdodFwiPiR7cmVxdWlyZUtleX06ICR7bmZ0Lm1ldGFkYXRhLnJlcXVpcmVbcmVxdWlyZUtleV19PC9zcGFuPmBcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmVxdWlyZSA9IGA8c3BhbiBjbGFzcz1cImN1c3RvbS1iYWRnZSBkYXJrXCI+UmVxdWlyZTo8L3NwYW4+ICR7cmVxdWlyZUxpc3Quam9pbihcbiAgICAgICAgICAgICAgICBcIiBcIlxuICAgICAgICAgICAgICApfWA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5mdERpdi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxpc3QtaXRlbSBoLTEwMCBkLWZsZXggZmxleC1jb2x1bW5cIj5cbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIke25mdC5pbWFnZVVybH1cIiBjbGFzcz1cIm5mdC1pbWcgaW1nLWZsdWlkXCIgbG9hZGluZz1cImxhenlcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxpc3QtaXRlbS10ZXh0IGZsZXgtZmlsbCBkLWZsZXggZmxleC1jb2x1bW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoND4ke25mdC5uYW1lfTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJhc3NldC1pZFwiPiR7bmZ0LmFzc2V0SWR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7bmZ0LmFtb3VudH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7cHJvcGVydGllc05hbWVzfSAke3JlcXVpcmV9PGJyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC1maWxsIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtZW5kIGFsaWduLWl0ZW1zLWVuZCBtdC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd25cIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgYDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvL2FkZCBkcm9wZG93biB3aXRoIG9wdGlvbnNcbiAgICAgICAgICBjb25zdCBkcm9wZG93bkRpdiA9IG5mdERpdi5xdWVyeVNlbGVjdG9yKFwiLmRyb3Bkb3duXCIpO1xuXG4gICAgICAgICAgZHJvcGRvd25EaXYuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgcm9sZT1cImJ1dHRvblwiIGRhdGEtYnMtdG9nZ2xlPVwiZHJvcGRvd25cIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIj5cbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9tb3JlLnBuZ1wiIGNsYXNzPVwibW9yZVwiPlxuICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgICAgICAgICAgICAgIDxsaT48YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBocmVmPVwiaHR0cHM6Ly93d3cubmZ0ZXhwbG9yZXIuYXBwL2Fzc2V0LyR7bmZ0LmFzc2V0SWR9XCIgdGFyZ2V0PVwiX2JsYW5rXCI+TkZURXhwbG9yZXI8L2E+PC9saT5cbiAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGhyZWY9XCJodHRwczovL3d3dy5hc2FseXRpYy5hcHAvbmZ0LyR7bmZ0LmFzc2V0SWR9XCIgdGFyZ2V0PVwiX2JsYW5rXCI+QXNhbHl0aWM8L2E+PC9saT5cbiAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGhyZWY9XCJodHRwczovL3d3dy5yYW5kZ2FsbGVyeS5jb20vYWxnby1jb2xsZWN0aW9uLz9hZGRyZXNzPSR7bmZ0LmFzc2V0SWR9XCIgdGFyZ2V0PVwiX2JsYW5rXCI+UmFuZEdhbGxlcnk8L2E+PC9saT5cbiAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGhyZWY9XCJodHRwczovL2FsZ294bmZ0LmNvbS9hc3NldC8ke25mdC5hc3NldElkfVwiIHRhcmdldD1cIl9ibGFua1wiPkFMR094TkZUPC9hPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgIDxsaT48YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBocmVmPVwiaHR0cHM6Ly9zaHVmbC5hcHAvZGV0YWlsLyR7bmZ0LmFzc2V0SWR9XCIgdGFyZ2V0PVwiX2JsYW5rXCI+U2h1Zmw8L2E+PC9saT5cbiAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGhyZWY9XCJodHRwczovL2V4YS5tYXJrZXQvYXNzZXQvJHtuZnQuYXNzZXRJZH1cIiB0YXJnZXQ9XCJfYmxhbmtcIj5leGEubWFya2V0PC9hPjwvbGk+XG4gICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICBgO1xuXG4gICAgICAgICAgbGlzdFZpZXcuYXBwZW5kKG5mdERpdik7XG5cbiAgICAgICAgICBuZnQuaGFuZGxlSW1hZ2VFcnJvcihuZnREaXYucXVlcnlTZWxlY3RvcihcIi5uZnQtaW1nXCIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudWkuYXBwZW5kKGxpc3RWaWV3KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB3aW5kb3cuZW5hYmxlTmF2aWdhdGlvbkxpbmtzKCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJCYXNlUGFnZSIsImNvbnN0cnVjdG9yIiwid2FsbGV0Q29ubmVjdCIsImhvbGRpbmdzIiwiYWxnb2RDbGllbnQiLCJhbGdvSW5kZXhlciIsInRoaXMiLCJXYWxsZXQiLCJzdXBlciIsImFyZ3VtZW50cyIsInVpIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwiZGlzcGxheUhvbGRpbmdzIiwiYXN5bmMiLCJjb2xsZWN0aW9uTmFtZSIsImJhdGhlcnNXaXRoUGFja3MiLCJsb2FkUGFja3MiLCJwYWNrcyIsImxlbmd0aCIsIm1hcCIsInAiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJjb2xsZWN0aW9uSG9sZGluZ3MiLCJjb2xsZWN0aW9uVGl0bGVEaXYiLCJ0ZXh0Q29udGVudCIsImNvbGxlY3Rpb25zIiwiZGlzcGxheU5hbWUiLCJhcHBlbmQiLCJuZnRzIiwiZW1wdHlEaXYiLCJsaXN0VmlldyIsImNsYXNzTmFtZSIsIm5mdCIsIm5mdERpdiIsImlkIiwiYXNzZXRJZCIsImFtb3VudCIsImdyaW5kZXJMaW5rIiwiaW1hZ2VVcmwiLCJuYW1lIiwibWV0YWRhdGEiLCJwb3BfYmF0dGxlX3dpbnMiLCJwb3BCYXR0bGVXaW4iLCJpbWdVcmwiLCJyYW5rU3RyaW5nIiwicmFuayIsInBvcEJhdHRsZSIsImRhdGFzZXQiLCJic1RpdGxlIiwiYnNUb2dnbGUiLCJic0N1c3RvbUNsYXNzIiwicXVlcnlTZWxlY3RvciIsIndpbmRvdyIsImJvb3RzdHJhcCIsIlRvb2x0aXAiLCJpbmNsdWRlcyIsInBhY2tEaXYiLCJocmVmIiwibGluayIsInByb3BlcnRpZXNOYW1lcyIsInJlcXVpcmUiLCJwcm9wZXJ0aWVzIiwicHJvcGVydHlOYW1lIiwicmVxdWlyZUxpc3QiLCJyZXF1aXJlS2V5IiwicHVzaCIsImpvaW4iLCJoYW5kbGVJbWFnZUVycm9yIiwiZW5hYmxlTmF2aWdhdGlvbkxpbmtzIl0sInNvdXJjZVJvb3QiOiIifQ==